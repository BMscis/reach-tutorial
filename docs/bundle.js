var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t){let n;return function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(t,(e=>n=e))(),n}function a(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function p(){return h(" ")}function g(){return h("")}function v(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function y(e){return function(t){return t.preventDefault(),e.call(this,t)}}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function w(e,t){e.value=null==t?"":t}function S(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function E(e,t,n){e.classList[n?"add":"remove"](t)}let A;function C(e){A=e}function _(){if(!A)throw new Error("Function called outside component initialization");return A}function x(e){_().$$.on_mount.push(e)}function I(e){_().$$.on_destroy.push(e)}const T=[],P=[],k=[],O=[],N=Promise.resolve();let M=!1;function L(e){k.push(e)}const R=new Set;let U=0;function D(){const e=A;do{for(;U<T.length;){const e=T[U];U++,C(e),B(e.$$)}for(C(null),T.length=0,U=0;P.length;)P.pop()();for(let e=0;e<k.length;e+=1){const t=k[e];R.has(t)||(R.add(t),t())}k.length=0}while(T.length);for(;O.length;)O.pop()();M=!1,R.clear(),C(e)}function B(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const j=new Set;let F;function z(){F={r:0,c:[],p:F}}function K(){F.r||r(F.c),F=F.p}function q(e,t){e&&e.i&&(j.delete(e),e.i(t))}function H(e,t,n,r){if(e&&e.o){if(j.has(e))return;j.add(e),F.c.push((()=>{j.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function V(e,t){const n=t.token={};function r(e,r,i,o){if(t.token!==n)return;t.resolved=o;let s=t.ctx;void 0!==i&&(s=s.slice(),s[i]=o);const a=e&&(t.current=e)(s);let u=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(z(),H(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),K())})):t.block.d(1),a.c(),q(a,1),a.m(t.mount(),t.anchor),u=!0),t.block=a,t.blocks&&(t.blocks[r]=a),u&&D()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=_();if(e.then((e=>{C(n),r(t.then,1,t.value,e),C(null)}),(e=>{if(C(n),r(t.catch,2,t.error,e),C(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var i}function W(e,t,n){const r=t.slice(),{resolved:i}=e;e.current===e.then&&(r[e.value]=i),e.current===e.catch&&(r[e.error]=i),e.block.p(r,n)}function G(e){e&&e.c()}function J(e,n,o,s){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=e.$$;a&&a.m(n,o),s||L((()=>{const n=u.map(t).filter(i);c?c.push(...n):r(n),e.$$.on_mount=[]})),l.forEach(L)}function Z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(T.push(e),M||(M=!0,N.then(D)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(t,i,o,s,a,u,c,f=[-1]){const d=A;C(t);const h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||d.$$.root};c&&c(h.root);let p=!1;if(h.ctx=o?o(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&a(h.ctx[e],h.ctx[e]=i)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](i),p&&Q(t,e)),n})):[],h.update(),p=!0,r(h.before_update),h.fragment=!!s&&s(h.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);h.fragment&&h.fragment.l(e),e.forEach(l)}else h.fragment&&h.fragment.c();i.intro&&q(t.$$.fragment),J(t,i.target,i.anchor,i.customElement),D()}C(d)}class X{$destroy(){Z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var $,ee=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},te=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ne=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(te(arguments[t]));return e},re={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}($||($={}));var ie=function(){function e(e,t){void 0===t&&(t=$.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=re[s],u=re[t];if(u>=a){var c=console.log.bind(console);t===$.ERROR&&console.error&&(c=console.error.bind(console)),t===$.WARN&&console.warn&&(c=console.warn.bind(console));var l="["+t+"] "+this._ts()+" "+this.name,f="";if(1===i.length&&"string"==typeof i[0])c(f=l+" - "+i[0]);else if(1===i.length)f=l+" "+i[0],c(l,i[0]);else if("string"==typeof i[0]){var d=i.slice(1);1===d.length&&(d=d[0]),f=l+" - "+i[0]+" "+d,c(l+" - "+i[0],d)}else f=l+" "+i,c(l,i);try{for(var h=ee(this._pluggables),p=h.next();!p.done;p=h.next()){var g=p.value,v={message:f,timestamp:Date.now()};g.pushLogs([v])}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,ne([$.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),oe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},se=new ie("Amplify"),ae=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=ie,this.ServiceWorker=null}return e.prototype.register=function(e){se.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):se.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),se.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=oe(e,2);n[0];var r=n[1];Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)}))},e}()),ue={userAgent:"aws-amplify/4.4.2 js",product:"",navigator:null,isReactNative:!1};if("undefined"!=typeof navigator&&navigator.product)if(ue.product=navigator.product||"",ue.navigator=navigator||null,"ReactNative"===navigator.product)ue.userAgent="aws-amplify/4.4.2 react-native",ue.isReactNative=!0;else ue.userAgent="aws-amplify/4.4.2 js",ue.isReactNative=!1;var ce=function(){return ue.userAgent},le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},le.apply(this,arguments)},fe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},de=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fe(arguments[t]));return e},he=new ie("Hub"),pe="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var ge=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void he.warn("No listeners for "+e);this.patterns=de(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void he.warn("No listeners for "+e);this.listeners[e]=de(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===pe||he.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:le({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){he.error(e)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))he.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!=typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){he.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(e){he.error(e)}})),this.patterns.length>0){if(!n.message)return void he.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=fe(n).slice(1),o=le(le({},e),{patternInfo:r});try{t.callback(o)}catch(e){he.error(e)}}}))}},e}(),ve=new ge("__default__"),ye=new ie("I18n"),me=function(){function e(e){this._options=null,this._lang=null,this._dict={},this._options=Object.assign({},e),this._lang=this._options.language,!this._lang&&"undefined"!=typeof window&&window&&window.navigator&&(this._lang=window.navigator.language),ye.debug(this._lang)}return e.prototype.setLanguage=function(e){this._lang=e},e.prototype.get=function(e,t){if(void 0===t&&(t=void 0),!this._lang)return void 0!==t?t:e;var n=this._lang,r=this.getByLanguage(e,n);return r||(n.indexOf("-")>0&&(r=this.getByLanguage(e,n.split("-")[0])),r||(void 0!==t?t:e))},e.prototype.getByLanguage=function(e,t,n){if(void 0===n&&(n=null),!t)return n;var r=this._dict[t];return r?r[e]:n},e.prototype.putVocabulariesForLanguage=function(e,t){var n=this._dict[e];n||(n=this._dict[e]={}),Object.assign(n,t)},e.prototype.putVocabularies=function(e){var t=this;Object.keys(e).map((function(n){t.putVocabulariesForLanguage(n,e[n])}))},e}(),be=new ie("I18n"),we=null,Se=null,Ee=function(){function e(){}return e.configure=function(t){return be.debug("configure I18n"),t?(we=Object.assign({},we,t.I18n||t),e.createInstance(),we):we},e.getModuleName=function(){return"I18n"},e.createInstance=function(){be.debug("create I18n instance"),Se||(Se=new me(we))},e.setLanguage=function(t){return e.checkConfig(),Se.setLanguage(t)},e.get=function(t,n){return e.checkConfig()?Se.get(t,n):void 0===n?t:n},e.putVocabulariesForLanguage=function(t,n){return e.checkConfig(),Se.putVocabulariesForLanguage(t,n)},e.putVocabularies=function(t){return e.checkConfig(),Se.putVocabularies(t)},e.checkConfig=function(){return Se||(Se=new me(we)),!0},e}();ae.register(Ee);var Ae=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],Ce=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},_e=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return void 0===o?void 0===i?0:1*r:void 0===i||i<o?-1*r:i>o?1*r:0})),!0},xe=function(e,t){var n=Object.assign({},e);return t&&("string"==typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},Ie=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=Ae.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},Te=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},Pe=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},ke=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},Oe=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},Ne=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}},Me=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!Re(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=n.includes(i)?e[i]:Me(e[i],t,n)}return r},Le=function(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),!Re(e))return e;var r={};for(var i in e){if(e.hasOwnProperty(i))r[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=n.includes(i)?e[i]:Le(e[i],t,n)}return r},Re=function(e){return!(!(e instanceof Object)||e instanceof Array||e instanceof Function||e instanceof Number||e instanceof String||e instanceof Boolean)},Ue=function(){function e(){}return e.isEmpty=Ce,e.sortByField=_e,e.objectLessAttributes=xe,e.filenameToContentType=Ie,e.isTextFile=Te,e.generateRandomString=Pe,e.makeQuerablePromise=ke,e.isWebWorker=Oe,e.browserOrNode=Ne,e.transferKeyToLowerCase=Me,e.transferKeyToUpperCase=Le,e.isStrictObject=Re,e}(),De="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function je(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}function Fe(e){var t={exports:{}};return e(t,t.exports),t.exports}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var ze=function(e,t){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},ze(e,t)};function Ke(e,t){function n(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qe=function(){return qe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qe.apply(this,arguments)};function He(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Ve(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function We(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function Ge(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Ze(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Je(arguments[t]));return e}function Qe(e){return this instanceof Qe?(this.v=e,this):new Qe(e)}function Ye(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{!function(e){e.value instanceof Qe?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Xe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ge(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}var $e=Object.freeze({__proto__:null,__extends:Ke,get __assign(){return qe},__rest:He,__decorate:function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:Ve,__generator:We,__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Ge,__read:Je,__spread:Ze,__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},__await:Qe,__asyncGenerator:Ye,__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:Qe(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:Xe,__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),et=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tt=Math.pow(2,53)-1,nt=Object.defineProperty({BLOCK_SIZE:64,DIGEST_LENGTH:32,KEY:et,INIT:[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],MAX_HASHABLE_LENGTH:tt},"__esModule",{value:!0}),rt=function(){function e(){this.state=Int32Array.from(nt.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>nt.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===nt.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%nt.BLOCK_SIZE>=nt.BLOCK_SIZE-8){for(var r=this.bufferLength;r<nt.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<nt.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(nt.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(nt.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(nt.DIGEST_LENGTH);for(r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=0;l<nt.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var f=this.temp[l-2],d=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[l-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(h+this.temp[l-16]|0)}var p=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&u)|0)+(c+(nt.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;c=u,u=a,a=s,s=o+p|0,o=i,i=r,r=n,n=p+g|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=s,t[5]+=a,t[6]+=u,t[7]+=c},e}(),it=rt,ot=Object.defineProperty({RawSha256:it},"__esModule",{value:!0});var st=Object.freeze({__proto__:null,fromUtf8:function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},toUtf8:function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),at=je($e),ut=je(st),ct=function(){function e(e){if(this.hash=new ot.RawSha256,e){this.outer=new ot.RawSha256;var t=function(e){var t=ft(e);if(t.byteLength>nt.BLOCK_SIZE){var n=new ot.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(nt.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(nt.BLOCK_SIZE);n.set(t);for(var r=0;r<nt.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)&&!this.error)try{this.hash.update(ft(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return at.__awaiter(this,void 0,void 0,(function(){return at.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e}(),lt=ct;function ft(e){return"string"==typeof e?ut.fromUtf8(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}for(var dt=Object.defineProperty({Sha256:lt},"__esModule",{value:!0}),ht=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),at.__exportStar(dt,t)})),pt={},gt={},vt=0;vt<256;vt++){var yt=vt.toString(16).toLowerCase();1===yt.length&&(yt="0"+yt),pt[vt]=yt,gt[yt]=vt}function mt(e){for(var t="",n=0;n<e.byteLength;n++)t+=pt[e[n]];return t}
/*! https://mths.be/punycode v1.3.2 by @mathias */var bt=Fe((function(e,t){!function(n){var r=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o="object"==typeof De&&De;o.global!==o&&o.window!==o&&o.self!==o||(n=o);var s,a,u=2147483647,c=36,l=/^xn--/,f=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,g=String.fromCharCode;function v(e){throw RangeError(h[e])}function y(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+y((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return y(e,(function(e){var t="";return e>65535&&(t+=g((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=g(e)})).join("")}function S(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=c)e=p(e/35);return p(r+36*e/(e+38))}function A(e){var t,n,r,i,o,s,a,l,f,d,h,g=[],y=e.length,m=0,b=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=m,s=1,a=c;i>=y&&v("invalid-input"),((l=(h=e.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:c)>=c||l>p((u-m)/s))&&v("overflow"),m+=l*s,!(l<(f=a<=S?1:a>=S+26?26:a-S));a+=c)s>p(u/(d=c-f))&&v("overflow"),s*=d;S=E(m-o,t=g.length+1,0==o),p(m/t)>u-b&&v("overflow"),b+=p(m/t),m%=t,g.splice(m++,0,b)}return w(g)}function C(e){var t,n,r,i,o,s,a,l,f,d,h,y,m,w,A,C=[];for(y=(e=b(e)).length,t=128,n=0,o=72,s=0;s<y;++s)(h=e[s])<128&&C.push(g(h));for(r=i=C.length,i&&C.push("-");r<y;){for(a=u,s=0;s<y;++s)(h=e[s])>=t&&h<a&&(a=h);for(a-t>p((u-n)/(m=r+1))&&v("overflow"),n+=(a-t)*m,t=a,s=0;s<y;++s)if((h=e[s])<t&&++n>u&&v("overflow"),h==t){for(l=n,f=c;!(l<(d=f<=o?1:f>=o+26?26:f-o));f+=c)A=l-d,w=c-d,C.push(g(S(d+A%w,0))),l=p(A/w);C.push(g(S(l,0))),o=E(n,m,r==i),n=0,++r}++n,++t}return C.join("")}if(s={version:"1.3.2",ucs2:{decode:b,encode:w},decode:A,encode:C,toASCII:function(e){return m(e,(function(e){return f.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?A(e.slice(4).toLowerCase()):e}))}},r&&i)if(e.exports==r)i.exports=s;else for(a in s)s.hasOwnProperty(a)&&(r[a]=s[a]);else n.punycode=s}(De)})),wt=function(e){return"string"==typeof e},St=function(e){return"object"==typeof e&&null!==e},Et=function(e){return null===e},At=function(e){return null==e};function Ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _t=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var a=e.length;s>0&&a>s&&(a=s);for(var u=0;u<a;++u){var c,l,f,d,h=e[u].replace(o,"%20"),p=h.indexOf(n);p>=0?(c=h.substr(0,p),l=h.substr(p+1)):(c=h,l=""),f=decodeURIComponent(c),d=decodeURIComponent(l),Ct(i,f)?Array.isArray(i[f])?i[f].push(d):i[f]=[i[f],d]:i[f]=d}return i},xt=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},It=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var i=encodeURIComponent(xt(r))+n;return Array.isArray(e[r])?e[r].map((function(e){return i+encodeURIComponent(xt(e))})).join(t):i+encodeURIComponent(xt(e[r]))})).join(t):r?encodeURIComponent(xt(r))+n+encodeURIComponent(xt(e)):""},Tt=Fe((function(e,t){t.decode=t.parse=_t,t.encode=t.stringify=It})),Pt=Ht,kt=function(e){wt(e)&&(e=Ht(e));return e instanceof Ot?e.format():Ot.prototype.format.call(e)};function Ot(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Nt=/^([a-z0-9.+-]+:)/i,Mt=/:[0-9]*$/,Lt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Rt=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ut=["'"].concat(Rt),Dt=["%","/","?",";","#"].concat(Ut),Bt=["/","?","#"],jt=/^[+a-z0-9A-Z_-]{0,63}$/,Ft=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,zt={javascript:!0,"javascript:":!0},Kt={javascript:!0,"javascript:":!0},qt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ht(e,t,n){if(e&&St(e)&&e instanceof Ot)return e;var r=new Ot;return r.parse(e,t,n),r}Ot.prototype.parse=function(e,t,n){if(!wt(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),i=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(i);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(i);if(s=s.trim(),!n&&1===e.split("#").length){var a=Lt.exec(s);if(a)return this.path=s,this.href=s,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?Tt.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Nt.exec(s);if(u){var c=(u=u[0]).toLowerCase();this.protocol=c,s=s.substr(u.length)}if(n||u||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var l="//"===s.substr(0,2);!l||u&&Kt[u]||(s=s.substr(2),this.slashes=!0)}if(!Kt[u]&&(l||u&&!qt[u])){for(var f,d,h=-1,p=0;p<Bt.length;p++){-1!==(g=s.indexOf(Bt[p]))&&(-1===h||g<h)&&(h=g)}-1!==(d=-1===h?s.lastIndexOf("@"):s.lastIndexOf("@",h))&&(f=s.slice(0,d),s=s.slice(d+1),this.auth=decodeURIComponent(f)),h=-1;for(p=0;p<Dt.length;p++){var g;-1!==(g=s.indexOf(Dt[p]))&&(-1===h||g<h)&&(h=g)}-1===h&&(h=s.length),this.host=s.slice(0,h),s=s.slice(h),this.parseHost(),this.hostname=this.hostname||"";var v="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!v)for(var y=this.hostname.split(/\./),m=(p=0,y.length);p<m;p++){var b=y[p];if(b&&!b.match(jt)){for(var w="",S=0,E=b.length;S<E;S++)b.charCodeAt(S)>127?w+="x":w+=b[S];if(!w.match(jt)){var A=y.slice(0,p),C=y.slice(p+1),_=b.match(Ft);_&&(A.push(_[1]),C.unshift(_[2])),C.length&&(s="/"+C.join(".")+s),this.hostname=A.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=bt.toASCII(this.hostname));var x=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+x,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!zt[c])for(p=0,m=Ut.length;p<m;p++){var T=Ut[p];if(-1!==s.indexOf(T)){var P=encodeURIComponent(T);P===T&&(P=escape(T)),s=s.split(T).join(P)}}var k=s.indexOf("#");-1!==k&&(this.hash=s.substr(k),s=s.slice(0,k));var O=s.indexOf("?");if(-1!==O?(this.search=s.substr(O),this.query=s.substr(O+1),t&&(this.query=Tt.parse(this.query)),s=s.slice(0,O)):t&&(this.search="",this.query={}),s&&(this.pathname=s),qt[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){x=this.pathname||"";var N=this.search||"";this.path=x+N}return this.href=this.format(),this},Ot.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&St(this.query)&&Object.keys(this.query).length&&(o=Tt.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||qt[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},Ot.prototype.resolve=function(e){return this.resolveObject(Ht(e,!1,!0)).format()},Ot.prototype.resolveObject=function(e){if(wt(e)){var t=new Ot;t.parse(e,!1,!0),e=t}for(var n=new Ot,r=Object.keys(this),i=0;i<r.length;i++){var o=r[i];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var u=s[a];"protocol"!==u&&(n[u]=e[u])}return qt[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!qt[e.protocol]){for(var c=Object.keys(e),l=0;l<c.length;l++){var f=c[l];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||Kt[e.protocol])n.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),n.pathname=d.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var h=n.pathname||"",p=n.search||"";n.path=h+p}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),y=v||g||n.host&&e.pathname,m=y,b=n.pathname&&n.pathname.split("/")||[],w=(d=e.pathname&&e.pathname.split("/")||[],n.protocol&&!qt[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===b[0]?b[0]=n.host:b.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),y=y&&(""===d[0]||""===b[0])),v)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,b=d;else if(d.length)b||(b=[]),b.pop(),b=b.concat(d),n.search=e.search,n.query=e.query;else if(!At(e.search)){if(w)n.hostname=n.host=b.shift(),(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift());return n.search=e.search,n.query=e.query,Et(n.pathname)&&Et(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!b.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var S=b.slice(-1)[0],E=(n.host||e.host||b.length>1)&&("."===S||".."===S)||""===S,A=0,C=b.length;C>=0;C--)"."===(S=b[C])?b.splice(C,1):".."===S?(b.splice(C,1),A++):A&&(b.splice(C,1),A--);if(!y&&!m)for(;A--;A)b.unshift("..");!y||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),E&&"/"!==b.join("/").substr(-1)&&b.push("");var _,x=""===b[0]||b[0]&&"/"===b[0].charAt(0);w&&(n.hostname=n.host=x?"":b.length?b.shift():"",(_=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=_.shift(),n.host=n.hostname=_.shift()));return(y=y||n.host&&b.length)&&!x&&b.unshift(""),b.length?n.pathname=b.join("/"):(n.pathname=null,n.path=null),Et(n.pathname)&&Et(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},Ot.prototype.parseHost=function(){var e=this.host,t=Mt.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Vt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Gt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Jt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Zt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Jt(arguments[t]));return e},Qt=new ie("Util"),Yt=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return Vt(t,e),t}(Error);function Xt(e,t,n,r){return void 0===r&&(r=1),Wt(this,void 0,void 0,(function(){var i,o;return Gt(this,(function(s){switch(s.label){case 0:if("function"!=typeof e)throw Error("functionToRetry must be a function");Qt.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),s.label=1;case 1:return s.trys.push([1,3,,8]),[4,e.apply(void 0,Zt(t))];case 2:return[2,s.sent()];case 3:if(i=s.sent(),Qt.debug("error on "+e.name,i),(a=i)&&a.nonRetryable)throw Qt.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),Qt.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return s.sent(),[4,Xt(e,t,n,r+1)];case 5:return[2,s.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var a}))}))}var $t=3e5;function en(e){void 0===e&&(e=$t);return function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}var tn=function(e,t,n){return void 0===n&&(n=$t),Xt(e,t,en(n))},nn=function(){function e(){this._queue=[],this._pending=!1}return e.prototype.isLocked=function(){return this._pending},e.prototype.acquire=function(){var e=this,t=new Promise((function(t){return e._queue.push(t)}));return this._pending||this._dispatchNext(),t},e.prototype.runExclusive=function(e){return this.acquire().then((function(t){var n;try{n=e()}catch(e){throw t(),e}return Promise.resolve(n).then((function(e){return t(),e}),(function(e){throw t(),e}))}))},e.prototype._dispatchNext=function(){this._queue.length>0?(this._pending=!0,this._queue.shift()(this._dispatchNext.bind(this))):this._pending=!1},e}(),rn=nn,on=Fe((function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var o=function(){return"function"==typeof Symbol},s=function(e){return o()&&Boolean(Symbol[e])},a=function(e){return s(e)?Symbol[e]:"@@"+e};o()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var u=a("iterator"),c=a("observable"),l=a("species");function f(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function d(e){var t=e.constructor;return void 0!==t&&null===(t=t[l])&&(t=void 0),void 0!==t?t:E}function h(e){return e instanceof E}function p(e){p.log?p.log(e):setTimeout((function(){throw e}))}function g(e){Promise.resolve().then((function(){try{e()}catch(e){p(e)}}))}function v(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=f(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function y(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function m(e,t,n){e._state="running";var r=e._observer;try{var i=f(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(y(e),!i)throw n;i.call(r,n);break;case"complete":y(e),i&&i.call(r)}}catch(e){p(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function b(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void g((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(m(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void m(e,t,n);e._queue.push({type:t,value:n})}}var w=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new S(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return i(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(y(this),v(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),S=function(){function e(t){n(this,e),this._subscription=t}return i(e,[{key:"next",value:function(e){b(this._subscription,"next",e)}},{key:"error",value:function(e){b(this._subscription,"error",e)}},{key:"complete",value:function(){b(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),E=function(){function e(t){if(n(this,e),!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}return i(e,[{key:"subscribe",value:function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new w(e,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(d(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))}},{key:"concat",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=d(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=d(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))}},{key:c,value:function(){return this}}],[{key:"from",value:function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=f(t,c);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return h(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(s("iterator")&&(r=f(t,u)))return new n((function(e){g((function(){if(!e.closed){var n=!0,i=!1,o=void 0;try{for(var s,a=r.call(t)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;if(e.next(u),e.closed)return}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){g((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")}},{key:"of",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){g((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))}},{key:l,get:function(){return this}}]),e}();t.Observable=E,o()&&Object.defineProperty(E,Symbol("extensions"),{value:{symbol:c,hostReportError:p},configurable:!0})})),sn=on.Observable,an=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},un=function(){function e(){}return e.prototype.networkMonitor=function(t){if(Ne().isNode)return sn.from([{online:!0}]);var n=Oe()?self:window;return new sn((function(t){t.next({online:n.navigator.onLine});var r=function(){return t.next({online:!0})},i=function(){return t.next({online:!1})};return n.addEventListener("online",r),n.addEventListener("offline",i),e._observers.push(t),function(){n.removeEventListener("online",r),n.removeEventListener("offline",i),e._observers=e._observers.filter((function(e){return e!==t}))}}))},e._observerOverride=function(t){var n,r,i=function(n){if(n.closed)return e._observers=e._observers.filter((function(e){return e!==n})),"continue";n.next(t)};try{for(var o=an(e._observers),s=o.next();!s.done;s=o.next()){i(s.value)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e._observers=[],e}(),cn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},ln={clockOffset:0,getDateWithClockOffset:function(){return ln.clockOffset?new Date((new Date).getTime()+ln.clockOffset):new Date},getClockOffset:function(){return ln.clockOffset},getHeaderStringFromDate:function(e){return void 0===e&&(e=ln.getDateWithClockOffset()),e.toISOString().replace(/[:\-]|\.\d{3}/g,"")},getDateFromHeaderString:function(e){var t=cn(e.match(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2}).+/),7),n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=t[6];return new Date(Date.UTC(Number(n),Number(r)-1,Number(i),Number(o),Number(s),Number(a)))},isClockSkewed:function(e){return Math.abs(e.getTime()-ln.getDateWithClockOffset().getTime())>=3e5},isClockSkewError:function(e){if(!e.response||!e.response.headers)return!1;var t=e.response.headers;return Boolean(["BadRequestException","InvalidSignatureException"].includes(t["x-amzn-errortype"])&&(t.date||t.Date))},setClockOffset:function(e){ln.clockOffset=e}};
/*!
     * The MIT License (MIT)
     *
     * Copyright (c) 2016 Christian Speckner <cnspeckn@googlemail.com>
     *
     * Permission is hereby granted, free of charge, to any person obtaining a copy
     * of this software and associated documentation files (the "Software"), to deal
     * in the Software without restriction, including without limitation the rights
     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
     * copies of the Software, and to permit persons to whom the Software is
     * furnished to do so, subject to the following conditions:
     *
     * The above copyright notice and this permission notice shall be included in
     * all copies or substantial portions of the Software.
     *
     * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
     * THE SOFTWARE.
     */var fn=function(){return fn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fn.apply(this,arguments)},dn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hn=new ie("Signer"),pn="AWS4-HMAC-SHA256",gn=function(e,t){var n=new ht.Sha256(e);return n.update(t),n.digestSync()},vn=function(e){var t=e||"",n=new ht.Sha256;return n.update(t),mt(n.digestSync())},yn=function(e){return Object.keys(e).map((function(e){return e.toLowerCase()})).sort().join(";")},mn=function(e){var t,n,r=Pt(e.url);return[e.method||"/",encodeURIComponent(r.pathname).replace(/%2F/gi,"/"),(n=r.query,n&&0!==n.length?n.split("&").map((function(e){var t=e.split("=");if(1===t.length)return e;var n=t[1].replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}));return t[0]+"="+n})).sort((function(e,t){var n=e.split("=")[0],r=t.split("=")[0];return n===r?e<t?-1:1:n<r?-1:1})).join("&"):""),(t=e.headers,t&&0!==Object.keys(t).length?Object.keys(t).map((function(e){return{key:e.toLowerCase(),value:t[e]?t[e].trim().replace(/\s+/g," "):""}})).sort((function(e,t){return e.key<t.key?-1:1})).map((function(e){return e.key+":"+e.value})).join("\n")+"\n":""),yn(e.headers),vn(e.data)].join("\n")},bn=function(e){var t=(Pt(e.url).host.match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com$/)||[]).slice(1,3);return"es"===t[1]&&(t=t.reverse()),{service:e.service||t[0],region:e.region||t[1]}},wn=function(e,t,n){return[e,t,n,"aws4_request"].join("/")},Sn=function(e,t,n,r){return[e,n,r,vn(t)].join("\n")},En=function(e,t,n){hn.debug(n);var r=gn("AWS4"+e,t),i=gn(r,n.region),o=gn(i,n.service);return gn(o,"aws4_request")},An=function(e,t){return mt(gn(e,t))},Cn=function(){function e(){}return e.sign=function(e,t,n){void 0===n&&(n=null),e.headers=e.headers||{};var r=ln.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),i=r.substr(0,8),o=Pt(e.url);e.headers.host=o.host,e.headers["x-amz-date"]=r,t.session_token&&(e.headers["X-Amz-Security-Token"]=t.session_token);var s=mn(e);hn.debug(s);var a=n||bn(e),u=wn(i,a.region,a.service),c=Sn(pn,s,r,u),l=En(t.secret_key,i,a),f=An(l,c),d=function(e,t,n,r,i){return[e+" Credential="+t+"/"+n,"SignedHeaders="+r,"Signature="+i].join(", ")}(pn,t.access_key,u,yn(e.headers),f);return e.headers.Authorization=d,e},e.signUrl=function(e,t,n,r){var i="object"==typeof e?e.url:e,o="object"==typeof e?e.method:"GET",s="object"==typeof e?e.body:void 0,a=ln.getDateWithClockOffset().toISOString().replace(/[:\-]|\.\d{3}/g,""),u=a.substr(0,8),c=Pt(i,!0,!0);c.search;var l=dn(c,["search"]),f={host:l.host},d=n||bn({url:kt(l)}),h=d.region,p=d.service,g=wn(u,h,p),v=t.session_token&&"iotdevicegateway"!==p,y=fn(fn(fn({"X-Amz-Algorithm":pn,"X-Amz-Credential":[t.access_key,g].join("/"),"X-Amz-Date":a.substr(0,16)},v?{"X-Amz-Security-Token":""+t.session_token}:{}),r?{"X-Amz-Expires":""+r}:{}),{"X-Amz-SignedHeaders":Object.keys(f).join(",")}),m=mn({method:o,url:kt(fn(fn({},l),{query:fn(fn({},l.query),y)})),headers:f,data:s}),b=Sn(pn,m,a,g),w=En(t.secret_key,u,{region:h,service:p}),S=An(w,b),E=fn({"X-Amz-Signature":S},t.session_token&&{"X-Amz-Security-Token":t.session_token});return kt({protocol:l.protocol,slashes:!0,hostname:l.hostname,port:l.port,pathname:l.pathname,query:fn(fn(fn({},l.query),y),E)})},e}(),_n=function(){return _n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_n.apply(this,arguments)},xn=new ie("Parser"),In=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=_n(_n({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),xn.debug("parse config",e,"to amplifyconfig",n),n},Tn=function(){function e(){}return e.parseMobilehubConfig=In,e}(),Pn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),kn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}));var On=function(e){return"function"==typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296==(64512&i)&&56320==(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},Nn=function(e){return"function"==typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var s="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(s)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)},Mn=Object.freeze({__proto__:null,fromUtf8:On,toUtf8:Nn}),Ln={};var Rn=Object.freeze({__proto__:null,locateWindow:function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:Ln}}),Un=je(Mn),Dn=je(Rn),Bn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var i=(0,Dn.locateWindow)().msCrypto.subtle.importKey("raw",r(e),kn.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n(new Error("ImportKey completed without importing key."))},i.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,Dn.locateWindow)().msCrypto.subtle.sign(kn.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,Dn.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,Pn.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(r(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function r(e){return"string"==typeof e?(0,Un.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=n})),jn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var n="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:Un.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?n(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}})),Fn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}})),zn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}})),Kn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}})),qn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0,Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return jn.convertToBuffer}}),Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return Fn.isEmptyData}}),Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return zn.numToUint8}}),Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return Kn.uint32ArrayFrom}})})),Hn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,Dn.locateWindow)().crypto.subtle.importKey("raw",(0,qn.convertToBuffer)(e),kn.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,qn.isEmptyData)(e)){var t=(0,qn.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,Dn.locateWindow)().crypto.subtle.sign(kn.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,qn.isEmptyData)(this.toHash)?Promise.resolve(kn.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,Dn.locateWindow)().crypto.subtle.digest(kn.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=n})),Vn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),Wn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var n=function(){function e(){this.state=Int32Array.from(Vn.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>Vn.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===Vn.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%Vn.BLOCK_SIZE>=Vn.BLOCK_SIZE-8){for(var r=this.bufferLength;r<Vn.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<Vn.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(Vn.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(Vn.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(Vn.DIGEST_LENGTH);for(r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],s=t[4],a=t[5],u=t[6],c=t[7],l=0;l<Vn.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var f=this.temp[l-2],d=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,h=((f=this.temp[l-15])>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(h+this.temp[l-16]|0)}var p=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&u)|0)+(c+(Vn.KEY[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;c=u,u=a,a=s,s=o+p|0,o=i,i=r,r=n,n=p+g|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=s,t[5]+=a,t[6]+=u,t[7]+=c},e}();t.RawSha256=n})),Gn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){if(this.hash=new Wn.RawSha256,e){this.outer=new Wn.RawSha256;var t=function(e){var t=(0,qn.convertToBuffer)(e);if(t.byteLength>Vn.BLOCK_SIZE){var n=new Wn.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(Vn.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(Vn.BLOCK_SIZE);n.set(t);for(var r=0;r<Vn.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,qn.isEmptyData)(e)&&!this.error)try{this.hash.update((0,qn.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,at.__awaiter)(this,void 0,void 0,(function(){return(0,at.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=n})),Jn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(0,at.__exportStar)(Gn,t)})),Zn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function i(e){return e&&n.every((function(t){return"function"==typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!r(e)||"object"!=typeof e.crypto.subtle)&&i(e.crypto.subtle)},t.supportsSecureRandom=r,t.supportsSubtleCrypto=i,t.supportsZeroByteGCM=function(e){return at.__awaiter(this,void 0,void 0,(function(){var t;return at.__generator(this,(function(n){switch(n.label){case 0:if(!i(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}})),Qn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),at.__exportStar(Zn,t)}));Object.defineProperty(exports,"__esModule",{value:!0});var Yn=Object.freeze({__proto__:null});Object.defineProperty(exports,"__esModule",{value:!0});var Xn=Object.freeze({__proto__:null});Object.defineProperty(exports,"__esModule",{value:!0});var $n=Object.freeze({__proto__:null});Object.defineProperty(exports,"__esModule",{value:!0});var er=Object.freeze({__proto__:null}),tr=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"==typeof e}))}return!1}})),nr=je(Yn),rr=je(Xn),ir=je($n),or=je(er),sr=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),at.__exportStar(nr,t),at.__exportStar(rr,t),at.__exportStar(ir,t),at.__exportStar(or,t),at.__exportStar(tr,t)})),ar=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){(0,Qn.supportsWebCrypto)((0,Dn.locateWindow)())?this.hash=new Hn.Sha256(e):(0,sr.isMsWindow)((0,Dn.locateWindow)())?this.hash=new Bn.Sha256(e):this.hash=new Jn.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=n})),ur=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,at.__exportStar)(ar,t),Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return Bn.Sha256}}),Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return Hn.Sha256}})})),cr=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers},e}(),lr=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers},e.prototype.clone=function(){var t,n=new e(qe(qe({},this),{headers:qe({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return qe(qe({},e),((r={})[n]=Array.isArray(i)?Ze(i):i,r))}),{}))),n},e}();var fr=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,dr)},dr=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function hr(e){var t,n,r=[];try{for(var i=Ge(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=fr(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)r.push(s+"="+fr(a[u]));else{var l=s;(a||"string"==typeof a)&&(l+="="+fr(a)),r.push(l)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}for(var pr=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null==n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var s=hr(e.query);s&&(o+="?"+s)}var a=e.port,u=e.method,c=e.protocol+"//"+e.hostname+(a?":"+a:"")+o,l={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!=typeof AbortController&&(l.signal=n);var f,d=new Request(c,l),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=Ge(r.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new cr({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new cr({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),gr={},vr=new Array(64),yr=0,mr="A".charCodeAt(0),br="Z".charCodeAt(0);yr+mr<=br;yr++){var wr=String.fromCharCode(yr+mr);gr[wr]=yr,vr[yr]=wr}for(yr=0,mr="a".charCodeAt(0),br="z".charCodeAt(0);yr+mr<=br;yr++){wr=String.fromCharCode(yr+mr);var Sr=yr+26;gr[wr]=Sr,vr[Sr]=wr}for(yr=0;yr<10;yr++){gr[yr.toString(10)]=yr+52;wr=yr.toString(10),Sr=yr+52;gr[wr]=Sr,vr[Sr]=wr}gr["+"]=62,vr[62]="+",gr["/"]=63,vr[63]="/";function Er(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=gr[e[a]]<<6*(u-a),s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var l=Math.floor(s/8),f=0;f<l;f++){var d=8*(l-f-1);r.setUint8(c+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function Ar(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,s=Math.min(n+3,e.length);o<s;o++)r|=e[o]<<8*(s-o-1),i+=8;var a=Math.ceil(i/6);r<<=6*a-i;for(var u=1;u<=a;u++){var c=6*(a-u);t+=vr[(r&63<<c)>>c]}t+="==".slice(0,4-a)}return t}var Cr=function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return Ve(this,void 0,void 0,(function(){var t,n;return We(this,(function(r){switch(r.label){case 0:return[4,_r(e)];case 1:return t=r.sent(),n=Er(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return Ve(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return We(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(s=i.value)&&(a=t,(t=new Uint8Array(a.length+s.length)).set(a),t.set(s,a.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)};function _r(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),s=o>-1?o+1:i.length;t(i.substring(s))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}for(var xr=function(e){return function(){return Promise.reject(e)}},Ir={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Tr=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return Ve(void 0,void 0,void 0,(function(){var i;return We(this,(function(o){return(null===(i=null==e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=Ze(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),Ir)}}},Pr=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],kr=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Or=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],Nr=[500,502,503,504],Mr=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||kr.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},Lr=Fe((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),Rr=[],Ur=0;Ur<256;++Ur)Rr[Ur]=(Ur+256).toString(16).substr(1);var Dr,Br,jr=function(e,t){var n=t||0,r=Rr;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},Fr=0,zr=0;var Kr=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||Dr,s=void 0!==e.clockseq?e.clockseq:Br;if(null==o||null==s){var a=Lr();null==o&&(o=Dr=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=Br=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:zr+1,l=u-Fr+(c-zr)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>Fr)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Fr=u,zr=c,Br=s;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=o[h];return t||jr(i)};var qr=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||Lr)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||jr(i)},Hr=qr;Hr.v1=Kr,Hr.v4=qr;var Vr=Hr,Wr=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},Gr=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return Pr.includes(e.name)}(e)||Mr(e)||function(e){var t;return Or.includes(e.name)||Nr.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},Jr=function(){function e(e,t){var n,r,i,o,s,a,u,c;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(n=null==t?void 0:t.retryDecider)&&void 0!==n?n:Gr,this.delayDecider=null!==(r=null==t?void 0:t.delayDecider)&&void 0!==r?r:Wr,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:(s=o=500,a=o,u=function(e){return"TimeoutError"===e.name?10:5},c=function(e){return u(e)<=a},Object.freeze({hasRetryTokens:c,retrieveRetryTokens:function(e){if(!c(e))throw new Error("No retry token available");var t=u(e);return a-=t,t},releaseRetryTokens:function(e){a+=null!=e?e:1,a=Math.min(a,s)}}))}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return Ve(this,void 0,void 0,(function(){var e;return We(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return Ve(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return We(this,(function(l){switch(l.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=l.sent(),s=t.request,lr.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=Vr.v4()),a=function(){var a,c,l,f,d;return We(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),lr.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return a=h.sent(),c=a.response,l=a.output,u.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=r+1,l.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:l}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(Mr(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,l.label=2;case 2:return[5,a()];case 3:return"object"==typeof(c=l.sent())?[2,c.value]:[3,2];case 4:return[2]}}))}))},e}(),Zr=function(e){var t=Qr(e.maxAttempts);return qe(qe({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Jr(t)})},Qr=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Yr(e){if("string"==typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0}var Xr=Fe((function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),s=Math.max(i,o),a=0,u=e.map([t,n],(function(t){var n=s-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var a=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)a();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&s(t.prototype,n),r&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),s=u(n(95)),a=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(n[t]=s,r+=1)})),r>0){var s=Object.keys(n),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var f=this.satisfies(n[l]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=a.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(a.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=s,e.exports=t.default}})})),$r=Be(Xr),ei=function(e){var t=e.serviceId,n=e.clientVersion;return function(){return Ve(void 0,void 0,void 0,(function(){var e,r,i,o,s,a,u,c,l;return We(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?$r.parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null==e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(l=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==l?l:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}};var ti=function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,s=n.protocol,a=n.search;return a&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=Ge(e.split("&")),o=i.next();!o.done;o=i.next()){var s=Je(o.value.split("="),2),a=s[0],u=s[1],c=void 0===u?null:u;a=decodeURIComponent(a),c&&(c=decodeURIComponent(c)),a in r?Array.isArray(r[a])?r[a].push(c):r[a]=[r[a],c]:r[a]=c}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(a)),{hostname:r,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}},ni=function(e){var t;return qe(qe({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?ri(e):function(){return ii(e)},isCustomEndpoint:!!e.endpoint})},ri=function(e){var t=e.endpoint,n=e.urlParser;if("string"==typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},ii=function(e){return Ve(void 0,void 0,void 0,(function(){var t,n,r,i,o;return We(this,(function(s){switch(s.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},oi=function(e){if(!e.region)throw new Error("Region is missing");return qe(qe({},e),{region:si(e.region)})},si=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},ai="content-length";var ui={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},ci=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ve(t,void 0,void 0,(function(){var t,i,o,s,a;return We(this,(function(u){return t=r.request,lr.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(ai)&&void 0!==(s=e(i))&&(t.headers=qe(qe({},t.headers),((a={})["content-length"]=String(s),a)))),[2,n(qe(qe({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),ui)}}};var li={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},fi=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ve(void 0,void 0,void 0,(function(){var r,i;return We(this,(function(o){return lr.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),li)}}},di={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},hi=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return Ve(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f;return We(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),s?("function"==typeof s.info&&(c=u.output,l=c.$metadata,f=He(c,["$metadata"]),s.info({clientName:r,commandName:i,input:o(n.input),output:a(f),metadata:l})),[2,u]):[2,u]}}))}))}}),di)}}},pi="X-Amz-Date",gi="X-Amz-Signature",vi="X-Amz-Security-Token",yi="authorization",mi=pi.toLowerCase(),bi=[yi,mi,"date"],wi=gi.toLowerCase(),Si="x-amz-content-sha256",Ei=vi.toLowerCase(),Ai={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Ci=/^proxy-/,_i=/^sec-/,xi="AWS4-HMAC-SHA256",Ii="AWS4-HMAC-SHA256-PAYLOAD",Ti="aws4_request",Pi={},ki=[];function Oi(e,t,n){return e+"/"+t+"/"+n+"/"+Ti}function Ni(e,t,n){var r=new e(t);return r.update(n),r.digest()}function Mi(e,t,n){var r,i,o=e.headers,s={};try{for(var a=Ge(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,l=c.toLowerCase();(l in Ai||(null==t?void 0:t.has(l))||Ci.test(l)||_i.test(l))&&(!n||n&&!n.has(l))||(s[l]=o[c].trim().replace(/\s+/g," "))}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return s}function Li(e,t){var n=e.headers,r=e.body;return Ve(this,void 0,void 0,(function(){var e,i,o,s,a,u,c;return We(this,(function(l){switch(l.label){case 0:try{for(e=Ge(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===Si)return[2,n[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}return null!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"==typeof r||ArrayBuffer.isView(r)||(f=r,"function"==typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((s=new t).update(r),a=mt,[4,s.digest()]):[3,3];case 2:return[2,a.apply(void 0,[l.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function Ri(e){var t=e.headers,n=e.query,r=He(e,["headers","query"]);return qe(qe({},r),{headers:qe({},t),query:n?Ui(n):void 0})}function Ui(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return qe(qe({},t),((r={})[n]=Array.isArray(i)?Ze(i):i,r))}),{})}function Di(e){var t,n;e="function"==typeof e.clone?e.clone():Ri(e);try{for(var r=Ge(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;bi.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function Bi(e){return function(e){if("number"==typeof e)return new Date(1e3*e);if("string"==typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var ji=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath,a=void 0===s||s;this.service=i,this.sha256=o,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=Ki(r),this.credentialProvider=qi(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),Ve(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_;return We(this,(function(x){switch(x.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,l=t.signingService,[4,this.credentialProvider()];case 1:return f=x.sent(),null==c?[3,2]:(h=c,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=x.sent(),x.label=4;case 4:return d=h,p=Fi(r),g=p.longDate,v=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(y=Oi(v,d,null!=l?l:this.service),m=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"==typeof e.clone?e.clone():Ri(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=Ge(Object.keys(s)),l=c.next();!l.done;l=c.next()){var f=l.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=s[f],delete s[f])}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return qe(qe({},e),{headers:s,query:u})}(Di(e),{unhoistableHeaders:a}),f.sessionToken&&(m.query[vi]=f.sessionToken),m.query["X-Amz-Algorithm"]=xi,m.query["X-Amz-Credential"]=f.accessKeyId+"/"+y,m.query["X-Amz-Date"]=g,m.query["X-Amz-Expires"]=o.toString(10),b=Mi(m,s,u),m.query["X-Amz-SignedHeaders"]=zi(b),w=m.query,S=gi,E=this.getSignature,A=[g,y,this.getSigningKey(f,d,v,l)],C=this.createCanonicalRequest,_=[m,b],[4,Li(e,this.sha256)]);case 5:return[4,E.apply(this,A.concat([C.apply(this,_.concat([x.sent()]))]))];case 6:return w[S]=x.sent(),[2,m]}}))}))},e.prototype.sign=function(e,t){return Ve(this,void 0,void 0,(function(){return We(this,(function(n){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return Ve(this,void 0,void 0,(function(){var e,t,i,c,l,f,d,h,p,g,v;return We(this,(function(y){switch(y.label){case 0:return null==a?[3,1]:(t=a,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=y.sent(),y.label=3;case 3:return e=t,i=Fi(o),c=i.shortDate,l=i.longDate,f=Oi(c,e,null!=u?u:this.service),[4,Li({headers:{},body:r},this.sha256)];case 4:return d=y.sent(),(h=new this.sha256).update(n),g=mt,[4,h.digest()];case 5:return p=g.apply(void 0,[y.sent()]),v=[Ii,l,f,s,p,d].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,s=n.signingService;return Ve(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,f;return We(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null==o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,a=Fi(i).shortDate,l=(c=this.sha256).bind,[4,this.getSigningKey(t,n,a,s)];case 5:return(u=new(l.apply(c,[void 0,d.sent()]))).update(e),f=mt,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,s=n.unsignableHeaders,a=n.signingRegion,u=n.signingService;return Ve(this,void 0,void 0,(function(){var t,n,r,c,l,f,d,h,p,g,v;return We(this,(function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:return t=y.sent(),null==a?[3,2]:(r=a,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=y.sent(),y.label=4;case 4:return n=r,c=Di(e),l=Fi(i),f=l.longDate,d=l.shortDate,h=Oi(d,n,null!=u?u:this.service),c.headers[mi]=f,t.sessionToken&&(c.headers[Ei]=t.sessionToken),[4,Li(c,this.sha256)];case 5:return p=y.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=Ge(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(Si,c.headers)&&this.applyChecksum&&(c.headers[Si]=p),g=Mi(c,s,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(c,g,p))];case 6:return v=y.sent(),c.headers[yi]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+zi(g)+", Signature="+v,[2,c]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],s={},a=function(e){if(e.toLowerCase()===wi)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=fr(e)+"="+fr(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([fr(e)+"="+fr(n)])}),[]).join("&"))};try{for(var u=Ge(Object.keys(i).sort()),c=u.next();!c.done;c=u.next())a(c.value)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return s[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return Ve(this,void 0,void 0,(function(){var r,i;return We(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+mt(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return Ve(this,void 0,void 0,(function(){var i,o,s,a,u;return We(this,(function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,n];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=mt,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return Ve(void 0,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h;return We(this,(function(p){switch(p.label){case 0:return[4,Ni(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(s=n+":"+r+":"+i+":"+mt(o)+":"+t.sessionToken)in Pi)return[2,Pi[s]];for(ki.push(s);ki.length>50;)delete Pi[ki.shift()];a="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=Ge([n,r,i,Ti]),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[4,Ni(e,a,l)]);case 4:a=p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,Pi[s]=a]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),Fi=function(e){var t=Bi(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},zi=function(e){return Object.keys(e).sort().join(";")},Ki=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},qi=function(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Hi(e){var t,n=this,r=Vi(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?Vi(e.signer):function(){return Vi(e.region)().then((function(t){return Ve(n,void 0,void 0,(function(){return We(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=Je(t,2),i=n[0],s=n[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new ji({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},qe(qe({},e),{systemClockOffset:a,signingEscapePath:o,credentials:r,signer:t})}function Vi(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Wi=function(e){return new Date(Date.now()+e)};function Gi(e){return function(t,n){return function(r){return Ve(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d;return We(this,(function(h){switch(h.label){case 0:return lr.isInstance(r.request)?"function"!=typeof e.signer?[3,2]:[4,e.signer()]:[2,t(r)];case 1:return o=h.sent(),[3,3];case 2:o=e.signer,h.label=3;case 3:return i=o,a=t,u=[qe({},r)],d={},[4,i.sign(r.request,{signingDate:new Date(Date.now()+e.systemClockOffset),signingRegion:n.signing_region,signingService:n.signing_service})];case 4:return[4,a.apply(void 0,[qe.apply(void 0,u.concat([(d.request=h.sent(),d)]))])];case 5:return s=h.sent(),c=s.response.headers,(l=c&&(c.date||c.Date))&&(f=Date.parse(l),p=f,g=e.systemClockOffset,Math.abs(Wi(g).getTime()-p)>=3e5&&(e.systemClockOffset=f-Date.now())),[2,s]}var p,g}))}))}}}var Ji={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0};function Zi(e){return qe(qe({},e),{customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var Qi="user-agent",Yi=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Xi=function(e){var t=Je(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),s=n.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,r].filter((function(e){return e&&e.length>0})).map((function(e){return null==e?void 0:e.replace(Yi,"_")})).join("/")},$i={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},eo=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return Ve(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f;return We(this,(function(d){switch(d.label){case 0:return i=r.request,lr.isInstance(i)?(o=i.headers,s=(null===(l=null==t?void 0:t.userAgent)||void 0===l?void 0:l.map(Xi))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return a=d.sent().map(Xi),u=(null===(f=null==n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(Xi))||[],o["x-amz-user-agent"]=Ze(a,s,u).join(" "),c=Ze(a.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&c&&(o[Qi]=o[Qi]?o[Qi]+" "+c:c),[2,e(qe(qe({},r),{request:i}))]}}))}))}}),$i)}}},to=function(){var e=[],t=[],n=new Set,r=function(n){return e.forEach((function(e){n.add(e.middleware,qe({},e))})),t.forEach((function(e){n.addRelativeTo(e.middleware,qe({},e))})),n},i=function(e){var t=[];return e.before.forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Ze(i(e)))})),t.push(e),e.after.reverse().forEach((function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,Ze(i(e)))})),t},o=function(){var n=[],r=[],o={};e.forEach((function(e){var t=qe(qe({},e),{before:[],after:[]});t.name&&(o[t.name]=t),n.push(t)})),t.forEach((function(e){var t=qe(qe({},e),{before:[],after:[]});t.name&&(o[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=o[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var s,a=(s=n,s.sort((function(e,t){return no[t.step]-no[e.step]||ro[t.priority||"normal"]-ro[e.priority||"normal"]}))).map(i).reduce((function(e,t){return e.push.apply(e,Ze(t)),e}),[]);return a.map((function(e){return e.middleware}))},s={add:function(t,r){void 0===r&&(r={});var i=r.name,o=r.override,s=qe({step:"initialize",priority:"normal",middleware:t},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=e.findIndex((function(e){return e.name===i})),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+s.priority+" priority in "+s.step+" step.");e.splice(a,1)}n.add(i)}e.push(s)},addRelativeTo:function(e,r){var i=r.name,o=r.override,s=qe({middleware:e},r);if(i){if(n.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var a=t.findIndex((function(e){return e.name===i})),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+s.relation+' "'+s.toMiddleware+'" middleware.');t.splice(a,1)}n.add(i)}t.push(s)},clone:function(){return r(to())},use:function(e){e.applyToStack(s)},remove:function(r){return"string"==typeof r?function(r){var i=!1,o=function(e){return!e.name||e.name!==r||(i=!0,n.delete(r),!1)};return e=e.filter(o),t=t.filter(o),i}(r):function(r){var i=!1,o=function(e){return e.middleware!==r||(i=!0,e.name&&n.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i}(r)},removeByTag:function(r){var i=!1,o=function(e){var t=e.tags,o=e.name;return!t||!t.includes(r)||(o&&n.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=r(to());return t.use(e),t},applyToStack:r,resolve:function(e,t){var n,r;try{for(var i=Ge(o().reverse()),s=i.next();!s.done;s=i.next()){e=(0,s.value)(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},no={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ro={high:3,normal:2,low:1},io=function(){function e(e){this.middlewareStack=to(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!=typeof t?t:void 0,i="function"==typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),oo=function(){this.middlewareStack=to()};function so(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var ao=function(e){return Array.isArray(e)?e:[e]},uo=function(e){for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]["#text"]?e[t]=e[t]["#text"]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=uo(e[t]));return e},co=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,Ze([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};co.prototype=Object.create(String.prototype,{constructor:{value:co,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(co,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}Ke(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(co);var lo=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ho(e){var t=e.getUTCFullYear(),n=e.getUTCMonth(),r=e.getUTCDay(),i=e.getUTCDate(),o=e.getUTCHours(),s=e.getUTCMinutes(),a=e.getUTCSeconds();return lo[r]+", "+(i<10?"0"+i:""+i)+" "+fo[n]+" "+t+" "+(o<10?"0"+o:""+o)+":"+(s<10?"0"+s:""+s)+":"+(a<10?"0"+a:""+a)+" GMT"}var po="***SensitiveInformation***",go={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},vo={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function yo(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return Ve(void 0,void 0,void 0,(function(){var i,o;return We(this,(function(s){switch(s.label){case 0:return[4,n(r)];case 1:return i=s.sent().response,[4,t(i,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),go),r.add(function(e,t){return function(n,r){return function(r){return Ve(void 0,void 0,void 0,(function(){var i;return We(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n(qe(qe({},r),{request:i}))]}}))}))}}}(e,t),vo)}}}var mo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},bo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},wo=new ie("CognitoCredentials"),So=new Promise((function(e,t){return Ne().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(wo.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(wo.debug("not in the browser, directly resolved"),e())})),Eo=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return mo(this,void 0,void 0,(function(){return bo(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(wo.debug("need to wait for the Google SDK loaded"),[4,So]);case 1:e.sent(),this.initialized=!0,wo.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return Ne().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(wo.debug("google Auth undefined"),n(new Yt("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(wo.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new Yt("Failed to reload google auth response"))}))):n(new Yt("User is not signed in with Google"))})).catch((function(e){wo.debug("Failed to refresh google token",e),n(new Yt("Failed to refresh google token"))}))})):(wo.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),Ao=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Co=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},_o=new ie("CognitoCredentials"),xo=new Promise((function(e,t){return Ne().isBrowser?window.FB?(_o.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(_o.debug("not in the browser, directly resolved"),e())})),Io=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return Ao(this,void 0,void 0,(function(){return Co(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(_o.debug("need to wait for the Facebook SDK loaded"),[4,xo]);case 1:e.sent(),this.initialized=!0,_o.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(Ne().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return _o.debug(t),Promise.reject(new Yt(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){s="the jwtToken is undefined";_o.debug(s),n(new Yt(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";_o.debug(s),n(new Yt(s))}}),{scope:"public_profile,email"})}))},e}(),To=new Eo,Po=new Io,ko={},Oo=function(){function e(){}return e.setItem=function(e,t){return ko[e]=t,ko[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(ko,e)?ko[e]:void 0},e.removeItem=function(e){return delete ko[e]},e.clear=function(){return ko={}},e}(),No=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=Oo}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Mo=function(e,t){return Mo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Mo(e,t)};function Lo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Mo(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ro=function(){return Ro=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ro.apply(this,arguments)};function Uo(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Do(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Bo,jo,Fo,zo,Ko,qo,Ho,Vo,Wo,Go,Jo,Zo,Qo,Yo,Xo,$o,es,ts,ns,rs,is,os,ss,as,us,cs,ls,fs,ds,hs,ps,gs,vs,ys,ms,bs,ws,Ss,Es,As,Cs,_s,xs,Is,Ts,Ps,ks,Os,Ns,Ms,Ls,Rs,Us,Ds,Bs,js,Fs,zs="3.6.1",Ks="cognito-identity.{region}.amazonaws.com",qs=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Hs=new Set(["cn-north-1","cn-northwest-1"]),Vs=new Set(["us-iso-east-1"]),Ws=new Set(["us-isob-east-1"]),Gs=new Set(["us-gov-east-1","us-gov-west-1"]),Js={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:qs.has(e)&&(n={hostname:Ks.replace("{region}",e),partition:"aws"}),Hs.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Vs.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Ws.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Gs.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Ks.replace("{region}",e),partition:"aws"})}return Promise.resolve(Ro({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:ti},Zs=Ro(Ro({},Js),{runtime:"browser",base64Decoder:Er,base64Encoder:Ar,bodyLengthChecker:Yr,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:ei({serviceId:Js.serviceId,clientVersion:zs}),maxAttempts:3,region:xr("Region is missing"),requestHandler:new pr,sha256:ur.Sha256,streamCollector:Cr,utf8Decoder:On,utf8Encoder:Nn}),Qs=function(e){function t(t){var n=this,r=Ro(Ro({},Zs),t),i=oi(r),o=Hi(ni(i)),s=Zi(Zr(o));return(n=e.call(this,s)||this).config=s,n.middlewareStack.use(Tr(n.config)),n.middlewareStack.use(ci(n.config)),n.middlewareStack.use(fi(n.config)),n.middlewareStack.use(hi(n.config)),n.middlewareStack.use(eo(n.config)),n}return Lo(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(io);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Bo||(Bo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(jo||(jo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Fo||(Fo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(zo||(zo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ko||(Ko={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(qo||(qo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ho||(Ho={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Vo||(Vo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Wo||(Wo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Go||(Go={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Jo||(Jo={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(Zo||(Zo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Qo||(Qo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Yo||(Yo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Xo||(Xo={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}($o||($o={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(es||(es={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ts||(ts={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ns||(ns={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(rs||(rs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(is||(is={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(os||(os={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ss||(ss={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(as||(as={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(us||(us={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(cs||(cs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ls||(ls={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(fs||(fs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ds||(ds={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(hs||(hs={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(ps||(ps={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(gs||(gs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(vs||(vs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ys||(ys={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ms||(ms={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(bs||(bs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ws||(ws={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ss||(Ss={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Es||(Es={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(As||(As={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Cs||(Cs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(_s||(_s={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(xs||(xs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Is||(Is={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ts||(Ts={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ps||(Ps={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(ks||(ks={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Os||(Os={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ns||(Ns={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ms||(Ms={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ls||(Ls={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Rs||(Rs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Us||(Us={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Ds||(Ds={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Bs||(Bs={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(js||(js={})),function(e){e.filterSensitiveLog=function(e){return Ro({},e)}}(Fs||(Fs={}));var Ys=function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Do(this,(function(y){switch(y.label){case 0:return r=[Ro({},e)],v={},[4,xa(e.body,t)];case 1:switch(n=Ro.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Ia(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,$s(n)];case 3:return i=Ro.apply(void 0,[Ro.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 4:return a=[{}],[4,ea(n)];case 5:return i=Ro.apply(void 0,[Ro.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 6:return u=[{}],[4,ta(n)];case 7:return i=Ro.apply(void 0,[Ro.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 8:return c=[{}],[4,na(n)];case 9:return i=Ro.apply(void 0,[Ro.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 10:return l=[{}],[4,ia(n)];case 11:return i=Ro.apply(void 0,[Ro.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 12:return f=[{}],[4,oa(n)];case 13:return i=Ro.apply(void 0,[Ro.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 14:return d=[{}],[4,sa(n)];case 15:return i=Ro.apply(void 0,[Ro.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 16:return h=[{}],[4,aa(n)];case 17:return i=Ro.apply(void 0,[Ro.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Ro(Ro({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Aa(e)}),y.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},Xs=function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return Do(this,(function(y){switch(y.label){case 0:return r=[Ro({},e)],v={},[4,xa(e.body,t)];case 1:switch(n=Ro.apply(void 0,r.concat([(v.body=y.sent(),v)])),o="UnknownError",o=Ia(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return s=[{}],[4,$s(n)];case 3:return i=Ro.apply(void 0,[Ro.apply(void 0,s.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 4:return a=[{}],[4,ea(n)];case 5:return i=Ro.apply(void 0,[Ro.apply(void 0,a.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 6:return u=[{}],[4,na(n)];case 7:return i=Ro.apply(void 0,[Ro.apply(void 0,u.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 8:return c=[{}],[4,ra(n)];case 9:return i=Ro.apply(void 0,[Ro.apply(void 0,c.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 10:return l=[{}],[4,ia(n)];case 11:return i=Ro.apply(void 0,[Ro.apply(void 0,l.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 12:return f=[{}],[4,oa(n)];case 13:return i=Ro.apply(void 0,[Ro.apply(void 0,f.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 14:return d=[{}],[4,sa(n)];case 15:return i=Ro.apply(void 0,[Ro.apply(void 0,d.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 16:return h=[{}],[4,aa(n)];case 17:return i=Ro.apply(void 0,[Ro.apply(void 0,h.concat([y.sent()])),{name:o,$metadata:Aa(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Ro(Ro({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Aa(e)}),y.label=19;case 19:return g=i.message||i.Message||o,i.message=g,delete i.Message,[2,Promise.reject(Object.assign(new Error(g),i))]}}))}))},$s=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=da(t),[2,Ro({name:"ExternalServiceException",$fault:"client",$metadata:Aa(e)},n)]}))}))},ea=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=ga(t),[2,Ro({name:"InternalErrorException",$fault:"server",$metadata:Aa(e)},n)]}))}))},ta=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=va(t),[2,Ro({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Aa(e)},n)]}))}))},na=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=ya(t),[2,Ro({name:"InvalidParameterException",$fault:"client",$metadata:Aa(e)},n)]}))}))},ra=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=ma(t),[2,Ro({name:"LimitExceededException",$fault:"client",$metadata:Aa(e)},n)]}))}))},ia=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=ba(t),[2,Ro({name:"NotAuthorizedException",$fault:"client",$metadata:Aa(e)},n)]}))}))},oa=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=wa(t),[2,Ro({name:"ResourceConflictException",$fault:"client",$metadata:Aa(e)},n)]}))}))},sa=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=Sa(t),[2,Ro({name:"ResourceNotFoundException",$fault:"client",$metadata:Aa(e)},n)]}))}))},aa=function(e,t){return Uo(void 0,void 0,void 0,(function(){var t,n;return Do(this,(function(r){return t=e.body,n=Ea(t),[2,Ro({name:"TooManyRequestsException",$fault:"client",$metadata:Aa(e)},n)]}))}))},ua=function(e,t){return Ro(Ro(Ro({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:la(e.Logins)})},ca=function(e,t){return Ro(Ro(Ro({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:la(e.Logins)})},la=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(t,2),i=r[0],o=r[1];return null===o?e:Ro(Ro({},e),((n={})[i]=o,n))}),{})},fa=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},da=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ha=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?fa(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},pa=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},ga=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},va=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ya=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ma=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ba=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wa=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Sa=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ea=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Aa=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ca=function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},_a=function(e,t,n,r,i){return Uo(void 0,void 0,void 0,(function(){var o,s,a,u,c,l;return Do(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),s=o.hostname,a=o.protocol,u=void 0===a?"https":a,c=o.port,l={protocol:u,hostname:s,port:c,method:"POST",path:n,headers:t},void 0!==r&&(l.hostname=r),void 0!==i&&(l.body=i),[2,new lr(l)]}}))}))},xa=function(e,t){return Ca(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ia=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Ta=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Lo(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:is.filterSensitiveLog,outputFilterSensitiveLog:ss.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r;return Do(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(ua(e)),[2,_a(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r,i;return Do(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Ys(e,t)]:[4,xa(e.body,t)];case 1:return n=o.sent(),r=ha(n),i=Ro({$metadata:Aa(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(oo),Pa=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Lo(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:us.filterSensitiveLog,outputFilterSensitiveLog:cs.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r;return Do(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(ca(e)),[2,_a(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Uo(void 0,void 0,void 0,(function(){var n,r,i;return Do(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,Xs(e,t)]:[4,xa(e.body,t)];case 1:return n=o.sent(),r=pa(n),i=Ro({$metadata:Aa(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(oo),ka=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return Ke(t,e),t}(Error);function Oa(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"==typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=Je(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function Na(e){var t=this;return function(){return Ve(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h;return We(this,(function(p){switch(p.label){case 0:return l=(c=e.client).send,f=Ta.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Oa(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,l.apply(c,[new(f.apply(Ta,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new ka("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new ka("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,s=n.SecretKey,a=void 0===s?function(){throw new ka("Response from Amazon Cognito contained no secret key")}():s,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}}))}))}}var Ma="IdentityIds",La=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Ma,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Ma,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Ma)))})).catch((function(e){throw n.close(),e}))}))},e}(),Ra=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function Ua(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"==typeof self&&self.indexedDB?new La:"object"==typeof window&&window.localStorage?window.localStorage:Ra:r,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,l=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,f=l?"aws:cognito-identity-credentials:"+a+":"+l:void 0,d=function(){return Ve(t,void 0,void 0,(function(){var e,t,r,c,l,h,p,g,v;return We(this,(function(y){switch(y.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=y.sent(),y.label=2;case 2:return(e=t)?[3,7]:(h=(l=o).send,p=Pa.bind,v={AccountId:n,IdentityPoolId:a},u?[4,Oa(u)]:[3,4]);case 3:return g=y.sent(),[3,5];case 4:g=void 0,y.label=5;case 5:return[4,h.apply(l,[new(p.apply(Pa,[void 0,(v.Logins=g,v)]))])];case 6:r=y.sent().IdentityId,c=void 0===r?function(){throw new ka("Response from Amazon Cognito contained no identity ID")}():r,e=c,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),y.label=7;case 7:return[2,(d=Na({client:o,customRoleArn:s,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return Ve(t,void 0,void 0,(function(){return We(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var Da=function(){return Da=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Da.apply(this,arguments)},Ba=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ja=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Fa=new ie("Credentials"),za=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=To.refreshGoogleToken,this._refreshHandlers.facebook=Po.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Da(Da({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new No).getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Fa.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return Fa.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Fa.debug("getting old cred promise"):(Fa.debug("getting new cred promise"),this._gettingCredPromise=ke(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return Ba(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return ja(this,(function(a){switch(a.label){case 0:if(Fa.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Fa.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Fa.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?ae.Auth:t)||"function"!=typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Fa.debug("ttl has passed but token is not yet expired"),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=a.sent(),[4,n.currentSession()];case 3:return i=a.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),Fa.debug("Error attempting to refreshing the session",s),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Fa.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var s=this;return Fa.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Fa.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):s._refreshHandlers[t]&&"function"==typeof s._refreshHandlers[t]?(Fa.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:s._refreshHandlers[t],provider:t,user:n})):(Fa.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return tn(n,[],1e4).then((function(e){return Fa.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"==typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Fa.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Fa.debug("no credentials for expiration check"),!0;Fa.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return Ba(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u=this;return ja(this,(function(c){switch(c.label){case 0:return Fa.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(Fa.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Fa.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=c.sent(),o=new Qs({region:n,customUserAgent:ce()}),s=void 0,r?s=Na({identityId:r,client:o})():(a=function(){return Ba(u,void 0,void 0,(function(){var e;return ja(this,(function(n){switch(n.label){case 0:return[4,o.send(new Pa({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Na({client:o,identityId:e})()]}}))}))},s=a().catch((function(e){return Ba(u,void 0,void 0,(function(){return ja(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(s,"guest",!1,null).then((function(e){return e})).catch((function(e){return Ba(u,void 0,void 0,(function(){var n,i=this;return ja(this,(function(a){switch(a.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(Fa.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return a.sent(),n=function(){return Ba(i,void 0,void 0,(function(){var e;return ja(this,(function(n){switch(n.label){case 0:return[4,o.send(new Pa({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,Na({client:o,identityId:e})()]}}))}))},s=n().catch((function(e){return Ba(i,void 0,void 0,(function(){return ja(this,(function(t){throw e}))}))})),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return Fa.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Fa.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=new Qs({region:u,customUserAgent:ce()}),l=void 0;r?l=Na({identityId:r,logins:o,client:c})():l=Ua({logins:o,identityPoolId:a,client:c})();return this._loadCredentials(l,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Fa.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,s=r.identityPoolId;if(!s)return Fa.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Fa.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new Qs({region:i,customUserAgent:ce()}),c=Ba(t,void 0,void 0,(function(){var e,t,n,r,i,o,c,l,f,d;return ja(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Pa({IdentityPoolId:s,Logins:a}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new Ta({IdentityId:e||t,Logins:a}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,c=i.Expiration,l=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(Fa.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&Fa.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:l,sessionToken:f,expiration:c,identityId:d}]}}))})).catch((function(e){return Ba(t,void 0,void 0,(function(){return ja(this,(function(t){throw e}))}))}));return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(s,a){e.then((function(e){return Ba(i,void 0,void 0,(function(){var i,a,u,c,l;return ja(this,(function(f){switch(f.label){case 0:if(Fa.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),a=r.provider,u=r.token,c=r.expires_at,l=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:l}))}catch(e){Fa.debug("Failed to put federated info into auth storage",e)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return s(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Fa.debug("Failed to load credentials",e),Fa.debug("Error loading credentials",t),void a(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Fa.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return Ba(this,void 0,void 0,(function(){return ja(this,(function(e){return this._credentials=null,this._credentials_source=null,Fa.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return Ba(this,void 0,void 0,(function(){var e,t;return ja(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Fa.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return Ba(this,void 0,void 0,(function(){var t,n;return ja(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Fa.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return Ba(this,void 0,void 0,(function(){var e;return ja(this,(function(t){return e=this._config.identityPoolId,Fa.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),Ka=new za(null);ae.register(Ka);var qa=function(){function e(){this._logger=new ie("ServiceWorker")}return Object.defineProperty(e.prototype,"serviceWorker",{get:function(){return this._serviceWorker},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===e&&(e="/service-worker.js"),void 0===t&&(t="/"),this._logger.debug("registering "+e),this._logger.debug("registering service worker with scope "+t),new Promise((function(r,i){if(!navigator||!("serviceWorker"in navigator))return i(new Error("Service Worker not available"));navigator.serviceWorker.register(e,{scope:t}).then((function(e){return e.installing?n._serviceWorker=e.installing:e.waiting?n._serviceWorker=e.waiting:e.active&&(n._serviceWorker=e.active),n._registration=e,n._setupListeners(),n._logger.debug("Service Worker Registration Success: "+e),r(e)})).catch((function(e){return n._logger.debug("Service Worker Registration Failed "+e),i(e)}))}))},e.prototype.enablePush=function(e){var t=this;if(!this._registration)throw new Error("Service Worker not registered");return this._publicKey=e,new Promise((function(n,r){if(!Ne().isBrowser)return r(new Error("Service Worker not available"));t._registration.pushManager.getSubscription().then((function(r){if(!r)return t._logger.debug("User is NOT subscribed to push"),t._registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t._urlB64ToUint8Array(e)}).then((function(e){t._subscription=e,t._logger.debug("User subscribed: "+JSON.stringify(e)),n(e)})).catch((function(e){t._logger.error(e)}));t._subscription=r,t._logger.debug("User is subscribed to push: "+JSON.stringify(r)),n(r)}))}))},e.prototype._urlB64ToUint8Array=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r},e.prototype.send=function(e){this._serviceWorker&&this._serviceWorker.postMessage("object"==typeof e?JSON.stringify(e):e)},e.prototype._setupListeners=function(){var e=this;this._serviceWorker.addEventListener("statechange",(function(t){var n=e._serviceWorker.state;e._logger.debug("ServiceWorker statechange: "+n),ae.Analytics&&"function"==typeof ae.Analytics.record&&ae.Analytics.record({name:"ServiceWorker",attributes:{state:n}})})),this._serviceWorker.addEventListener("message",(function(t){e._logger.debug("ServiceWorker message event: "+t)}))},e}(),Ha=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},r=t||{},i=e.split(";"),o=r.decode||Wa,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(null==n[c]){var l=a.substring(u+1,a.length).trim();'"'===l[0]&&(l=l.slice(1,-1)),n[c]=Za(l,o)}}}return n},Va=function(e,t,n){var r=n||{},i=r.encode||Ga;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!Ja.test(e))throw new TypeError("argument name is invalid");var o=i(t);if(o&&!Ja.test(o))throw new TypeError("argument val is invalid");var s=e+"="+o;if(null!=r.maxAge){var a=r.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(r.domain){if(!Ja.test(r.domain))throw new TypeError("option domain is invalid");s+="; Domain="+r.domain}if(r.path){if(!Ja.test(r.path))throw new TypeError("option path is invalid");s+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(s+="; HttpOnly");r.secure&&(s+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s},Wa=decodeURIComponent,Ga=encodeURIComponent,Ja=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;
/*!
     * cookie
     * Copyright(c) 2012-2014 Roman Shtylman
     * Copyright(c) 2015 Douglas Christopher Wilson
     * MIT Licensed
     */function Za(e,t){try{return t(e)}catch(t){return e}}function Qa(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(e){}return e}var Ya,Xa,$a,eu=function(){return eu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},eu.apply(this,arguments)},tu=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"==typeof e?Ha(e,t):"object"==typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Ha(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),Qa(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=Qa(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=eu(eu({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Va(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=eu(eu({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=eu({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Va(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),nu=tu,ru=Ne().isBrowser,iu=function(){function e(e){void 0===e&&(e={}),this.cookies=new nu,this.store=ru?window.localStorage:Object.create(null),this.cookies=e.req?new nu(e.req.headers.cookie):new nu,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":ru?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),ou="undefined"!=typeof Symbol&&"function"==typeof Symbol.for,su=ou?Symbol.for("INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_PUBSUB_PROVIDER",au=ou?Symbol.for("INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER"):"@@INTERNAL_AWS_APPSYNC_REALTIME_PUBSUB_PROVIDER",uu={userAgent:ue.userAgent};function cu(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function lu(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(Ya||(Ya={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"}(Xa||(Xa={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}($a||($a={}));for(
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */
var fu=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),du=function(e){var t=Su(e),n=t[0],r=t[1];return 3*(n+r)/4-r},hu=function(e){var t,n,r=Su(e),i=r[0],o=r[1],s=new yu(function(e,t,n){return 3*(t+n)/4-n}(0,i,o)),a=0,u=o>0?i-4:i;for(n=0;n<u;n+=4)t=vu[e.charCodeAt(n)]<<18|vu[e.charCodeAt(n+1)]<<12|vu[e.charCodeAt(n+2)]<<6|vu[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;2===o&&(t=vu[e.charCodeAt(n)]<<2|vu[e.charCodeAt(n+1)]>>4,s[a++]=255&t);1===o&&(t=vu[e.charCodeAt(n)]<<10|vu[e.charCodeAt(n+1)]<<4|vu[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t);return s},pu=function(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(Eu(e,s,s+o>a?a:s+o));1===r?(t=e[n-1],i.push(gu[t>>2]+gu[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(gu[t>>10]+gu[t>>4&63]+gu[t<<2&63]+"="));return i.join("")},gu=[],vu=[],yu="undefined"!=typeof Uint8Array?Uint8Array:Array,mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bu=0,wu=mu.length;bu<wu;++bu)gu[bu]=mu[bu],vu[mu.charCodeAt(bu)]=bu;function Su(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Eu(e,t,n){for(var r,i,o=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(gu[(i=r)>>18&63]+gu[i>>12&63]+gu[i>>6&63]+gu[63&i]);return o.join("")}vu["-".charCodeAt(0)]=62,vu["_".charCodeAt(0)]=63;var Au={byteLength:du,toByteArray:hu,fromByteArray:pu},Cu=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},_u=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=p,s/=256,c-=8);e[n+h-p]|=128*g},xu={}.toString,Iu=Array.isArray||function(e){return"[object Array]"==xu.call(e)},Tu=Fe((function(e,t){function n(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function r(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return a(this,e)}return o(this,e,t,n)}function o(e,t,n,o){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=u(e,t);return e}(e,t,n,o):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|l(t,n),s=(e=r(e,o)).write(t,n);s!==o&&(e=e.slice(0,s));return e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|c(t.length);return 0===(e=r(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?r(e,0):u(e,t);if("Buffer"===t.type&&Iu(t.data))return u(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t){if(s(t),e=r(e,t<0?0:0|c(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|c(t.length);e=r(e,n);for(var i=0;i<n;i+=1)e[i]=255&t[i];return e}function c(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function l(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(r)return D(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:p(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):p(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function p(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function g(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return j(D(t,e.length-n),e,n,r)}function y(e,t,n,r){return j(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return y(e,t,n,r)}function b(e,t,n,r){return j(B(t),e,n,r)}function w(e,t,n,r){return j(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?Au.fromByteArray(e):Au.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.Buffer=i,t.SlowBuffer=function(e){+e!=e&&(e=0);return i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==De.TYPED_ARRAY_SUPPORT?De.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=n(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return o(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,i){return s(t),t<=0?r(e,t):void 0!==n?"string"==typeof i?r(e,t).fill(n,i):r(e,t).fill(n):r(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return a(null,e)},i.allocUnsafeSlow=function(e){return a(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Iu(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},i.byteLength=l,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):f.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(s,a),c=this.slice(r,o),l=e.slice(t,n),f=0;f<u;++f)if(c[f]!==l[f]){s=c[f],a=l[f];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return b(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function x(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=U(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function T(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function k(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function O(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return i||N(e,0,n,4),_u(e,t,n,r,23,4),n+4}function L(e,t,n,r,i){return i||N(e,0,n,8),_u(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var s=0;s<o;++s)n[s]=this[s+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},i.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||T(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),Cu(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),Cu(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),Cu(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),Cu(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):O(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);P(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):k(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):k(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):O(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):O(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,s=r-n;if(this===e&&n<t&&t<r)for(o=s-1;o>=0;--o)e[o+t]=this[o+n];else if(s<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+s),t);return s},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=i.isBuffer(e)?e:D(new i(e,r).toString()),u=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return Au.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}})),Pu=je(Object.freeze({__proto__:null,default:{}})),ku=Fe((function(e,t){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==De&&De.crypto&&(n=De.crypto),!n)try{n=Pu}catch(e){}var r=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},a=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new u.init(t,e)}}),c=o.enc={},l=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},h=s.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*c,o);if(c){for(var f=0;f<c;f+=s)this._doProcessBlock(i,f);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});s.Hasher=h.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new p.HMAC.init(e,n).finalize(t)}}});var p=o.algo={};return o}(Math),n)}));
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Fe((function(e,t){var n;e.exports=(n=ku,function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init,r=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};r.prototype=e}}(),n.lib.WordArray)}));var Ou,Nu=Fe((function(e,t){var n;e.exports=(n=ku,function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=c[h-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;c[h]=g+c[h-7]+y+c[h-16]}var m=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&f)+u[h]+c[h];d=f,f=l,l=a,a=s+w|0,s=o,o=i,i=r,r=w+(b+m)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),n.SHA256)})),Mu=(Fe((function(e,t){var n,r,i;e.exports=(r=(n=ku).lib.Base,i=n.enc.Utf8,void(n.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,u=s.words,c=0;c<n;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))})),Fe((function(e,t){e.exports=ku.HmacSHA256})));if("undefined"!=typeof window&&window.crypto&&(Ou=window.crypto),!Ou&&"undefined"!=typeof window&&window.msCrypto&&(Ou=window.msCrypto),!Ou&&"undefined"!=typeof global&&global.crypto&&(Ou=global.crypto),!Ou&&"function"==typeof require)try{Ou=require("crypto")}catch(e){}function Lu(){if(Ou){if("function"==typeof Ou.getRandomValues)try{return Ou.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof Ou.randomBytes)try{return Ou.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}var Ru,Uu=function(){function e(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(Lu());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}();function Du(e,t){null!=e&&this.fromString(e,t)}function Bu(){return new Du(null)}var ju="undefined"!=typeof navigator;ju&&"Microsoft Internet Explorer"==navigator.appName?(Du.prototype.am=function(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=a*u+c*s;i=((u=s*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+a*c+(i>>>30),n[r++]=1073741823&u}return i},Ru=30):ju&&"Netscape"!=navigator.appName?(Du.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},Ru=26):(Du.prototype.am=function(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=a*u+c*s;i=((u=s*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+a*c,n[r++]=268435455&u}return i},Ru=28),Du.prototype.DB=Ru,Du.prototype.DM=(1<<Ru)-1,Du.prototype.DV=1<<Ru;Du.prototype.FV=Math.pow(2,52),Du.prototype.F1=52-Ru,Du.prototype.F2=2*Ru-52;var Fu,zu,Ku=new Array;for(Fu="0".charCodeAt(0),zu=0;zu<=9;++zu)Ku[Fu++]=zu;for(Fu="a".charCodeAt(0),zu=10;zu<36;++zu)Ku[Fu++]=zu;for(Fu="A".charCodeAt(0),zu=10;zu<36;++zu)Ku[Fu++]=zu;function qu(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function Hu(e,t){var n=Ku[e.charCodeAt(t)];return null==n?-1:n}function Vu(e){var t=Bu();return t.fromInt(e),t}function Wu(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Gu(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */
function Ju(e){return Tu.Buffer.from((new Uu).random(e).toString(),"hex")}Gu.prototype.convert=function(e){var t=Bu();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Du.ZERO)>0&&this.m.subTo(t,t),t},Gu.prototype.revert=function(e){var t=Bu();return e.copyTo(t),this.reduce(t),t},Gu.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Gu.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Gu.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Du.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},Du.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},Du.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var s=Hu(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&Du.ZERO.subTo(this,this)},Du.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},Du.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},Du.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},Du.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},Du.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&o)<<i,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},Du.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},Du.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Du.ZERO.subTo(t,t)},Du.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},Du.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Bu());var o=Bu(),s=this.s,a=e.s,u=this.DB-Wu(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,g=n.t,v=g-c,y=null==t?Bu():t;for(o.dlShiftTo(v,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Du.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=n[--g]==l?this.DM:Math.floor(n[g]*d+(n[g-1]+p)*h);if((n[g]+=o.am(0,m,n,v,0,c))<m)for(o.dlShiftTo(v,y),n.subTo(y,n);n[g]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),s!=a&&Du.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&Du.ZERO.subTo(n,n)}}},Du.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Du.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},Du.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=qu(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=qu(n));return i?o:"0"},Du.prototype.negate=function(){var e=Bu();return Du.ZERO.subTo(this,e),e},Du.prototype.abs=function(){return this.s<0?this.negate():this},Du.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},Du.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Wu(this[this.t-1]^this.s&this.DM)},Du.prototype.mod=function(e){var t=Bu();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Du.ZERO)>0&&e.subTo(t,t),t},Du.prototype.equals=function(e){return 0==this.compareTo(e)},Du.prototype.add=function(e){var t=Bu();return this.addTo(e,t),t},Du.prototype.subtract=function(e){var t=Bu();return this.subTo(e,t),t},Du.prototype.multiply=function(e){var t=Bu();return this.multiplyTo(e,t),t},Du.prototype.divide=function(e){var t=Bu();return this.divRemTo(e,t,null),t},Du.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=Vu(1),s=new Gu(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var a=new Array,u=3,c=r-1,l=(1<<r)-1;if(a[1]=s.convert(this),r>1){var f=Bu();for(s.sqrTo(a[1],f);u<=l;)a[u]=Bu(),s.mulTo(f,a[u-2],a[u]),u+=2}var d,h,p=e.t-1,g=!0,v=Bu();for(i=Wu(e[p])-1;p>=0;){for(i>=c?d=e[p]>>i-c&l:(d=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(d|=e[p-1]>>this.DB+i-c)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[d].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(h=o,o=v,v=h),s.mulTo(v,a[d],o)}for(;p>=0&&0==(e[p]&1<<i);)s.sqrTo(o,v),h=o,o=v,v=h,--i<0&&(i=this.DB-1,--p)}var y=s.revert(o);return n(null,y),y},Du.ZERO=Vu(0),Du.ONE=Vu(1);var Zu=/^[89a-f]/i,Qu=function(){function e(e){this.N=new Du("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new Du("2",16),this.k=new Du(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=Tu.Buffer.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){return new Du(Ju(128).toString("hex"),16)},t.generateRandomString=function(){return Ju(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=Ju(16).toString("hex");this.SaltToHashDevices=this.padHex(new Du(s,16)),this.g.modPow(new Du(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(Du.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new Du(this.UHexHash,16)},t.hash=function(e){var t=e instanceof Tu.Buffer?ku.lib.WordArray.create(e):e,n=Nu(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(Tu.Buffer.from(e,"hex"))},t.computehkdf=function(e,t){var n=ku.lib.WordArray.create(Tu.Buffer.concat([this.infoBits,Tu.Buffer.from(String.fromCharCode(1),"utf8")])),r=e instanceof Tu.Buffer?ku.lib.WordArray.create(e):e,i=t instanceof Tu.Buffer?ku.lib.WordArray.create(t):t,o=Mu(r,i),s=Mu(n,o);return Tu.Buffer.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(Du.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(Du.ZERO))throw new Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new Du(this.hexHash(this.padHex(r)+a),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(Tu.Buffer.from(o.padHex(t),"hex"),Tu.Buffer.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof Du))throw new Error("Not a BigInteger");var t=e.compareTo(Du.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!=0?"0"+n:n,n=Zu.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new Du(r,16).add(Du.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),Yu=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(Tu.Buffer.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function Xu(e,t){return Xu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xu(e,t)}var $u=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Xu(t,n),r}(Yu);function ec(e,t){return ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ec(e,t)}var tc=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ec(t,n),r}(Yu),nc=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),rc=Fe((function(e,t){var n;e.exports=(n=ku,function(){var e=n,t=e.lib.WordArray;function r(e,n,r){for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)})),ic=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),oc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ac=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=sc[e.getUTCDay()],n=oc[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+n+" "+r+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),uc=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),cc={},lc=function(){function e(){}return e.setItem=function(e,t){return cc[e]=t,cc[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(cc,e)?cc[e]:void 0},e.removeItem=function(e){return delete cc[e]},e.clear=function(){return cc={}},e}(),fc=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=lc}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),dc="undefined"!=typeof navigator?navigator.userAgent:"nodejs",hc=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new fc).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new Qu(this.pool.getUserPoolId().split("_")[1]),s=new ac,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue((function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var l=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:l};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new Du(c.SRP_B,16),r=new Du(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=s.getNowString(),a=ku.lib.WordArray.create(Tu.Buffer.concat([Tu.Buffer.from(i.pool.getUserPoolId().split("_")[1],"utf8"),Tu.Buffer.from(i.username,"utf8"),Tu.Buffer.from(c.SECRET_BLOCK,"base64"),Tu.Buffer.from(r,"utf8")])),f=ku.lib.WordArray.create(n),d=rc.stringify(Mu(a,f)),h={};h.USERNAME=i.username,h.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,h.TIMESTAMP=r,h.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(h.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:l};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(p,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new Qu(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var l=0;l<a.length;l++)u[l]=a[l].substr(c.length);return n.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:Tu.Buffer.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Tu.Buffer.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:dc},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new Qu(this.pool.getUserPoolId().split("_")[1]),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach((function(e){a[s+e]=t[e]})),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new Qu(this.deviceGroupKey),i=new ac,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new Du(s.SRP_B,16),u=new Du(s.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,a,u,(function(t,r){if(t)return e.onFailure(t);var a=i.getNowString(),u=ku.lib.WordArray.create(Tu.Buffer.concat([Tu.Buffer.from(n.deviceGroupKey,"utf8"),Tu.Buffer.from(n.deviceKey,"utf8"),Tu.Buffer.from(s.SECRET_BLOCK,"base64"),Tu.Buffer.from(a,"utf8")])),c=ku.lib.WordArray.create(r),l=rc.stringify(Mu(u,c)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,f.TIMESTAMP=a,f.PASSWORD_CLAIM_SIGNATURE=l,f.DEVICE_KEY=n.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:o.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new Qu(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new Qu(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:Tu.Buffer.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:Tu.Buffer.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:dc},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},s=new uc(o);r.push(s)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(t){return this.clearCachedUserData(),void e(t,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",s=n+".clockDrift";if(this.storage.getItem(r)){var a=new tc({IdToken:this.storage.getItem(r)}),u=new $u({AccessToken:this.storage.getItem(i)}),c=new nc({RefreshToken:this.storage.getItem(o)}),l=parseInt(this.storage.getItem(s),0)||0,f=new ic({IdToken:a,AccessToken:u,RefreshToken:c,ClockDrift:l});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!c.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(c,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new tc(e),n=new $u(e),r=new nc(e);return new ic({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"==typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}();
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */var pc=Object.freeze({__proto__:null,default:function(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],s=[],a={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),s.push([t,n]),a[t]=a[t]?a[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(c,t.headers[c]);i.send(t.body||null)}))}}),gc=je(pc);self.fetch||(self.fetch=gc.default||gc);var vc="aws-amplify/5.0.4",yc={userAgent:vc+" js",product:"",navigator:null,isReactNative:!1};
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */if("undefined"!=typeof navigator&&navigator.product)if(yc.product=navigator.product||"",yc.navigator=navigator||null,"ReactNative"===navigator.product)yc.userAgent=vc+" react-native",yc.isReactNative=!0;else yc.userAgent=vc+" js",yc.isReactNative=!1;function mc(){}function bc(e){var t="function"==typeof Map?new Map:void 0;return bc=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return wc(e,arguments,Ac(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ec(n,e)},bc(e)}function wc(e,t,n){return wc=Sc()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ec(i,n.prototype),i},wc.apply(null,arguments)}function Sc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ec(e,t){return Ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ec(e,t)}function Ac(e){return Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ac(e)}mc.prototype.userAgent=yc.userAgent;var Cc=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Ec(t,n),r}(bc(Error)),_c=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Cc(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=Tc);return Ic(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))}
/*!
     * Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
     * SPDX-License-Identifier: Apache-2.0
     */)((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":mc.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(t){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),xc=function(){};function Ic(e,t,n,r){if(void 0===r&&(r=1),"function"!=typeof e)throw Error("functionToRetry must be a function");return xc(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(xc("error on "+e.name,i),(o=i)&&o.nonRetryable)throw xc(e.name+" non retryable error",i),i;var o,s=n(r,t,i);if(xc(e.name+" retrying in "+s+" ms"),!1!==s)return new Promise((function(e){return setTimeout(e,s)})).then((function(){return Ic(e,t,n,r+1)}));throw i}))}var Tc=3e5;var Pc,kc=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,s=n.fetchOptions,a=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new _c(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||(new fc).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:s,Storage:s.storage},o={user:new hc(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new hc(n)}return null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),Oc=Fe((function(e,t){!function(t){e.exports=t()}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o)o[u]&&(a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))})),Nc=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),Oc.set(e,t,n),Oc.get(e)},t.getItem=function(e){return Oc.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),Oc.remove(e,t)},t.clear=function(){for(var e=Oc.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),Mc=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},Lc=function(){return Lc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Lc.apply(this,arguments)},Rc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Uc=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Dc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Bc="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",jc=function(e,t,n){ve.dispatch("auth",{event:e,data:t,message:n},"Auth",Bc)},Fc=new ie("OAuth"),zc=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||Mc,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"==typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=Ya.Cognito);var s=this._generateState(32),a=o?s+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):s;!function(e){window.sessionStorage.setItem("oauth_state",e)}(a);var u,c=this._generateRandom(128);u=c,window.sessionStorage.setItem("ouath_pkce_key",u);var l=this._generateChallenge(c),f=this._scopes.join(" "),d=Object.entries(Lc(Lc({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:a},"code"===e?{code_challenge:l}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=Dc(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),h="https://"+t+"/oauth2/authorize?"+d;Fc.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return Rc(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Uc(this,(function(g){switch(g.label){case 0:return t=(Pt(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Dc(t,2),i=r[0],o=r[1];return Lc(Lc({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=Pt(e).pathname||"/",r=Pt(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",jc("codeFlow",{},"Retrieving tokens from "+i),o=lu(this._config)?this._cognitoClientId:this._config.clientID,s=lu(this._config)?this._config.redirectSignIn:this._config.redirectUri,v=window.sessionStorage.getItem("ouath_pkce_key"),window.sessionStorage.removeItem("ouath_pkce_key"),u=Lc({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:s},(a=v)?{code_verifier:a}:{}),Fc.debug("Calling token endpoint: "+i+" with",u),c=Object.entries(u).map((function(e){var t=Dc(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})]):[2];case 1:return[4,g.sent().json()];case 2:if(l=g.sent(),f=l.access_token,d=l.refresh_token,h=l.id_token,p=l.error)throw new Error(p);return[2,{accessToken:f,refreshToken:d,idToken:h}]}var v}))}))},e.prototype._handleImplicitFlow=function(e){return Rc(this,void 0,void 0,(function(){var t,n,r;return Uc(this,(function(i){return t=(Pt(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=Dc(t,2),i=r[0],o=r[1];return Lc(Lc({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,jc("implicitFlow",{},"Got tokens from "+e),Fc.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return Rc(this,void 0,void 0,(function(){var t,n,r,i,o,s,a;return Uc(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?Lc(Lc({},(Pt(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Dc(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),(Pt(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=Dc(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),Fc.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,Lc.apply(void 0,[Lc.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,Lc.apply(void 0,[Lc.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),Fc.error("Error handling auth response.",a),a;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t,n=(t=window.sessionStorage.getItem("oauth_state"),window.sessionStorage.removeItem("oauth_state"),t),r=e.state;if(n&&n!==r)throw new Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return Rc(this,void 0,void 0,(function(){var e,t,n;return Uc(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=lu(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=lu(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=Dc(e,2);return t[0]+"="+t[1]})).join("&"),jc("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),Fc.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(Nu(e))},e.prototype._base64URL=function(e){return e.toString(rc).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),Kc=zc;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"}(Pc||(Pc={}));var qc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hc=new ie("AuthError"),Vc=function(e){function t(n){var r=this,i=Gc[n],o=i.message,s=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=s||o,Hc.error(r.log),r}return qc(t,e),t}(Error),Wc=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return qc(t,e),t}(Vc),Gc={noConfig:{message:Pc.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:Pc.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:Pc.EMPTY_USERNAME},invalidUsername:{message:Pc.INVALID_USERNAME},emptyPassword:{message:Pc.EMPTY_PASSWORD},emptyCode:{message:Pc.EMPTY_CODE},signUpError:{message:Pc.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:Pc.NO_MFA},invalidMFA:{message:Pc.INVALID_MFA},emptyChallengeResponse:{message:Pc.EMPTY_CHALLENGE},noUserSession:{message:Pc.NO_USER_SESSION},deviceConfig:{message:Pc.DEVICE_CONFIG},networkError:{message:Pc.NETWORK_ERROR},default:{message:Pc.DEFAULT_MSG}},Jc=function(){return Jc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Jc.apply(this,arguments)},Zc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Qc=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Yc=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Xc=new ie("AuthClass"),$c="aws.cognito.signin.user.admin",el="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",tl=function(e,t,n){ve.dispatch("auth",{event:e,data:t,message:n},"Auth",el)},nl=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=Ka,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?tl("tokenRefresh",void 0,"New token retrieved"):tl("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),ve.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Xc.debug("configure Auth");var n=Object.assign({},this._config,Tn.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,s=r.cookieStorage,a=r.oauth,u=r.region,c=r.identityPoolId,l=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Xc.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=s?new Nc(s):e.ssr?new iu:(new No).getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var g={UserPoolId:i,ClientId:o,endpoint:p};g.Storage=this._storage,this.userPool=new kc(g,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:l,region:d||u,userPoolId:i,identityPoolId:c,refreshHandlers:f,storage:this._storage});var v=a?lu(this._config.oauth)?a:a.awsCognito:void 0;if(v){var y=Object.assign({cognitoClientId:o,UserPoolId:i,domain:v.domain,scopes:v.scope,redirectSignIn:v.redirectSignIn,redirectSignOut:v.redirectSignOut,responseType:v.responseType,Storage:this._storage,urlOpener:v.urlOpener,clientMetadata:h},v.options);this._oAuthHandler=new Kc({scopes:y.scopes,config:y,cognitoClientId:y.cognitoClientId});var m={};!function(e){if(Ue.browserOrNode().isBrowser&&window.location)e({url:window.location.href});else if(!Ue.browserOrNode().isNode)throw new Error("Not supported")}((function(e){var n=e.url;m[n]||(m[n]=!0,t._handleAuthResponse(n))}))}return tl("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var i,o=null,s=null,a=[],u=null;if(e&&"string"==typeof e){o=e,s=n?n[0]:null;var c=n?n[1]:null,l=n?n[2]:null;c&&a.push(new uc({Name:"email",Value:c})),l&&a.push(new uc({Name:"phone_number",Value:l}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(Xa.SignUpError);o=e.username,s=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var f=e.attributes;f&&Object.keys(f).map((function(e){a.push(new uc({Name:e,Value:f[e]}))}));var d=e.validationData;d&&(u=[],Object.keys(d).map((function(e){u.push(new uc({Name:e,Value:d[e]}))})))}return o?s?(Xc.debug("signUp attrs:",a),Xc.debug("signUp validation data:",u),new Promise((function(e,n){t.userPool.signUp(o,s,a,u,(function(t,r){t?(tl("signUp_failure",t,o+" failed to signup"),n(t)):(tl("signUp",r,o+" has signed up successfully"),e(r))}),i)}))):this.rejectAuthError(Xa.EmptyPassword):this.rejectAuthError(Xa.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xa.EmptyUsername);if(!t)return this.rejectAuthError(Xa.EmptyCode);var r,i=this.createCognitoUser(e),o=!n||"boolean"!=typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){i.confirmRegistration(t,o,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xa.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"==typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(Xa.InvalidUsername);void 0!==t&&Xc.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(Xa.EmptyUsername);var s=new fu({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(s):this.signInWithoutPassword(s)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return Zc(r,void 0,void 0,(function(){var r,s,a,u;return Qc(this,(function(c){switch(c.label){case 0:Xc.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=c.sent(),Xc.debug("succeed to get cognito credentials",r),[3,9];case 4:return s=c.sent(),Xc.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return a=c.sent(),i.user=a,tl("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),Xc.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Xc.debug("signIn failure",t),tl("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Xc.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Xc.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Xc.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Xc.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Xc.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Xc.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Xc.debug("get MFA Options failed",e),void n(e);Xc.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var s=n._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData((function(t,s){return Zc(n,void 0,void 0,(function(){var n,a;return Qc(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Xc.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(a=r._getMfaTypeFromUserData(s))?(i(a),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:a,clientMetadata:s})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":Xc.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return Zc(n,void 0,void 0,(function(){var n;return Qc(this,(function(s){switch(s.label){case 0:if(!t)return[3,5];if(Xc.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return n=s.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),s.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return Zc(this,void 0,void 0,(function(){var n,r,i,o,s,a,u=this;return Qc(this,(function(c){switch(c.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=c.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return s=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(a=c.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===a)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==a)return[2,this.rejectAuthError(Xa.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return s&&0!==s.length&&s.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Xc.debug("no validmfa method provided"),[2,this.rejectAuthError(Xa.NoMFA)];case 7:return[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return Xc.debug("Set user mfa preference error",i),r(i);Xc.debug("Set user mfa success",o),Xc.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return Zc(u,void 0,void 0,(function(){var i;return Qc(this,(function(s){switch(s.label){case 0:if(!n)return[3,5];if(Xc.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Xc.debug("disable mfa failed",e),void n(e);Xc.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Xc.debug("enable mfa failed",e),void n(e);Xc.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Xc.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Xc.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return Xc.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Xc.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){tl("signIn",e,"A user "+e.getUsername()+" has been signed in"),Xc.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Xa.EmptyCode);var o=this;return new Promise((function(s,a){e.sendMFACode(t,{onSuccess:function(t){return Zc(i,void 0,void 0,(function(){var n,r;return Qc(this,(function(i){switch(i.label){case 0:Xc.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Xc.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Xc.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,tl("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Xc.debug("confirm signIn failure",e),a(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(Xa.EmptyPassword);var o=this;return new Promise((function(s,a){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return Zc(i,void 0,void 0,(function(){var n,r;return Qc(this,(function(i){switch(i.label){case 0:Xc.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Xc.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Xc.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,tl("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Xc.debug("completeNewPassword failure",e),tl("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,n){Xc.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,s(e)},mfaSetup:function(t,n){Xc.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)},totpRequired:function(t,n){Xc.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,s(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;return void 0===n&&(n=this._config.clientMetadata),this.userPool?t?new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)})):this.rejectAuthError(Xa.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return Zc(this,void 0,void 0,(function(){var e,t,n=this;return Qc(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Xc.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return Zc(n,void 0,void 0,(function(){var n,i=this;return Qc(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Xc.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,s){return Zc(i,void 0,void 0,(function(){var i,s=this;return Qc(this,(function(a){switch(a.label){case 0:if(!o)return[3,5];if(Xc.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{tl("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){Xc.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,r):(tl("signOut",s.user,"A user has been signed out"),e(o))}})),a.label=6;case 6:return[2]}}))}))}))}else Xc.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,s){i.userSession(e).then((function(i){for(var a in t)if("sub"!==a&&a.indexOf("_verified")<0){var u={Name:a,Value:t[a]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?s(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return Zc(this,void 0,void 0,(function(){var t=this;return Qc(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Xc.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(tl("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return Zc(t,void 0,void 0,(function(){var t,i,o=this;return Qc(this,(function(s){switch(s.label){case 0:return this.isOAuthInProgress()?(Xc.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Xc.debug("OAuth signIn in progress timeout"),ve.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Xc.debug("OAuth signIn resolved: "+i),clearTimeout(t),ve.remove("auth",n),e())}ve.listen("auth",n)}))]):[3,2];case 1:s.sent(),s.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,s){return Zc(o,void 0,void 0,(function(){var o,a,u,c,l=this;return Qc(this,(function(f){switch(f.label){case 0:if(!i)return[3,5];if(Xc.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(i),[2];case 5:return(a=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:f.sent(),f.label=7;case 7:return u=this._config.clientMetadata,c=s.getAccessToken().decodePayload().scope,(void 0===c?"":c).split(" ").includes($c)?(t.getUserData((function(e,i){return Zc(l,void 0,void 0,(function(){var o,s,a,u,c,l,f;return Qc(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(Xc.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(s=i.PreferredMfaSetting||"NOMFA",a=[],u=0;u<i.UserAttributes.length;u++)c={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},l=new uc(c),a.push(l);return f=this.attributesToObject(a),Object.assign(t,{attributes:f,preferredMFA:s}),[2,n(t)]}}))}))}),{bypassCache:a,clientMetadata:u}),[2]):(Xc.debug("Unable to get the user data because the "+$c+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(Xc.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return Xc.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return Zc(this,void 0,void 0,(function(){var t,n,r,i,o;return Qc(this,(function(s){switch(s.label){case 0:Xc.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw n=s.sent(),Xc.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=Jc(Jc({},r.user),{token:r.token}))}catch(e){Xc.debug("cannot load federated user from auth storage")}return t?(this.user=t,Xc.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Xc.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&Xc.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Xc.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Xc.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Xc.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Xc.debug("Failed to get the current user",e),n(e)}))})):this.rejectNoUserPool()},e.prototype.userSession=function(e){var t=this;if(!e)return Xc.debug("the user is null"),this.rejectAuthError(Xa.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,i){Xc.debug("Getting the session from this user:",e),e.getSession((function(n,o){return Zc(t,void 0,void 0,(function(){var t;return Qc(this,(function(s){switch(s.label){case 0:if(!n)return[3,5];if(Xc.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),i(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(n),[2];case 5:return Xc.debug("Succeed to get the user session",o),r(o),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return Zc(this,void 0,void 0,(function(){var e,t,n=this;return Qc(this,(function(r){switch(r.label){case 0:Xc.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Xc.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){Xc.debug("failed to get or parse item aws-amplify-federatedInfo",e)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Xc.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Xc.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Xc.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(Xa.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return Zc(this,void 0,void 0,(function(){var n,r,i=this;return Qc(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Xc.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){Xc.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession((function(e,s){return Zc(i,void 0,void 0,(function(){var i,s=this;return Qc(this,(function(a){switch(a.label){case 0:if(!e)return[3,5];if(Xc.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Xc.debug("global sign out success"),!r)return n();s.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Xc.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:s})}else Xc.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){Ue.browserOrNode().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return Zc(this,void 0,void 0,(function(){var t;return Qc(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Xc.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Xc.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Xc.debug("no Cognito User pool"),n.label=8;case 8:return tl("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return Zc(this,void 0,void 0,(function(){return Qc(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,s){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(Xc.debug("change password failure",e),s(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xa.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Xc.debug("forgot password failure",t),tl("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){tl("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(Xa.EmptyUsername);if(!t)return this.rejectAuthError(Xa.EmptyCode);if(!n)return this.rejectAuthError(Xa.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,s){i.confirmPassword(t,n,{onSuccess:function(t){tl("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){tl("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},r)}))},e.prototype.currentUserInfo=function(){return Zc(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return Qc(this,(function(a){switch(a.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Xc.error(e)}))];case 1:if(!(s=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(s)];case 3:t=a.sent(),n=this.attributesToObject(t),r=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=a.sent(),[3,7];case 6:return i=a.sent(),Xc.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:s.getUsername(),attributes:n}];case 8:return o=a.sent(),Xc.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(s=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return Zc(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h;return Qc(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return cu(e)||(g=e)&&["customProvider"].find((function(e){return g.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||void 0===e?(r=e||{provider:Ya.Cognito},a=cu(r)?r.provider:r.customProvider,cu(r),i=r.customState,this._config.userPoolId&&(o=lu(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,s=lu(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,s,o,a,i)),[3,4]):[3,1];case 1:a=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Xc.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return c=t.token,l=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:a,token:c,identity_id:l,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),tl("signIn",h,"A user "+h.username+" has been signed in"),Xc.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var g}))}))},e.prototype._handleAuthResponse=function(e){return Zc(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p;return Qc(this,(function(g){switch(g.label){case 0:if(this.oAuthFlowInProgress)return Xc.debug("Skipping URL "+e+" current flow in progress"),[2];g.label=1;case 1:if(g.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(tl("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(Ue.browserOrNode().isBrowser?window.location.href:""),n=!!(Pt(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=Yc(e,1)[0];return"code"===t||"error"===t})),r=!!(Pt(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=Yc(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),g.label=2;case 2:return g.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=g.sent(),o=i.accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new ic({IdToken:new tc({IdToken:s}),RefreshToken:new nc({RefreshToken:a}),AccessToken:new $u({AccessToken:o})}),l=void 0,this._config.identityPoolId?[4,this.Credentials.set(c,"session")]:[3,5];case 4:l=g.sent(),Xc.debug("AWS credentials",l),g.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),tl("signIn",d,"A user "+d.getUsername()+" has been signed in"),tl("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),tl("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,l];case 6:return p=g.sent(),Xc.debug("Error in cognito hosted auth response",p),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),tl("signIn_failure",p,"The OAuth response flow failed"),tl("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),tl("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new hc(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?Xa.NoConfig:Xa.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Vc(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new Wc(e))},e.prototype.rememberDevice=function(){return Zc(this,void 0,void 0,(function(){var e,t;return Qc(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Xc.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vc(Xa.DeviceConfig)):"NetworkError"===e.code?n(new Vc(Xa.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return Zc(this,void 0,void 0,(function(){var e,t;return Qc(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Xc.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vc(Xa.DeviceConfig)):"NetworkError"===e.code?n(new Vc(Xa.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return Zc(this,void 0,void 0,(function(){var e,t;return Qc(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Xc.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Vc(Xa.DeviceConfig)):"NetworkError"===e.code?n(new Vc(Xa.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),rl=new nl(null);ae.register(rl);var il={keyPrefix:"aws-amplify-cache",capacityInBytes:1048576,itemMaxSize:21e4,defaultTTL:2592e5,defaultPriority:5,warningThreshold:.8,storage:(new No).getStorage()};function ol(e){var t=0;t=e.length;for(var n=e.length;n>=0;n-=1){var r=e.charCodeAt(n);r>127&&r<=2047?t+=1:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&(n-=1)}return t}function sl(){return(new Date).getTime()}function al(e){return Number.isInteger?Number.isInteger(e):function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}var ul=new ie("StorageCache"),cl=function(){function e(e){this.config=Object.assign({},e),this.cacheCurSizeKey=this.config.keyPrefix+"CurSize",this.checkConfig()}return e.prototype.getModuleName=function(){return"Cache"},e.prototype.checkConfig=function(){al(this.config.capacityInBytes)||(ul.error("Invalid parameter: capacityInBytes. It should be an Integer. Setting back to default."),this.config.capacityInBytes=il.capacityInBytes),al(this.config.itemMaxSize)||(ul.error("Invalid parameter: itemMaxSize. It should be an Integer. Setting back to default."),this.config.itemMaxSize=il.itemMaxSize),al(this.config.defaultTTL)||(ul.error("Invalid parameter: defaultTTL. It should be an Integer. Setting back to default."),this.config.defaultTTL=il.defaultTTL),al(this.config.defaultPriority)||(ul.error("Invalid parameter: defaultPriority. It should be an Integer. Setting back to default."),this.config.defaultPriority=il.defaultPriority),this.config.itemMaxSize>this.config.capacityInBytes&&(ul.error("Invalid parameter: itemMaxSize. It should be smaller than capacityInBytes. Setting back to default."),this.config.itemMaxSize=il.itemMaxSize),(this.config.defaultPriority>5||this.config.defaultPriority<1)&&(ul.error("Invalid parameter: defaultPriority. It should be between 1 and 5. Setting back to default."),this.config.defaultPriority=il.defaultPriority),(Number(this.config.warningThreshold)>1||Number(this.config.warningThreshold)<0)&&(ul.error("Invalid parameter: warningThreshold. It should be between 0 and 1. Setting back to default."),this.config.warningThreshold=il.warningThreshold);this.config.capacityInBytes>5242880&&(ul.error("Cache Capacity should be less than 5MB. Setting back to default. Setting back to default."),this.config.capacityInBytes=il.capacityInBytes)},e.prototype.fillCacheItem=function(e,t,n){var r={key:e,data:t,timestamp:sl(),visitedTime:sl(),priority:n.priority,expires:n.expires,type:typeof t,byteSize:0};return r.byteSize=ol(JSON.stringify(r)),r.byteSize=ol(JSON.stringify(r)),r},e.prototype.configure=function(e){return e?(e.keyPrefix&&ul.warn("Don't try to configure keyPrefix!"),this.config=Object.assign({},this.config,e,e.Cache),this.checkConfig(),this.config):this.config},e}(),ll=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fl=new ie("Cache"),dl=function(e){function t(t){var n=this,r=t?Object.assign({},il,t):il;return(n=e.call(this,r)||this).config.storage=r.storage,n.getItem=n.getItem.bind(n),n.setItem=n.setItem.bind(n),n.removeItem=n.removeItem.bind(n),n}return ll(t,e),t.prototype._decreaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t-e).toString())},t.prototype._increaseCurSizeInBytes=function(e){var t=this.getCacheCurSize();this.config.storage.setItem(this.cacheCurSizeKey,(t+e).toString())},t.prototype._refreshItem=function(e,t){return e.visitedTime=sl(),this.config.storage.setItem(t,JSON.stringify(e)),e},t.prototype._isExpired=function(e){var t=this.config.storage.getItem(e),n=JSON.parse(t);return sl()>=n.expires},t.prototype._removeItem=function(e,t){var n=t||JSON.parse(this.config.storage.getItem(e)).byteSize;this._decreaseCurSizeInBytes(n),this.config.storage.removeItem(e)},t.prototype._setItem=function(e,t){this._increaseCurSizeInBytes(t.byteSize);try{this.config.storage.setItem(e,JSON.stringify(t))}catch(e){this._decreaseCurSizeInBytes(t.byteSize),fl.error("Failed to set item "+e)}},t.prototype._sizeToPop=function(e){var t=this.getCacheCurSize()+e-this.config.capacityInBytes,n=(1-this.config.warningThreshold)*this.config.capacityInBytes;return t>n?t:n},t.prototype._isCacheFull=function(e){return e+this.getCacheCurSize()>this.config.capacityInBytes},t.prototype._findValidKeys=function(){for(var e=[],t=[],n=0;n<this.config.storage.length;n+=1)t.push(this.config.storage.key(n));for(n=0;n<t.length;n+=1){var r=t[n];0===r.indexOf(this.config.keyPrefix)&&r!==this.cacheCurSizeKey&&(this._isExpired(r)?this._removeItem(r):e.push(r))}return e},t.prototype._popOutItems=function(e,t){for(var n=[],r=t,i=0;i<e.length;i+=1){var o=this.config.storage.getItem(e[i]);if(null!=o){var s=JSON.parse(o);n.push(s)}}n.sort((function(e,t){return e.priority>t.priority?-1:e.priority<t.priority?1:e.visitedTime<t.visitedTime?-1:1}));for(i=0;i<n.length;i+=1)if(this._removeItem(n[i].key,n[i].byteSize),(r-=n[i].byteSize)<=0)return},t.prototype.setItem=function(e,t,n){fl.log("Set item: key is "+e+", value is "+t+" with options: "+n);var r=this.config.keyPrefix+e;if(r!==this.config.keyPrefix&&r!==this.cacheCurSizeKey)if(void 0!==t){var i={priority:n&&void 0!==n.priority?n.priority:this.config.defaultPriority,expires:n&&void 0!==n.expires?n.expires:this.config.defaultTTL+sl()};if(i.priority<1||i.priority>5)fl.warn("Invalid parameter: priority due to out or range. It should be within 1 and 5.");else{var o=this.fillCacheItem(r,t,i);if(o.byteSize>this.config.itemMaxSize)fl.warn("Item with key: "+e+" you are trying to put into is too big!");else try{var s=this.config.storage.getItem(r);if(s&&this._removeItem(r,JSON.parse(s).byteSize),this._isCacheFull(o.byteSize)){var a=this._findValidKeys();if(this._isCacheFull(o.byteSize)){var u=this._sizeToPop(o.byteSize);this._popOutItems(a,u)}}this._setItem(r,o)}catch(e){fl.warn("setItem failed! "+e)}}}else fl.warn("The value of item should not be undefined!");else fl.warn("Invalid key: should not be empty or 'CurSize'")},t.prototype.getItem=function(e,t){fl.log("Get item: key is "+e+" with options "+t);var n=null,r=this.config.keyPrefix+e;if(r===this.config.keyPrefix||r===this.cacheCurSizeKey)return fl.warn("Invalid key: should not be empty or 'CurSize'"),null;try{if(null!=(n=this.config.storage.getItem(r))){if(!this._isExpired(r)){var i=JSON.parse(n);return(i=this._refreshItem(i,r)).data}this._removeItem(r,JSON.parse(n).byteSize),n=null}if(t&&void 0!==t.callback){var o=t.callback();return null!==o&&this.setItem(e,o,t),o}return null}catch(e){return fl.warn("getItem failed! "+e),null}},t.prototype.removeItem=function(e){fl.log("Remove item: key is "+e);var t=this.config.keyPrefix+e;if(t!==this.config.keyPrefix&&t!==this.cacheCurSizeKey)try{var n=this.config.storage.getItem(t);n&&this._removeItem(t,JSON.parse(n).byteSize)}catch(e){fl.warn("removeItem failed! "+e)}},t.prototype.clear=function(){fl.log("Clear Cache");for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&e.push(n)}try{for(t=0;t<e.length;t+=1)this.config.storage.removeItem(e[t])}catch(e){fl.warn("clear failed! "+e)}},t.prototype.getAllKeys=function(){for(var e=[],t=0;t<this.config.storage.length;t+=1){var n=this.config.storage.key(t);0===n.indexOf(this.config.keyPrefix)&&n!==this.cacheCurSizeKey&&e.push(n.substring(this.config.keyPrefix.length))}return e},t.prototype.getCacheCurSize=function(){var e=this.config.storage.getItem(this.cacheCurSizeKey);return e||(this.config.storage.setItem(this.cacheCurSizeKey,"0"),e="0"),Number(e)},t.prototype.createInstance=function(e){return e.keyPrefix&&e.keyPrefix!==il.keyPrefix||(fl.error("invalid keyPrefix, setting keyPrefix with timeStamp"),e.keyPrefix=sl.toString()),new t(e)},t}(cl),hl=new dl,pl=hl;ae.register(hl);var gl=yl,vl=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=void 0;var n=function(){function e(){this.crc32=new gl.Crc32}return e.prototype.update=function(e){(0,qn.isEmptyData)(e)||this.crc32.update((0,qn.convertToBuffer)(e))},e.prototype.digest=function(){return(0,at.__awaiter)(this,void 0,void 0,(function(){return(0,at.__generator)(this,(function(e){return[2,(0,qn.numToUint8)(this.crc32.digest())]}))}))},e}();t.AwsCrc32=n})),yl=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0,t.crc32=function(e){return(new n).update(e).digest()};var n=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(e){var t,n;try{for(var i=(0,at.__values)(e),o=i.next();!o.done;o=i.next()){var s=o.value;this.checksum=this.checksum>>>8^r[255&(this.checksum^s)]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}();t.Crc32=n;var r=(0,qn.uint32ArrayFrom)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return vl.AwsCrc32}})})),ml=function(){function e(e){if(this.bytes=e,8!==e.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}return e.fromNumber=function(t){if(t>0x8000000000000000||t<-0x8000000000000000)throw new Error(t+" is too large (or, if negative, too small) to represent as an Int64");for(var n=new Uint8Array(8),r=7,i=Math.abs(Math.round(t));r>-1&&i>0;r--,i/=256)n[r]=i;return t<0&&bl(n),new e(n)},e.prototype.valueOf=function(){var e=this.bytes.slice(0),t=128&e[0];return t&&bl(e),parseInt(mt(e),16)*(t?-1:1)},e.prototype.toString=function(){return String(this.valueOf())},e}();function bl(e){for(var t=0;t<8;t++)e[t]^=255;for(t=7;t>-1&&(e[t]++,0===e[t]);t--);}var wl,Sl=function(){function e(e,t){this.toUtf8=e,this.fromUtf8=t}return e.prototype.format=function(e){var t,n,r,i,o=[];try{for(var s=Ge(Object.keys(e)),a=s.next();!a.done;a=s.next()){var u=a.value,c=this.fromUtf8(u);o.push(Uint8Array.from([c.byteLength]),c,this.formatHeaderValue(e[u]))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=new Uint8Array(o.reduce((function(e,t){return e+t.byteLength}),0)),f=0;try{for(var d=Ge(o),h=d.next();!h.done;h=d.next()){var p=h.value;l.set(p,f),f+=p.byteLength}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return l},e.prototype.formatHeaderValue=function(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":var t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,e.value,!1),new Uint8Array(t.buffer);case"integer":var n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":var r=new Uint8Array(9);return r[0]=5,r.set(e.value.bytes,1),r;case"binary":var i=new DataView(new ArrayBuffer(3+e.value.byteLength));i.setUint8(0,6),i.setUint16(1,e.value.byteLength,!1);var o=new Uint8Array(i.buffer);return o.set(e.value,3),o;case"string":var s=this.fromUtf8(e.value),a=new DataView(new ArrayBuffer(3+s.byteLength));a.setUint8(0,7),a.setUint16(1,s.byteLength,!1);var u=new Uint8Array(a.buffer);return u.set(s,3),u;case"timestamp":var c=new Uint8Array(9);return c[0]=8,c.set(ml.fromNumber(e.value.valueOf()).bytes,1),c;case"uuid":if(!Ol.test(e.value))throw new Error("Invalid UUID received: "+e.value);var l=new Uint8Array(17);return l[0]=9,l.set(function(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2){var r=e.substr(n,2).toLowerCase();if(!(r in gt))throw new Error("Cannot decode unrecognized sequence "+r+" as hexadecimal");t[n/2]=gt[r]}return t}(e.value.replace(/\-/g,"")),1),l}},e.prototype.parse=function(e){for(var t={},n=0;n<e.byteLength;){var r=e.getUint8(n++),i=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,r));switch(n+=r,e.getUint8(n++)){case 0:t[i]={type:El,value:!0};break;case 1:t[i]={type:El,value:!1};break;case 2:t[i]={type:Al,value:e.getInt8(n++)};break;case 3:t[i]={type:Cl,value:e.getInt16(n,!1)},n+=2;break;case 4:t[i]={type:_l,value:e.getInt32(n,!1)},n+=4;break;case 5:t[i]={type:xl,value:new ml(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:var o=e.getUint16(n,!1);n+=2,t[i]={type:Il,value:new Uint8Array(e.buffer,e.byteOffset+n,o)},n+=o;break;case 7:var s=e.getUint16(n,!1);n+=2,t[i]={type:Tl,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s))},n+=s;break;case 8:t[i]={type:Pl,value:new Date(new ml(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:var a=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,t[i]={type:kl,value:mt(a.subarray(0,4))+"-"+mt(a.subarray(4,6))+"-"+mt(a.subarray(6,8))+"-"+mt(a.subarray(8,10))+"-"+mt(a.subarray(10))};break;default:throw new Error("Unrecognized header type tag")}}return t},e}();!function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"}(wl||(wl={}));var El="boolean",Al="byte",Cl="short",_l="integer",xl="long",Il="binary",Tl="string",Pl="timestamp",kl="uuid",Ol=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var Nl=function(){function e(e,t){this.headerMarshaller=new Sl(e,t)}return e.prototype.marshall=function(e){var t=e.headers,n=e.body,r=this.headerMarshaller.format(t),i=r.byteLength+n.byteLength+16,o=new Uint8Array(i),s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new yl.Crc32;return s.setUint32(0,i,!1),s.setUint32(4,r.byteLength,!1),s.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(r,12),o.set(n,r.byteLength+12),s.setUint32(i-4,a.update(o.subarray(8,i-4)).digest(),!1),o},e.prototype.unmarshall=function(e){var t=function(e){var t=e.byteLength,n=e.byteOffset,r=e.buffer;if(t<16)throw new Error("Provided message too short to accommodate event stream message overhead");var i=new DataView(r,n,t),o=i.getUint32(0,!1);if(t!==o)throw new Error("Reported message length does not match received message length");var s=i.getUint32(4,!1),a=i.getUint32(8,!1),u=i.getUint32(t-4,!1),c=(new yl.Crc32).update(new Uint8Array(r,n,8));if(a!==c.digest())throw new Error("The prelude checksum specified in the message ("+a+") does not match the calculated CRC32 checksum ("+c.digest()+")");if(c.update(new Uint8Array(r,n+8,t-12)),u!==c.digest())throw new Error("The message checksum ("+c.digest()+") did not match the expected value of "+u);return{headers:new DataView(r,n+8+4,s),body:new Uint8Array(r,n+8+4+s,o-s-16)}}(e),n=t.headers,r=t.body;return{headers:this.headerMarshaller.parse(n),body:r}},e.prototype.formatHeaders=function(e){return this.headerMarshaller.format(e)},e}();var Ml=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Nl(t,n),this.utfEncoder=t}return e.prototype.deserialize=function(e,t){var n,r,i,o,s,a,u,c=(n=e,i=0,o=0,s=null,a=null,u=function(e){if("number"!=typeof e)throw new Error("Attempted to allocate an event message where size was not a number: "+e);i=e,o=4,s=new Uint8Array(e),new DataView(s.buffer).setUint32(0,e,!1)},(r={})[Symbol.asyncIterator]=function(){return Ye(this,arguments,(function(){var e,t,r,c,l,f,d,h;return We(this,(function(p){switch(p.label){case 0:e=n[Symbol.asyncIterator](),p.label=1;case 1:return[4,Qe(e.next())];case 2:return t=p.sent(),r=t.value,t.done?i?[3,4]:[4,Qe(void 0)]:[3,10];case 3:return[2,p.sent()];case 4:return i!==o?[3,7]:[4,Qe(s)];case 5:return[4,p.sent()];case 6:return p.sent(),[3,8];case 7:throw new Error("Truncated event message received.");case 8:return[4,Qe(void 0)];case 9:return[2,p.sent()];case 10:c=r.length,l=0,p.label=11;case 11:if(!(l<c))return[3,15];if(!s){if(f=c-l,a||(a=new Uint8Array(4)),d=Math.min(4-o,f),a.set(r.slice(l,l+d),o),l+=d,(o+=d)<4)return[3,15];u(new DataView(a.buffer).getUint32(0,!1)),a=null}return h=Math.min(i-o,c-l),s.set(r.slice(l,l+h),o),o+=h,l+=h,i&&i===o?[4,Qe(s)]:[3,14];case 12:return[4,p.sent()];case 13:p.sent(),s=null,i=0,o=0,p.label=14;case 14:return[3,11];case 15:return[3,1];case 16:return[2]}}))}))},r),l=function(e,t){var n;return(n={})[Symbol.asyncIterator]=function(){return Ye(this,arguments,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m;return We(this,(function(b){switch(b.label){case 0:b.trys.push([0,12,13,18]),n=Xe(e),b.label=1;case 1:return[4,Qe(n.next())];case 2:if((r=b.sent()).done)return[3,11];if(i=r.value,o=t.eventMarshaller.unmarshall(i),"error"!==(s=o.headers[":message-type"].value))return[3,3];throw(a=new Error(o.headers[":error-message"].value||"UnknownError")).name=o.headers[":error-code"].value,a;case 3:return"exception"!==s?[3,5]:(u=o.headers[":exception-type"].value,(g={})[u]=o,c=g,[4,Qe(t.deserializer(c))]);case 4:if((l=b.sent()).$unknown)throw(f=new Error(t.toUtf8(o.body))).name=u,f;throw l[u];case 5:return"event"!==s?[3,9]:((v={})[o.headers[":event-type"].value]=o,d=v,[4,Qe(t.deserializer(d))]);case 6:return(h=b.sent()).$unknown?[3,10]:[4,Qe(h)];case 7:return[4,b.sent()];case 8:return b.sent(),[3,10];case 9:throw Error("Unrecognizable event type: "+o.headers[":event-type"].value);case 10:return[3,1];case 11:return[3,18];case 12:return p=b.sent(),y={error:p},[3,18];case 13:return b.trys.push([13,,16,17]),r&&!r.done&&(m=n.return)?[4,Qe(m.call(n))]:[3,15];case 14:b.sent(),b.label=15;case 15:return[3,17];case 16:if(y)throw y.error;return[7];case 17:return[7];case 18:return[2]}}))}))},n}(c,{eventMarshaller:this.eventMarshaller,deserializer:t,toUtf8:this.utfEncoder});return l},e.prototype.serialize=function(e,t){var n,r=this;return(n={})[Symbol.asyncIterator]=function(){return Ye(this,arguments,(function(){var n,i,o,s,a,u;return We(this,(function(c){switch(c.label){case 0:c.trys.push([0,7,8,13]),n=Xe(e),c.label=1;case 1:return[4,Qe(n.next())];case 2:return(i=c.sent()).done?[3,6]:(o=i.value,[4,Qe(r.eventMarshaller.marshall(t(o)))]);case 3:return[4,c.sent()];case 4:c.sent(),c.label=5;case 5:return[3,1];case 6:return[3,13];case 7:return s=c.sent(),a={error:s},[3,13];case 8:return c.trys.push([8,,11,12]),i&&!i.done&&(u=n.return)?[4,Qe(u.call(n))]:[3,10];case 9:c.sent(),c.label=10;case 10:return[3,12];case 11:if(a)throw a.error;return[7];case 12:return[7];case 13:return[4,Qe(new Uint8Array(0))];case 14:return[4,c.sent()];case 15:return c.sent(),[2]}}))}))},n},e}(),Ll=function(){function e(e){var t=e.utf8Encoder,n=e.utf8Decoder;this.eventMarshaller=new Nl(t,n),this.universalMarshaller=new Ml({utf8Decoder:n,utf8Encoder:t})}return e.prototype.deserialize=function(e,t){var n,r,i=Rl(e)?(n=e,(r={})[Symbol.asyncIterator]=function(){return Ye(this,arguments,(function(){var e,t,r,i;return We(this,(function(o){switch(o.label){case 0:e=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Qe(e.read())];case 3:return t=o.sent(),r=t.done,i=t.value,r?[4,Qe(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Qe(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))},r):e;return this.universalMarshaller.deserialize(i,t)},e.prototype.serialize=function(e,t){var n,r=this.universalMarshaller.serialize(e,t);return"function"==typeof ReadableStream?(n=r[Symbol.asyncIterator](),new ReadableStream({pull:function(e){return Ve(this,void 0,void 0,(function(){var t,r,i;return We(this,(function(o){switch(o.label){case 0:return[4,n.next()];case 1:return t=o.sent(),r=t.done,i=t.value,r?[2,e.close()]:(e.enqueue(i),[2])}}))}))}})):r},e}(),Rl=function(e){return"function"==typeof ReadableStream&&e instanceof ReadableStream},Ul=function(e,t){return Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Ul(e,t)};function Dl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Ul(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Bl=function(){return Bl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Bl.apply(this,arguments)};function jl(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function Fl(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var zl="3.6.1";function Kl(e,t,n){return void 0===n&&(n=1048576),new Promise((function(r,i){var o=new FileReader;o.addEventListener("error",i),o.addEventListener("abort",i);var s=e.size,a=0;function u(){a>=s?r():o.readAsArrayBuffer(e.slice(a,Math.min(s,a+n)))}o.addEventListener("load",(function(e){var n=e.target.result;t(new Uint8Array(n)),a+=n.byteLength,u()})),u()}))}var ql=64,Hl=[1732584193,4023233417,2562383102,271733878],Vl=function(){function e(){this.state=Uint32Array.from(Hl),this.buffer=new DataView(new ArrayBuffer(ql)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(!function(e){if("string"==typeof e)return 0===e.length;return 0===e.byteLength}(e)){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=function(e){if("string"==typeof e)return On(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT);return new Uint8Array(e)}(e),n=0,r=t.byteLength;for(this.bytesHashed+=r;r>0;)this.buffer.setUint8(this.bufferLength++,t[n++]),r--,this.bufferLength===ql&&(this.hashBuffer(),this.bufferLength=0)}},e.prototype.digest=function(){return Ve(this,void 0,void 0,(function(){var e,t,n,r,i,o,s;return We(this,(function(a){if(!this.finished){if(t=(e=this).buffer,n=e.bufferLength,r=e.bytesHashed,i=8*r,t.setUint8(this.bufferLength++,128),n%ql>=56){for(s=this.bufferLength;s<ql;s++)t.setUint8(s,0);this.hashBuffer(),this.bufferLength=0}for(s=this.bufferLength;s<56;s++)t.setUint8(s,0);t.setUint32(56,i>>>0,!0),t.setUint32(60,Math.floor(i/4294967296),!0),this.hashBuffer(),this.finished=!0}for(o=new DataView(new ArrayBuffer(16)),s=0;s<4;s++)o.setUint32(4*s,this.state[s],!0);return[2,new Uint8Array(o.buffer,o.byteOffset,o.byteLength)]}))}))},e.prototype.hashBuffer=function(){var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3];n=Gl(n,r,i,o,e.getUint32(0,!0),7,3614090360),o=Gl(o,n,r,i,e.getUint32(4,!0),12,3905402710),i=Gl(i,o,n,r,e.getUint32(8,!0),17,606105819),r=Gl(r,i,o,n,e.getUint32(12,!0),22,3250441966),n=Gl(n,r,i,o,e.getUint32(16,!0),7,4118548399),o=Gl(o,n,r,i,e.getUint32(20,!0),12,1200080426),i=Gl(i,o,n,r,e.getUint32(24,!0),17,2821735955),r=Gl(r,i,o,n,e.getUint32(28,!0),22,4249261313),n=Gl(n,r,i,o,e.getUint32(32,!0),7,1770035416),o=Gl(o,n,r,i,e.getUint32(36,!0),12,2336552879),i=Gl(i,o,n,r,e.getUint32(40,!0),17,4294925233),r=Gl(r,i,o,n,e.getUint32(44,!0),22,2304563134),n=Gl(n,r,i,o,e.getUint32(48,!0),7,1804603682),o=Gl(o,n,r,i,e.getUint32(52,!0),12,4254626195),i=Gl(i,o,n,r,e.getUint32(56,!0),17,2792965006),n=Jl(n,r=Gl(r,i,o,n,e.getUint32(60,!0),22,1236535329),i,o,e.getUint32(4,!0),5,4129170786),o=Jl(o,n,r,i,e.getUint32(24,!0),9,3225465664),i=Jl(i,o,n,r,e.getUint32(44,!0),14,643717713),r=Jl(r,i,o,n,e.getUint32(0,!0),20,3921069994),n=Jl(n,r,i,o,e.getUint32(20,!0),5,3593408605),o=Jl(o,n,r,i,e.getUint32(40,!0),9,38016083),i=Jl(i,o,n,r,e.getUint32(60,!0),14,3634488961),r=Jl(r,i,o,n,e.getUint32(16,!0),20,3889429448),n=Jl(n,r,i,o,e.getUint32(36,!0),5,568446438),o=Jl(o,n,r,i,e.getUint32(56,!0),9,3275163606),i=Jl(i,o,n,r,e.getUint32(12,!0),14,4107603335),r=Jl(r,i,o,n,e.getUint32(32,!0),20,1163531501),n=Jl(n,r,i,o,e.getUint32(52,!0),5,2850285829),o=Jl(o,n,r,i,e.getUint32(8,!0),9,4243563512),i=Jl(i,o,n,r,e.getUint32(28,!0),14,1735328473),n=Zl(n,r=Jl(r,i,o,n,e.getUint32(48,!0),20,2368359562),i,o,e.getUint32(20,!0),4,4294588738),o=Zl(o,n,r,i,e.getUint32(32,!0),11,2272392833),i=Zl(i,o,n,r,e.getUint32(44,!0),16,1839030562),r=Zl(r,i,o,n,e.getUint32(56,!0),23,4259657740),n=Zl(n,r,i,o,e.getUint32(4,!0),4,2763975236),o=Zl(o,n,r,i,e.getUint32(16,!0),11,1272893353),i=Zl(i,o,n,r,e.getUint32(28,!0),16,4139469664),r=Zl(r,i,o,n,e.getUint32(40,!0),23,3200236656),n=Zl(n,r,i,o,e.getUint32(52,!0),4,681279174),o=Zl(o,n,r,i,e.getUint32(0,!0),11,3936430074),i=Zl(i,o,n,r,e.getUint32(12,!0),16,3572445317),r=Zl(r,i,o,n,e.getUint32(24,!0),23,76029189),n=Zl(n,r,i,o,e.getUint32(36,!0),4,3654602809),o=Zl(o,n,r,i,e.getUint32(48,!0),11,3873151461),i=Zl(i,o,n,r,e.getUint32(60,!0),16,530742520),n=Ql(n,r=Zl(r,i,o,n,e.getUint32(8,!0),23,3299628645),i,o,e.getUint32(0,!0),6,4096336452),o=Ql(o,n,r,i,e.getUint32(28,!0),10,1126891415),i=Ql(i,o,n,r,e.getUint32(56,!0),15,2878612391),r=Ql(r,i,o,n,e.getUint32(20,!0),21,4237533241),n=Ql(n,r,i,o,e.getUint32(48,!0),6,1700485571),o=Ql(o,n,r,i,e.getUint32(12,!0),10,2399980690),i=Ql(i,o,n,r,e.getUint32(40,!0),15,4293915773),r=Ql(r,i,o,n,e.getUint32(4,!0),21,2240044497),n=Ql(n,r,i,o,e.getUint32(32,!0),6,1873313359),o=Ql(o,n,r,i,e.getUint32(60,!0),10,4264355552),i=Ql(i,o,n,r,e.getUint32(24,!0),15,2734768916),r=Ql(r,i,o,n,e.getUint32(52,!0),21,1309151649),n=Ql(n,r,i,o,e.getUint32(16,!0),6,4149444226),o=Ql(o,n,r,i,e.getUint32(44,!0),10,3174756917),i=Ql(i,o,n,r,e.getUint32(8,!0),15,718787259),r=Ql(r,i,o,n,e.getUint32(36,!0),21,3951481745),t[0]=n+t[0]&4294967295,t[1]=r+t[1]&4294967295,t[2]=i+t[2]&4294967295,t[3]=o+t[3]&4294967295},e}();function Wl(e,t,n,r,i,o){return((t=(t+e&4294967295)+(r+o&4294967295)&4294967295)<<i|t>>>32-i)+n&4294967295}function Gl(e,t,n,r,i,o,s){return Wl(t&n|~t&r,e,t,i,o,s)}function Jl(e,t,n,r,i,o,s){return Wl(t&r|n&~r,e,t,i,o,s)}function Zl(e,t,n,r,i,o,s){return Wl(t^n^r,e,t,i,o,s)}function Ql(e,t,n,r,i,o,s){return Wl(n^(t|~r),e,t,i,o,s)}var Yl="s3.{region}.amazonaws.com",Xl=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),$l=new Set(["cn-north-1","cn-northwest-1"]),ef=new Set(["us-iso-east-1"]),tf=new Set(["us-isob-east-1"]),nf=new Set(["us-gov-east-1","us-gov-west-1"]),rf={apiVersion:"2006-03-01",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"af-south-1":n={hostname:"s3.af-south-1.amazonaws.com",partition:"aws"};break;case"ap-east-1":n={hostname:"s3.ap-east-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-1":n={hostname:"s3.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"s3.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"s3.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"s3.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"s3.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"aws-global":n={hostname:"s3.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"ca-central-1":n={hostname:"s3.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"s3.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"cn-northwest-1":n={hostname:"s3.cn-northwest-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"s3.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"s3.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-south-1":n={hostname:"s3.eu-south-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"s3.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"s3.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"s3.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-gov-west-1":n={hostname:"s3-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"me-south-1":n={hostname:"s3.me-south-1.amazonaws.com",partition:"aws"};break;case"s3-external-1":n={hostname:"s3-external-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"sa-east-1":n={hostname:"s3.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"s3.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"s3.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-east-1":n={hostname:"s3.us-gov-east-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-gov-west-1":n={hostname:"s3.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-iso-east-1":n={hostname:"s3.us-iso-east-1.c2s.ic.gov",partition:"aws-iso"};break;case"us-isob-east-1":n={hostname:"s3.us-isob-east-1.sc2s.sgov.gov",partition:"aws-iso-b"};break;case"us-west-1":n={hostname:"s3.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"s3.us-west-2.amazonaws.com",partition:"aws"};break;default:Xl.has(e)&&(n={hostname:Yl.replace("{region}",e),partition:"aws"}),$l.has(e)&&(n={hostname:"s3.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),ef.has(e)&&(n={hostname:"s3.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),tf.has(e)&&(n={hostname:"s3.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),nf.has(e)&&(n={hostname:"s3.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:Yl.replace("{region}",e),partition:"aws"})}return Promise.resolve(Bl({signingService:"s3"},n))},serviceId:"S3",signingEscapePath:!1,urlParser:ti,useArnRegion:!1},of=Bl(Bl({},rf),{runtime:"browser",base64Decoder:Er,base64Encoder:Ar,bodyLengthChecker:Yr,credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:ei({serviceId:rf.serviceId,clientVersion:zl}),eventStreamSerdeProvider:function(e){return new Ll(e)},maxAttempts:3,md5:Vl,region:xr("Region is missing"),requestHandler:new pr,sha256:ur.Sha256,streamCollector:Cr,streamHasher:function(e,t){return Ve(this,void 0,void 0,(function(){var n;return We(this,(function(r){switch(r.label){case 0:return n=new e,[4,Kl(t,(function(e){n.update(e)}))];case 1:return r.sent(),[2,n.digest()]}}))}))},utf8Decoder:On,utf8Encoder:Nn}),sf=function(e){return"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6},af=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,uf=/(\d+\.){3}\d+/,cf=/\.\./,lf=/\./,ff=/^(.+\.)?s3[.-]([a-z0-9-]+)\./,df=/^s3(-external-1)?\.amazonaws\.com$/,hf="amazonaws.com",pf=function(e){return vf(e)?e.replace(/fips-|-fips/,""):e},gf=function(e){var t=e.match(ff);return[t[2],e.replace(new RegExp("^"+t[0]),"")]},vf=function(e){return e.startsWith("fips-")||e.endsWith("-fips")},yf=function(e,t){return e===t||pf(e)===t||e===pf(t)},mf=function(e,t){if(void 0===t&&(t={tlsCompatible:!0}),e.length>=64||!/^[a-z0-9][a-z0-9.-]+[a-z0-9]$/.test(e)||/(\d+\.){3}\d+/.test(e)||/[.-]{2}/.test(e)||(null==t?void 0:t.tlsCompatible)&&lf.test(e))throw new Error("Invalid DNS label "+e)},bf=function(e){var t=e.isCustomEndpoint;e.baseHostname;var n=e.dualstackEndpoint,r=e.accelerateEndpoint;if(t){if(n)throw new Error("Dualstack endpoint is not supported with custom endpoint");if(r)throw new Error("Accelerate endpoint is not supported with custom endpoint")}return function(e){return"string"==typeof e.bucketName}(e)?Sf(qe(qe({},e),{isCustomEndpoint:t})):wf(qe(qe({},e),{isCustomEndpoint:t}))},wf=function(e){var t,n=e.isCustomEndpoint,r=e.baseHostname,i=Je(n?[e.clientRegion,r]:(t=r,df.test(t)?[t.replace(".amazonaws.com",""),hf]:gf(t)),2),o=i[0],s=i[1],a=e.pathStyleEndpoint,u=e.dualstackEndpoint,c=void 0!==u&&u,l=e.accelerateEndpoint,f=void 0!==l&&l,d=e.tlsCompatible,h=void 0===d||d,p=e.useArnRegion,g=e.bucketName,v=e.clientPartition,y=void 0===v?"aws":v,m=e.clientSigningRegion,b=void 0===m?o:m;!function(e){if(e.pathStyleEndpoint)throw new Error("Path-style S3 endpoint is not supported when bucket is an ARN");if(e.accelerateEndpoint)throw new Error("Accelerate endpoint is not supported when bucket is an ARN");if(!e.tlsCompatible)throw new Error("HTTPS is required when bucket is an ARN")}({pathStyleEndpoint:a,accelerateEndpoint:f,tlsCompatible:h});var w=g.service,S=g.partition,E=g.accountId,A=g.region,C=g.resource;!function(e){if("s3"!==e&&"s3-outposts"!==e)throw new Error("Expect 's3' or 's3-outposts' in ARN service component")}(w),function(e,t){if(e!==t.clientPartition)throw new Error('Partition in ARN is incompatible, got "'+e+'" but expected "'+t.clientPartition+'"')}(S,{clientPartition:y}),function(e){if(!/[0-9]{12}/.exec(e))throw new Error("Access point ARN accountID does not match regex '[0-9]{12}'")}(E),function(e,t){if(""===e)throw new Error("ARN region is empty");if(!t.useArnRegion&&!yf(e,t.clientRegion)&&!yf(e,t.clientSigningRegion))throw new Error("Region in ARN is incompatible, got "+e+" but expected "+t.clientRegion);if(t.useArnRegion&&vf(e))throw new Error("Endpoint does not support FIPS region")}(A,{useArnRegion:p,clientRegion:o,clientSigningRegion:b});var _=function(e){var t=e.includes(":")?":":"/",n=Je(e.split(t)),r=n[0],i=n.slice(1);if("accesspoint"===r){if(1!==i.length||""===i[0])throw new Error("Access Point ARN should have one resource accesspoint"+t+"{accesspointname}");return{accesspointName:i[0]}}if("outpost"===r){if(!i[0]||"accesspoint"!==i[1]||!i[2]||3!==i.length)throw new Error("Outpost ARN should have resource outpost"+t+"{outpostId}"+t+"accesspoint"+t+"{accesspointName}");var o=Je(i,3),s=o[0];return o[1],{outpostId:s,accesspointName:o[2]}}throw new Error("ARN resource should begin with 'accesspoint"+t+"' or 'outpost"+t+"'")}(C),x=_.accesspointName,I=_.outpostId;mf(x+"-"+E,{tlsCompatible:h});var T=p?A:o,P=p?A:b;return I?(function(e){if("s3-outposts"!==e)throw new Error("Expect 's3-posts' in Outpost ARN service component")}(w),mf(I,{tlsCompatible:h}),function(e){if(e)throw new Error("Dualstack endpoint is not supported with Outpost")}(c),function(e){if(vf(null!=e?e:""))throw new Error("FIPS region is not supported with Outpost, got "+e)}(T),{bucketEndpoint:!0,hostname:x+"-"+E+"."+I+(n?"":".s3-outposts."+T)+"."+s,signingRegion:P,signingService:"s3-outposts"}):(function(e){if("s3"!==e)throw new Error("Expect 's3' in Accesspoint ARN service component")}(w),{bucketEndpoint:!0,hostname:x+"-"+E+(n?"":".s3-accesspoint"+(c?".dualstack":"")+"."+T)+"."+s,signingRegion:P})},Sf=function(e){var t,n=e.accelerateEndpoint,r=void 0!==n&&n,i=e.clientRegion,o=e.baseHostname,s=e.bucketName,a=e.dualstackEndpoint,u=void 0!==a&&a,c=e.pathStyleEndpoint,l=void 0!==c&&c,f=e.tlsCompatible,d=void 0===f||f,h=e.isCustomEndpoint,p=Je(void 0!==h&&h?[i,o]:(t=o,df.test(t)?["us-east-1",hf]:gf(t)),2),g=p[0],v=p[1];return l||!function(e){return af.test(e)&&!uf.test(e)&&!cf.test(e)}(s)||d&&lf.test(s)?{bucketEndpoint:!1,hostname:u?"s3.dualstack."+g+"."+v:o}:(r?o="s3-accelerate"+(u?".dualstack":"")+"."+v:u&&(o="s3.dualstack."+g+"."+v),{bucketEndpoint:!0,hostname:s+"."+o})},Ef=function(e){return function(t,n){return function(r){return Ve(void 0,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S;return We(this,(function(E){switch(E.label){case 0:return i=r.input.Bucket,o=e.bucketEndpoint,s=r.request,lr.isInstance(s)?e.bucketEndpoint?(s.hostname=i,[3,7]):[3,1]:[3,8];case 1:return sf(i)?(a=function(e){var t=e.split(":");if(t.length<6||"arn"!==t[0])throw new Error("Malformed ARN");var n=Je(t);return{partition:n[1],service:n[2],region:n[3],accountId:n[4],resource:n.slice(5).join(":")}}(i),u=pf,[4,e.region()]):[3,5];case 2:return y=u.apply(void 0,[E.sent()]),[4,e.regionInfoProvider(y)];case 3:return c=E.sent()||{},l=c.partition,f=c.signingRegion,d=void 0===f?y:f,[4,e.useArnRegion()];case 4:return h=E.sent(),p=bf({bucketName:a,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,useArnRegion:h,clientPartition:l,clientSigningRegion:d,clientRegion:y,isCustomEndpoint:e.isCustomEndpoint}),w=p.hostname,S=p.bucketEndpoint,g=p.signingRegion,v=p.signingService,g&&g!==d&&(n.signing_region=g),v&&"s3"!==v&&(n.signing_service=v),s.hostname=w,o=S,[3,7];case 5:return m=pf,[4,e.region()];case 6:y=m.apply(void 0,[E.sent()]),b=bf({bucketName:i,clientRegion:y,baseHostname:s.hostname,accelerateEndpoint:e.useAccelerateEndpoint,dualstackEndpoint:e.useDualstackEndpoint,pathStyleEndpoint:e.forcePathStyle,tlsCompatible:"https:"===s.protocol,isCustomEndpoint:e.isCustomEndpoint}),w=b.hostname,S=b.bucketEndpoint,s.hostname=w,o=S,E.label=7;case 7:o&&(s.path=s.path.replace(/^(\/)?[^\/]+/,""),""===s.path&&(s.path="/")),E.label=8;case 8:return[2,t(qe(qe({},r),{request:s}))]}}))}))}}},Af={tags:["BUCKET_ENDPOINT"],name:"bucketEndpointMiddleware",relation:"before",toMiddleware:"hostHeaderMiddleware",override:!0},Cf=function(e){return{applyToStack:function(t){t.addRelativeTo(Ef(e),Af)}}};var _f={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},xf=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ve(t,void 0,void 0,(function(){var t;return We(this,(function(i){return t=r.request,lr.isInstance(t)&&t.body&&"node"===e.runtime&&(t.headers=qe(qe({},t.headers),{Expect:"100-continue"})),[2,n(qe(qe({},r),{request:t}))]}))}))}}}(e),_f)}}};var If,Tf,Pf,kf,Of,Nf,Mf,Lf,Rf,Uf,Df,Bf,jf,Ff,zf,Kf,qf,Hf,Vf,Wf,Gf,Jf,Zf,Qf,Yf,Xf,$f,ed,td,nd,rd,id,od,sd,ad,ud,cd,ld,fd,dd,hd,pd,gd,vd,yd,md,bd,wd,Sd,Ed,Ad,Cd,_d,xd,Id,Td,Pd,kd,Od,Nd,Md,Ld,Rd,Ud,Dd,Bd,jd,Fd,zd,Kd,qd,Hd,Vd,Wd,Gd,Jd,Zd,Qd,Yd,Xd,$d,eh,th,nh,rh,ih,oh,sh,ah,uh,ch,lh,fh,dh,hh,ph,gh,vh,yh,mh,bh,wh,Sh,Eh,Ah,Ch,_h,xh,Ih,Th,Ph,kh,Oh,Nh,Mh,Lh,Rh,Uh,Dh,Bh,jh,Fh,zh,Kh,qh,Hh,Vh,Wh,Gh,Jh,Zh,Qh,Yh,Xh,$h,ep,tp,np,rp,ip,op,sp,ap,up,cp,lp,fp,dp,hp,pp,gp,vp,yp,mp,bp,wp,Sp,Ep,Ap,Cp,_p,xp,Ip,Tp,Pp,kp,Op,Np,Mp,Lp,Rp,Up,Dp,Bp,jp,Fp,zp,Kp,qp,Hp,Vp,Wp,Gp,Jp,Zp,Qp,Yp,Xp,$p,eg,tg,ng,rg,ig,og,sg,ag,ug,cg,lg,fg,dg,hg,pg,gg,vg,yg,mg,bg,wg,Sg,Eg,Ag,Cg,_g,xg,Ig,Tg,Pg,kg,Og,Ng,Mg,Lg,Rg,Ug,Dg,Bg,jg,Fg,zg,Kg,qg,Hg,Vg,Wg,Gg,Jg,Zg,Qg,Yg,Xg,$g,ev,tv,nv,rv,iv,ov,sv,av,uv={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},cv=function(e){return{applyToStack:function(e){e.add(function(){var e=this;return function(t){return function(n){return Ve(e,void 0,void 0,(function(){var e,r;return We(this,(function(i){if("string"==typeof(e=n.input.Bucket)&&!sf(e)&&e.indexOf("/")>=0)throw(r=new Error("Bucket name shouldn't contain '/', received '"+e+"'")).name="InvalidBucketName",r;return[2,t(qe({},n))]}))}))}}}(),uv)}}},lv={step:"build",tags:["USE_REGIONAL_ENDPOINT","S3"],name:"useRegionalEndpointMiddleware",override:!0},fv=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return Ve(void 0,void 0,void 0,(function(){var r,i;return We(this,(function(o){switch(o.label){case 0:return r=n.request,!lr.isInstance(r)||e.isCustomEndpoint?[2,t(qe({},n))]:"s3.amazonaws.com"!==r.hostname?[3,1]:(r.hostname="s3.us-east-1.amazonaws.com",[3,3]);case 1:return i="aws-global",[4,e.region()];case 2:i===o.sent()&&(r.hostname="s3.amazonaws.com"),o.label=3;case 3:return[2,t(qe({},n))]}}))}))}}}(e),lv)}}},dv=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},hv=function(e,t){return dv(e,t).then((function(e){return t.utf8Encoder(e)}))},pv={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},gv=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t){return function(n){return Ve(void 0,void 0,void 0,(function(){var r,i,o,s,a,u,c;return We(this,(function(l){switch(l.label){case 0:return[4,t(n)];case 1:return r=l.sent(),i=r.response,cr.isInstance(i)?(o=i.statusCode,s=i.body,o<200&&o>=300?[2,r]:[4,dv(s,e)]):[2,r];case 2:return a=l.sent(),[4,hv(a,e)];case 3:if(u=l.sent(),0===a.length)throw(c=new Error("S3 aborted request")).name="InternalError",c;return u&&u.match("<Error>")&&(i.statusCode=400),i.body=a,[2,r]}}))}))}}}(e),pv)}}},vv=function(e){function t(t){var n,r,i=this,o=Bl(Bl({},of),t),s=oi(o),a=Hi(ni(s)),u=function(e){var t=e.bucketEndpoint,n=void 0!==t&&t,r=e.forcePathStyle,i=void 0!==r&&r,o=e.useAccelerateEndpoint,s=void 0!==o&&o,a=e.useDualstackEndpoint,u=void 0!==a&&a,c=e.useArnRegion,l=void 0!==c&&c;return qe(qe({},e),{bucketEndpoint:n,forcePathStyle:i,useAccelerateEndpoint:s,useDualstackEndpoint:u,useArnRegion:"function"==typeof l?l:function(){return Promise.resolve(l)}})}(Zr(a)),c=Zi(u),l=qe(qe({},n=c),{eventStreamMarshaller:n.eventStreamSerdeProvider(n)});return(i=e.call(this,l)||this).config=l,i.middlewareStack.use((r=i.config,{applyToStack:function(e){e.addRelativeTo(Gi(r),Ji)}})),i.middlewareStack.use(Tr(i.config)),i.middlewareStack.use(ci(i.config)),i.middlewareStack.use(fi(i.config)),i.middlewareStack.use(hi(i.config)),i.middlewareStack.use(cv(i.config)),i.middlewareStack.use(fv(i.config)),i.middlewareStack.use(xf(i.config)),i.middlewareStack.use(eo(i.config)),i}return Dl(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(io);!function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(If||(If={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Tf||(Tf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Pf||(Pf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(kf||(kf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Of||(Of={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Nf||(Nf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Mf||(Mf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Lf||(Lf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Rf||(Rf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Uf||(Uf={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po})}}(Df||(Df={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Bf||(Bf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(jf||(jf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ff||(Ff={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(zf||(zf={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po})}}(Kf||(Kf={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl(Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po}),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:po})}}(qf||(qf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Hf||(Hf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Vf||(Vf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Wf||(Wf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Gf||(Gf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Jf||(Jf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Zf||(Zf={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po})}}(Qf||(Qf={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po}),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po})}}(Yf||(Yf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Xf||(Xf={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}($f||($f={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ed||(ed={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(td||(td={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(nd||(nd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(rd||(rd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(id||(id={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(od||(od={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sd||(sd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ad||(ad={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ud||(ud={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(cd||(cd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ld||(ld={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(fd||(fd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(dd||(dd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(hd||(hd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(pd||(pd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(gd||(gd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(vd||(vd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(yd||(yd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(md||(md={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(bd||(bd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(wd||(wd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Sd||(Sd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ed||(Ed={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ad||(Ad={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Cd||(Cd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(_d||(_d={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(xd||(xd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Id||(Id={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:xd.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Id.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Td||(Td={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Pd||(Pd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(kd||(kd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Od||(Od={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Nd||(Nd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Filter&&{Filter:Td.filterSensitiveLog(e.Filter)})}}(Md||(Md={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Md.filterSensitiveLog(e.AnalyticsConfiguration)})}}(Ld||(Ld={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Rd||(Rd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ud||(Ud={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Dd||(Dd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Bd||(Bd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.KMSMasterKeyID&&{KMSMasterKeyID:po})}}(jd||(jd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.ApplyServerSideEncryptionByDefault&&{ApplyServerSideEncryptionByDefault:jd.filterSensitiveLog(e.ApplyServerSideEncryptionByDefault)})}}(Fd||(Fd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Rules&&{Rules:e.Rules.map((function(e){return Fd.filterSensitiveLog(e)}))})}}(zd||(zd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:zd.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(Kd||(Kd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(qd||(qd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Hd||(Hd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Vd||(Vd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Wd||(Wd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Gd||(Gd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Jd||(Jd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Zd||(Zd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.KeyId&&{KeyId:po})}}(Qd||(Qd={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Yd||(Yd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMS&&{SSEKMS:Qd.filterSensitiveLog(e.SSEKMS)})}}(Xd||(Xd={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Encryption&&{Encryption:Xd.filterSensitiveLog(e.Encryption)})}}($d||($d={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.S3BucketDestination&&{S3BucketDestination:$d.filterSensitiveLog(e.S3BucketDestination)})}}(eh||(eh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(th||(th={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(nh||(nh={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Destination&&{Destination:eh.filterSensitiveLog(e.Destination)})}}(rh||(rh={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.InventoryConfiguration&&{InventoryConfiguration:rh.filterSensitiveLog(e.InventoryConfiguration)})}}(ih||(ih={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(oh||(oh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sh||(sh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ah||(ah={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:xd.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:ah.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(uh||(uh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ch||(ch={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(lh||(lh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(fh||(fh={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Filter&&{Filter:uh.filterSensitiveLog(e.Filter)})}}(dh||(dh={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Rules&&{Rules:e.Rules.map((function(e){return dh.filterSensitiveLog(e)}))})}}(hh||(hh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ph||(ph={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(gh||(gh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(vh||(vh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(yh||(yh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(mh||(mh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(bh||(bh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(wh||(wh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Sh||(Sh={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:xd.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Sh.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Eh||(Eh={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Filter&&{Filter:Eh.filterSensitiveLog(e.Filter)})}}(Ah||(Ah={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.MetricsConfiguration&&{MetricsConfiguration:Ah.filterSensitiveLog(e.MetricsConfiguration)})}}(Ch||(Ch={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(_h||(_h={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(xh||(xh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ih||(Ih={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Th||(Th={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ph||(Ph={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(kh||(kh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Oh||(Oh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Nh||(Nh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Mh||(Mh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Lh||(Lh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Rh||(Rh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Uh||(Uh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Dh||(Dh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Bh||(Bh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(jh||(jh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Fh||(Fh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(zh||(zh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Kh||(Kh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(qh||(qh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Hh||(Hh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Vh||(Vh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Wh||(Wh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Gh||(Gh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Jh||(Jh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Zh||(Zh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Qh||(Qh={})),function(e){e.visit=function(e,t){return void 0!==e.Prefix?t.Prefix(e.Prefix):void 0!==e.Tag?t.Tag(e.Tag):void 0!==e.And?t.And(e.And):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Prefix?{Prefix:e.Prefix}:void 0!==e.Tag?{Tag:xd.filterSensitiveLog(e.Tag)}:void 0!==e.And?{And:Qh.filterSensitiveLog(e.And)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Yh||(Yh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Xh||(Xh={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}($h||($h={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ep||(ep={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Filter&&{Filter:Yh.filterSensitiveLog(e.Filter)})}}(tp||(tp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Rules&&{Rules:e.Rules.map((function(e){return tp.filterSensitiveLog(e)}))})}}(np||(np={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:np.filterSensitiveLog(e.ReplicationConfiguration)})}}(rp||(rp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ip||(ip={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(op||(op={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sp||(sp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ap||(ap={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(up||(up={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(cp||(cp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(lp||(lp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(fp||(fp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(dp||(dp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(hp||(hp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(pp||(pp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(gp||(gp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(vp||(vp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(yp||(yp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(mp||(mp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po})}}(bp||(bp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po})}}(wp||(wp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Sp||(Sp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ep||(Ep={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ap||(Ap={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Cp||(Cp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(_p||(_p={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(xp||(xp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ip||(Ip={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Tp||(Tp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Pp||(Pp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(kp||(kp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Op||(Op={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Np||(Np={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Mp||(Mp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Lp||(Lp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Rp||(Rp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Up||(Up={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Dp||(Dp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Bp||(Bp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(jp||(jp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Fp||(Fp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(zp||(zp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Kp||(Kp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(qp||(qp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Hp||(Hp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po})}}(Vp||(Vp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po})}}(Wp||(Wp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.AnalyticsConfigurationList&&{AnalyticsConfigurationList:e.AnalyticsConfigurationList.map((function(e){return Md.filterSensitiveLog(e)}))})}}(Gp||(Gp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Jp||(Jp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Zp||(Zp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Qp||(Qp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.InventoryConfigurationList&&{InventoryConfigurationList:e.InventoryConfigurationList.map((function(e){return rh.filterSensitiveLog(e)}))})}}(Yp||(Yp={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Xp||(Xp={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.MetricsConfigurationList&&{MetricsConfigurationList:e.MetricsConfigurationList.map((function(e){return Ah.filterSensitiveLog(e)}))})}}($p||($p={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(eg||(eg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(tg||(tg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ng||(ng={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(rg||(rg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ig||(ig={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(og||(og={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sg||(sg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ag||(ag={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ug||(ug={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(cg||(cg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(lg||(lg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(fg||(fg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(dg||(dg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(hg||(hg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(pg||(pg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(gg||(gg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(vg||(vg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(yg||(yg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(mg||(mg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(bg||(bg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(wg||(wg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Sg||(Sg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.AnalyticsConfiguration&&{AnalyticsConfiguration:Md.filterSensitiveLog(e.AnalyticsConfiguration)})}}(Eg||(Eg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Ag||(Ag={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Cg||(Cg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.ServerSideEncryptionConfiguration&&{ServerSideEncryptionConfiguration:zd.filterSensitiveLog(e.ServerSideEncryptionConfiguration)})}}(_g||(_g={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(xg||(xg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.InventoryConfiguration&&{InventoryConfiguration:rh.filterSensitiveLog(e.InventoryConfiguration)})}}(Ig||(Ig={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Rules&&{Rules:e.Rules.map((function(e){return dh.filterSensitiveLog(e)}))})}}(Tg||(Tg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.LifecycleConfiguration&&{LifecycleConfiguration:Tg.filterSensitiveLog(e.LifecycleConfiguration)})}}(Pg||(Pg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(kg||(kg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Og||(Og={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.MetricsConfiguration&&{MetricsConfiguration:Ah.filterSensitiveLog(e.MetricsConfiguration)})}}(Ng||(Ng={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Mg||(Mg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Lg||(Lg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Rg||(Rg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.ReplicationConfiguration&&{ReplicationConfiguration:np.filterSensitiveLog(e.ReplicationConfiguration)})}}(Ug||(Ug={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Dg||(Dg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Bg||(Bg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(jg||(jg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Fg||(Fg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(zg||(zg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Kg||(Kg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(qg||(qg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Hg||(Hg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po})}}(Vg||(Vg={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po}),e.SSEKMSKeyId&&{SSEKMSKeyId:po}),e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:po})}}(Wg||(Wg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Gg||(Gg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Jg||(Jg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Zg||(Zg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Qg||(Qg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Yg||(Yg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Xg||(Xg={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}($g||($g={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ev||(ev={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(tv||(tv={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(nv||(nv={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(rv||(rv={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(iv||(iv={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ov||(ov={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sv||(sv={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.KMSKeyId&&{KMSKeyId:po})}}(av||(av={}));var yv=function(){function e(e,t){void 0===t&&(t=[]),this.name=e,this.children=t,this.attributes={}}return e.prototype.withName=function(e){return this.name=e,this},e.prototype.addAttribute=function(e,t){return this.attributes[e]=t,this},e.prototype.addChildNode=function(e){return this.children.push(e),this},e.prototype.removeAttribute=function(e){return delete this.attributes[e],this},e.prototype.toString=function(){var e,t,n=Boolean(this.children.length),r="<"+this.name,i=this.attributes;try{for(var o=Ge(Object.keys(i)),s=o.next();!s.done;s=o.next()){var a=s.value,u=i[a];null!=u&&(r+=" "+a+'="'+((""+u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")+'"'))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r+(n?">"+this.children.map((function(e){return e.toString()})).join("")+"</"+this.name+">":"/>")},e}();var mv=function(){function e(e){this.value=e}return e.prototype.toString=function(){return(""+this.value).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e}(),bv=Fe((function(e,t){const n=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+n+"][:A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+r+"$");t.isExist=function(e){return void 0!==e},t.isEmptyObject=function(e){return 0===Object.keys(e).length},t.merge=function(e,t,n){if(t){const r=Object.keys(t),i=r.length;for(let o=0;o<i;o++)e[r[o]]="strict"===n?[t[r[o]]]:t[r[o]]}},t.getValue=function(e){return t.isExist(e)?e:""},t.buildOptions=function(e,t,n){var r={};if(!e)return t;for(let i=0;i<n.length;i++)void 0!==e[n[i]]?r[n[i]]=e[n[i]]:r[n[i]]=t[n[i]];return r},t.isTagNameInArrayMode=function(e,t,n){return!1!==t&&(t instanceof RegExp?t.test(e):"function"==typeof t?!!t(e,n):"strict"===t)},t.isName=function(e){const t=i.exec(e);return!(null==t)},t.getAllMatches=function(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[],o=r.length;for(let e=0;e<o;e++)i.push(r[e]);n.push(i),r=t.exec(e)}return n},t.nameRegexp=r}));const wv=function(e,t,n){const r={};if((!e.child||bv.isEmptyObject(e.child))&&(!e.attrsMap||bv.isEmptyObject(e.attrsMap)))return bv.isExist(e.val)?e.val:"";if(bv.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)){const i=bv.isTagNameInArrayMode(e.tagname,t.arrayMode,n);r[t.textNodeName]=i?[e.val]:e.val}bv.merge(r,e.attrsMap,t.arrayMode);const i=Object.keys(e.child);for(let o=0;o<i.length;o++){const s=i[o];if(e.child[s]&&e.child[s].length>1){r[s]=[];for(let n in e.child[s])e.child[s].hasOwnProperty(n)&&r[s].push(wv(e.child[s][n],t,s))}else{const i=wv(e.child[s][0],t,s),o=!0===t.arrayMode&&"object"==typeof i||bv.isTagNameInArrayMode(s,t.arrayMode,n);r[s]=o?[i]:i}}return r};var Sv={convertToJson:wv},Ev=function(e,t,n){this.tagname=e,this.parent=t,this.child={},this.attrsMap={},this.val=n,this.addChild=function(e){Array.isArray(this.child[e.tagname])?this.child[e.tagname].push(e):this.child[e.tagname]=[e]}};const Av=bv.buildOptions;"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,bv.nameRegexp),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Cv={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,ignoreNameSpace:!1,allowBooleanAttributes:!1,parseNodeValue:!0,parseAttributeValue:!1,arrayMode:!1,trimValues:!0,cdataTagName:!1,cdataPositionChar:"\\c",tagValueProcessor:function(e,t){return e},attrValueProcessor:function(e,t){return e},stopNodes:[]};var _v=Cv;const xv=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","ignoreNameSpace","allowBooleanAttributes","parseNodeValue","parseAttributeValue","arrayMode","trimValues","cdataTagName","cdataPositionChar","tagValueProcessor","attrValueProcessor","parseTrueNumberOnly","stopNodes"];var Iv=xv;function Tv(e,t,n){return t&&(n.trimValues&&(t=t.trim()),t=kv(t=n.tagValueProcessor(t,e),n.parseNodeValue,n.parseTrueNumberOnly)),t}function Pv(e,t){if(t.ignoreNameSpace){const t=e.split(":"),n="/"===e.charAt(0)?"/":"";if("xmlns"===t[0])return"";2===t.length&&(e=n+t[1])}return e}function kv(e,t,n){if(t&&"string"==typeof e){let t;return""===e.trim()||isNaN(e)?t="true"===e||"false"!==e&&e:(-1!==e.indexOf("0x")?t=Number.parseInt(e,16):-1!==e.indexOf(".")?(t=Number.parseFloat(e),e=e.replace(/\.?0+$/,"")):t=Number.parseInt(e,10),n&&(t=String(t)===e?t:e)),t}return bv.isExist(e)?e:""}const Ov=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])(.*?)\\3)?","g");function Nv(e,t){if(!t.ignoreAttributes&&"string"==typeof e){e=e.replace(/\r?\n/g," ");const n=bv.getAllMatches(e,Ov),r=n.length,i={};for(let e=0;e<r;e++){const r=Pv(n[e][1],t);r.length&&(void 0!==n[e][4]?(t.trimValues&&(n[e][4]=n[e][4].trim()),n[e][4]=t.attrValueProcessor(n[e][4],r),i[t.attributeNamePrefix+r]=kv(n[e][4],t.parseAttributeValue,t.parseTrueNumberOnly)):t.allowBooleanAttributes&&(i[t.attributeNamePrefix+r]=!0))}if(!Object.keys(i).length)return;if(t.attrNodeName){const e={};return e[t.attrNodeName]=i,e}return i}}function Mv(e,t){let n,r="";for(let i=t;i<e.length;i++){let t=e[i];if(n)t===n&&(n="");else if('"'===t||"'"===t)n=t;else{if(">"===t)return{data:r,index:i};"\t"===t&&(t=" ")}r+=t}}function Lv(e,t,n,r){const i=e.indexOf(t,n);if(-1===i)throw new Error(r);return i+t.length-1}var Rv=function(e,t){e=e.replace(/\r\n?/g,"\n"),t=Av(t,Cv,xv);const n=new Ev("!xml");let r=n,i="";for(let n=0;n<e.length;n++){if("<"===e[n])if("/"===e[n+1]){const o=Lv(e,">",n,"Closing Tag is not closed.");let s=e.substring(n+2,o).trim();if(t.ignoreNameSpace){const e=s.indexOf(":");-1!==e&&(s=s.substr(e+1))}r&&(r.val?r.val=bv.getValue(r.val)+""+Tv(s,i,t):r.val=Tv(s,i,t)),t.stopNodes.length&&t.stopNodes.includes(r.tagname)&&(r.child=[],null==r.attrsMap&&(r.attrsMap={}),r.val=e.substr(r.startIndex+1,n-r.startIndex-1)),r=r.parent,i="",n=o}else if("?"===e[n+1])n=Lv(e,"?>",n,"Pi Tag is not closed.");else if("!--"===e.substr(n+1,3))n=Lv(e,"--\x3e",n,"Comment is not closed.");else if("!D"===e.substr(n+1,2)){const t=Lv(e,">",n,"DOCTYPE is not closed.");n=e.substring(n,t).indexOf("[")>=0?e.indexOf("]>",n)+1:t}else if("!["===e.substr(n+1,2)){const o=Lv(e,"]]>",n,"CDATA is not closed.")-2,s=e.substring(n+9,o);if(i&&(r.val=bv.getValue(r.val)+""+Tv(r.tagname,i,t),i=""),t.cdataTagName){const e=new Ev(t.cdataTagName,r,s);r.addChild(e),r.val=bv.getValue(r.val)+t.cdataPositionChar,s&&(e.val=s)}else r.val=(r.val||"")+(s||"");n=o+2}else{const o=Mv(e,n+1);let s=o.data;const a=o.index,u=s.indexOf(" ");let c=s,l=!0;if(-1!==u&&(c=s.substr(0,u).replace(/\s\s*$/,""),s=s.substr(u+1)),t.ignoreNameSpace){const e=c.indexOf(":");-1!==e&&(c=c.substr(e+1),l=c!==o.data.substr(e+1))}if(r&&i&&"!xml"!==r.tagname&&(r.val=bv.getValue(r.val)+""+Tv(r.tagname,i,t)),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===c[c.length-1]?(c=c.substr(0,c.length-1),s=c):s=s.substr(0,s.length-1);const e=new Ev(c,r,"");c!==s&&(e.attrsMap=Nv(s,t)),r.addChild(e)}else{const e=new Ev(c,r);t.stopNodes.length&&t.stopNodes.includes(e.tagname)&&(e.startIndex=a),c!==s&&l&&(e.attrsMap=Nv(s,t)),r.addChild(e),r=e}i="",n=a}else i+=e[n]}return n},Uv={defaultOptions:_v,props:Iv,getTraversalObj:Rv};const Dv={allowBooleanAttributes:!1},Bv=["allowBooleanAttributes"];function jv(e,t){for(var n=t;t<e.length;t++)if("?"!=e[t]&&" "!=e[t]);else{var r=e.substr(n,t-n);if(t>5&&"xml"===r)return Vv("InvalidXml","XML declaration allowed only at the start of the document.",Gv(e,t));if("?"==e[t]&&">"==e[t+1]){t++;break}}return t}function Fv(e,t){if(e.length>t+5&&"-"===e[t+1]&&"-"===e[t+2]){for(t+=3;t<e.length;t++)if("-"===e[t]&&"-"===e[t+1]&&">"===e[t+2]){t+=2;break}}else if(e.length>t+8&&"D"===e[t+1]&&"O"===e[t+2]&&"C"===e[t+3]&&"T"===e[t+4]&&"Y"===e[t+5]&&"P"===e[t+6]&&"E"===e[t+7]){let n=1;for(t+=8;t<e.length;t++)if("<"===e[t])n++;else if(">"===e[t]&&(n--,0===n))break}else if(e.length>t+9&&"["===e[t+1]&&"C"===e[t+2]&&"D"===e[t+3]&&"A"===e[t+4]&&"T"===e[t+5]&&"A"===e[t+6]&&"["===e[t+7])for(t+=8;t<e.length;t++)if("]"===e[t]&&"]"===e[t+1]&&">"===e[t+2]){t+=2;break}return t}function zv(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if('"'===e[t]||"'"===e[t])if(""===r)r=e[t];else{if(r!==e[t])continue;r=""}else if(">"===e[t]&&""===r){i=!0;break}n+=e[t]}return""===r&&{value:n,index:t,tagClosed:i}}const Kv=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function qv(e,t){const n=bv.getAllMatches(e,Kv),r={};for(let i=0;i<n.length;i++){if(0===n[i][1].length)return Vv("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",Jv(e,n[i][0]));if(void 0===n[i][3]&&!t.allowBooleanAttributes)return Vv("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",Jv(e,n[i][0]));const o=n[i][2];if(!Wv(o))return Vv("InvalidAttr","Attribute '"+o+"' is an invalid name.",Jv(e,n[i][0]));if(r.hasOwnProperty(o))return Vv("InvalidAttr","Attribute '"+o+"' is repeated.",Jv(e,n[i][0]));r[o]=1}return!0}function Hv(e,t){if(";"===e[++t])return-1;if("#"===e[t])return function(e,t){let n=/\d/;for("x"===e[t]&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(";"===e[t])return t;if(!e[t].match(n))break}return-1}(e,++t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(";"===e[t])break;return-1}return t}function Vv(e,t,n){return{err:{code:e,msg:t,line:n}}}function Wv(e){return bv.isName(e)}function Gv(e,t){return e.substring(0,t).split(/\r?\n/).length}function Jv(e,t){return e.indexOf(t)+t.length}var Zv=function(e,t){t=bv.buildOptions(t,Dv,Bv);const n=[];let r=!1,i=!1;"\ufeff"===e[0]&&(e=e.substr(1));for(let s=0;s<e.length;s++)if("<"===e[s]&&"?"===e[s+1]){if(s+=2,s=jv(e,s),s.err)return s}else{if("<"!==e[s]){if(" "===e[s]||"\t"===e[s]||"\n"===e[s]||"\r"===e[s])continue;return Vv("InvalidChar","char '"+e[s]+"' is not expected.",Gv(e,s))}if(s++,"!"===e[s]){s=Fv(e,s);continue}{let a=!1;"/"===e[s]&&(a=!0,s++);let u="";for(;s<e.length&&">"!==e[s]&&" "!==e[s]&&"\t"!==e[s]&&"\n"!==e[s]&&"\r"!==e[s];s++)u+=e[s];if(u=u.trim(),"/"===u[u.length-1]&&(u=u.substring(0,u.length-1),s--),o=u,!bv.isName(o)){let t;return t=0===u.trim().length?"There is an unnecessary space between tag name and backward slash '</ ..'.":"Tag '"+u+"' is an invalid name.",Vv("InvalidTag",t,Gv(e,s))}const c=zv(e,s);if(!1===c)return Vv("InvalidAttr","Attributes for '"+u+"' have open quote.",Gv(e,s));let l=c.value;if(s=c.index,"/"===l[l.length-1]){l=l.substring(0,l.length-1);const n=qv(l,t);if(!0!==n)return Vv(n.err.code,n.err.msg,Gv(e,s-l.length+n.err.line));r=!0}else if(a){if(!c.tagClosed)return Vv("InvalidTag","Closing tag '"+u+"' doesn't have proper closing.",Gv(e,s));if(l.trim().length>0)return Vv("InvalidTag","Closing tag '"+u+"' can't have attributes or invalid starting.",Gv(e,s));{const t=n.pop();if(u!==t)return Vv("InvalidTag","Closing tag '"+t+"' is expected inplace of '"+u+"'.",Gv(e,s));0==n.length&&(i=!0)}}else{const o=qv(l,t);if(!0!==o)return Vv(o.err.code,o.err.msg,Gv(e,s-l.length+o.err.line));if(!0===i)return Vv("InvalidXml","Multiple possible root nodes found.",Gv(e,s));n.push(u),r=!0}for(s++;s<e.length;s++)if("<"===e[s]){if("!"===e[s+1]){s++,s=Fv(e,s);continue}if("?"!==e[s+1])break;if(s=jv(e,++s),s.err)return s}else if("&"===e[s]){const t=Hv(e,s);if(-1==t)return Vv("InvalidChar","char '&' is not expected.",Gv(e,s));s=t}"<"===e[s]&&s--}}var o;return r?!(n.length>0)||Vv("InvalidXml","Invalid '"+JSON.stringify(n,null,4).replace(/\r?\n/g,"")+"' found.",1):Vv("InvalidXml","Start tag expected.",1)};const Qv=function(e){return String.fromCharCode(e)},Yv={nilChar:Qv(176),missingChar:Qv(201),nilPremitive:Qv(175),missingPremitive:Qv(200),emptyChar:Qv(178),emptyValue:Qv(177),boundryChar:Qv(179),objStart:Qv(198),arrStart:Qv(204),arrayEnd:Qv(185)},Xv=[Yv.nilChar,Yv.nilPremitive,Yv.missingChar,Yv.missingPremitive,Yv.boundryChar,Yv.emptyChar,Yv.emptyValue,Yv.arrayEnd,Yv.objStart,Yv.arrStart],$v=function(e,t,n){if("string"==typeof t)return e&&e[0]&&void 0!==e[0].val?ey(e[0].val):ey(e);{const i=void 0===(r=e)?Yv.missingChar:null===r?Yv.nilChar:!(r.child&&0===Object.keys(r.child).length&&(!r.attrsMap||0===Object.keys(r.attrsMap).length))||Yv.emptyChar;if(!0===i){let r="";if(Array.isArray(t)){r+=Yv.arrStart;const i=t[0],o=e.length;if("string"==typeof i)for(let t=0;t<o;t++){const n=ey(e[t].val);r=ty(r,n)}else for(let t=0;t<o;t++){const o=$v(e[t],i,n);r=ty(r,o)}r+=Yv.arrayEnd}else{r+=Yv.objStart;const i=Object.keys(t);Array.isArray(e)&&(e=e[0]);for(let o in i){const s=i[o];let a;a=!n.ignoreAttributes&&e.attrsMap&&e.attrsMap[s]?$v(e.attrsMap[s],t[s],n):s===n.textNodeName?$v(e.val,t[s],n):$v(e.child[s],t[s],n),r=ty(r,a)}}return r}return i}var r},ey=function(e){switch(e){case void 0:return Yv.missingPremitive;case null:return Yv.nilPremitive;case"":return Yv.emptyValue;default:return e}},ty=function(e,t){return ny(t[0])||ny(e[e.length-1])||(e+=Yv.boundryChar),e+t},ny=function(e){return-1!==Xv.indexOf(e)};const ry=bv.buildOptions;var iy={convert2nimn:function(e,t,n){return n=ry(n,Uv.defaultOptions,Uv.props),$v(e,t,n)}};const oy=bv.buildOptions,sy=function(e,t,n){let r="{";const i=Object.keys(e.child);for(let n=0;n<i.length;n++){var o=i[n];if(e.child[o]&&e.child[o].length>1){for(var s in r+='"'+o+'" : [ ',e.child[o])r+=sy(e.child[o][s],t)+" , ";r=r.substr(0,r.length-1)+" ] "}else r+='"'+o+'" : '+sy(e.child[o][0],t)+" ,"}return bv.merge(r,e.attrsMap),bv.isEmptyObject(r)?bv.isExist(e.val)?e.val:"":(bv.isExist(e.val)&&("string"!=typeof e.val||""!==e.val&&e.val!==t.cdataPositionChar)&&(r+='"'+t.textNodeName+'" : '+function(e){return!0!==e&&!1!==e&&isNaN(e)?'"'+e+'"':e}(e.val)),","===r[r.length-1]&&(r=r.substr(0,r.length-2)),r+"}")};var ay={convertToJsonString:function(e,t){return(t=oy(t,Uv.defaultOptions,Uv.props)).indentBy=t.indentBy||"",sy(e,t)}};const uy=bv.buildOptions,cy={attributeNamePrefix:"@_",attrNodeName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataTagName:!1,cdataPositionChar:"\\c",format:!1,indentBy:"  ",supressEmptyNode:!1,tagValueProcessor:function(e){return e},attrValueProcessor:function(e){return e}},ly=["attributeNamePrefix","attrNodeName","textNodeName","ignoreAttributes","cdataTagName","cdataPositionChar","format","indentBy","supressEmptyNode","tagValueProcessor","attrValueProcessor"];function fy(e){this.options=uy(e,cy,ly),this.options.ignoreAttributes||this.options.attrNodeName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=by),this.options.cdataTagName?this.isCDATA=wy:this.isCDATA=function(){return!1},this.replaceCDATAstr=dy,this.replaceCDATAarr=hy,this.options.format?(this.indentate=my,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine=""),this.options.supressEmptyNode?(this.buildTextNode=yy,this.buildObjNode=gy):(this.buildTextNode=vy,this.buildObjNode=py),this.buildTextValNode=vy,this.buildObjectNode=py}function dy(e,t){return e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e?e+"<![CDATA["+t+"]]"+this.tagEndChar:e.replace(this.options.cdataPositionChar,"<![CDATA["+t+"]]"+this.tagEndChar)}function hy(e,t){if(e=this.options.tagValueProcessor(""+e),""===this.options.cdataPositionChar||""===e)return e+"<![CDATA["+t.join("]]><![CDATA[")+"]]"+this.tagEndChar;for(let n in t)e=e.replace(this.options.cdataPositionChar,"<![CDATA["+t[n]+"]]>");return e+this.newLine}function py(e,t,n,r){return n&&!e.includes("<")?this.indentate(r)+"<"+t+n+">"+e+"</"+t+this.tagEndChar:this.indentate(r)+"<"+t+n+this.tagEndChar+e+this.indentate(r)+"</"+t+this.tagEndChar}function gy(e,t,n,r){return""!==e?this.buildObjectNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function vy(e,t,n,r){return this.indentate(r)+"<"+t+n+">"+this.options.tagValueProcessor(e)+"</"+t+this.tagEndChar}function yy(e,t,n,r){return""!==e?this.buildTextValNode(e,t,n,r):this.indentate(r)+"<"+t+n+"/"+this.tagEndChar}function my(e){return this.options.indentBy.repeat(e)}function by(e){return!!e.startsWith(this.options.attributeNamePrefix)&&e.substr(this.attrPrefixLen)}function wy(e){return e===this.options.cdataTagName}fy.prototype.parse=function(e){return this.j2x(e,0).val},fy.prototype.j2x=function(e,t){let n="",r="";const i=Object.keys(e),o=i.length;for(let s=0;s<o;s++){const o=i[s];if(void 0===e[o]);else if(null===e[o])r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if(e[o]instanceof Date)r+=this.buildTextNode(e[o],o,"",t);else if("object"!=typeof e[o]){const i=this.isAttribute(o);i?n+=" "+i+'="'+this.options.attrValueProcessor(""+e[o])+'"':this.isCDATA(o)?e[this.options.textNodeName]?r+=this.replaceCDATAstr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAstr("",e[o]):o===this.options.textNodeName?e[this.options.cdataTagName]||(r+=this.options.tagValueProcessor(""+e[o])):r+=this.buildTextNode(e[o],o,"",t)}else if(Array.isArray(e[o]))if(this.isCDATA(o))r+=this.indentate(t),e[this.options.textNodeName]?r+=this.replaceCDATAarr(e[this.options.textNodeName],e[o]):r+=this.replaceCDATAarr("",e[o]);else{const n=e[o].length;for(let i=0;i<n;i++){const n=e[o][i];if(void 0===n);else if(null===n)r+=this.indentate(t)+"<"+o+"/"+this.tagEndChar;else if("object"==typeof n){const e=this.j2x(n,t+1);r+=this.buildObjNode(e.val,o,e.attrStr,t)}else r+=this.buildTextNode(n,o,"",t)}}else if(this.options.attrNodeName&&o===this.options.attrNodeName){const t=Object.keys(e[o]),r=t.length;for(let i=0;i<r;i++)n+=" "+t[i]+'="'+this.options.attrValueProcessor(""+e[o][t[i]])+'"'}else{const n=this.j2x(e[o],t+1);r+=this.buildObjNode(n.val,o,n.attrStr,t)}}return{attrStr:n,val:r}};var Sy=fy,Ey=Fe((function(e,t){const n=Uv,r=bv.buildOptions;t.parse=function(e,t,i){if(i){!0===i&&(i={});const t=Zv(e,i);if(!0!==t)throw Error(t.err.msg)}t=r(t,n.defaultOptions,n.props);const o=Uv.getTraversalObj(e,t);return Sv.convertToJson(o,t)},t.convertTonimn=iy.convert2nimn,t.getTraversalObj=Uv.getTraversalObj,t.convertToJson=Sv.convertToJson,t.convertToJsonString=ay.convertToJsonString,t.validate=Zv,t.j2xParser=Sy,t.parseToNimn=function(e,n,r){return t.convertTonimn(t.getTraversalObj(e,r),n,r)}})),Ay=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Fl(this,(function(l){switch(l.label){case 0:return r=[Bl({},e)],c={},[4,Qy(e.body,t)];case 1:switch(n=Bl.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Yy(e,n.body),o){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":return[3,2]}return[3,4];case 2:return s=[{}],[4,Dy(n)];case 3:return i=Bl.apply(void 0,[Bl.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gy(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=Bl(Bl({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gy(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Cy=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},_y=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Fl(this,(function(l){switch(l.label){case 0:return r=[Bl({},e)],c={},[4,Qy(e.body,t)];case 1:switch(n=Bl.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Yy(e,n.body),o){case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":return[3,2]}return[3,4];case 2:return s=[{}],[4,By(n)];case 3:return i=Bl.apply(void 0,[Bl.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gy(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=Bl(Bl({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gy(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},xy=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Iy=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Ty=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:return r=[Bl({},e)],l={},[4,Qy(e.body,t)];case 1:switch(n=Bl.apply(void 0,r.concat([(l.body=f.sent(),l)])),o="UnknownError",o=Yy(e,n.body),o){case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":return[3,2];case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":return[3,4]}return[3,6];case 2:return s=[{}],[4,Ly(n)];case 3:return i=Bl.apply(void 0,[Bl.apply(void 0,s.concat([f.sent()])),{name:o,$metadata:Gy(e)}]),[3,7];case 4:return a=[{}],[4,Uy(n)];case 5:return i=Bl.apply(void 0,[Bl.apply(void 0,a.concat([f.sent()])),{name:o,$metadata:Gy(e)}]),[3,7];case 6:u=n.body,o=u.code||u.Code||o,i=Bl(Bl({},u),{name:""+o,message:u.message||u.Message||o,$fault:"client",$metadata:Gy(e)}),f.label=7;case 7:return c=i.message||i.Message||o,i.message=c,delete i.Message,[2,Promise.reject(Object.assign(new Error(c),i))]}}))}))},Py=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Fl(this,(function(l){switch(l.label){case 0:return r=[Bl({},e)],c={},[4,Qy(e.body,t)];case 1:switch(n=Bl.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Yy(e,n.body),o){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,Ry(n)];case 3:return i=Bl.apply(void 0,[Bl.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gy(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=Bl(Bl({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gy(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},ky=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return Fl(this,(function(l){switch(l.label){case 0:return r=[Bl({},e)],c={},[4,Qy(e.body,t)];case 1:switch(n=Bl.apply(void 0,r.concat([(c.body=l.sent(),c)])),o="UnknownError",o=Yy(e,n.body),o){case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":return[3,2]}return[3,4];case 2:return s=[{}],[4,Ry(n)];case 3:return i=Bl.apply(void 0,[Bl.apply(void 0,s.concat([l.sent()])),{name:o,$metadata:Gy(e)}]),[3,5];case 4:a=n.body,o=a.code||a.Code||o,i=Bl(Bl({},a),{name:""+o,message:a.message||a.Message||o,$fault:"client",$metadata:Gy(e)}),l.label=5;case 5:return u=i.message||i.Message||o,i.message=u,delete i.Message,[2,Promise.reject(Object.assign(new Error(u),i))]}}))}))},Oy=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Ny=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},My=function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u;return Fl(this,(function(c){switch(c.label){case 0:return r=[Bl({},e)],u={},[4,Qy(e.body,t)];case 1:return n=Bl.apply(void 0,r.concat([(u.body=c.sent(),u)])),o="UnknownError",o=Yy(e,n.body),s=n.body,o=s.code||s.Code||o,i=Bl(Bl({},s),{name:""+o,message:s.message||s.Message||o,$fault:"client",$metadata:Gy(e)}),a=i.message||i.Message||o,i.message=a,delete i.Message,[2,Promise.reject(Object.assign(new Error(a),i))]}}))}))},Ly=function(e,t){return jl(void 0,void 0,void 0,(function(){var t,n;return Fl(this,(function(r){return t={name:"InvalidObjectState",$fault:"client",$metadata:Gy(e),AccessTier:void 0,StorageClass:void 0},void 0!==(n=e.body).AccessTier&&(t.AccessTier=n.AccessTier),void 0!==n.StorageClass&&(t.StorageClass=n.StorageClass),[2,t]}))}))},Ry=function(e,t){return jl(void 0,void 0,void 0,(function(){return Fl(this,(function(t){return[2,{name:"NoSuchBucket",$fault:"client",$metadata:Gy(e)}]}))}))},Uy=function(e,t){return jl(void 0,void 0,void 0,(function(){return Fl(this,(function(t){return[2,{name:"NoSuchKey",$fault:"client",$metadata:Gy(e)}]}))}))},Dy=function(e,t){return jl(void 0,void 0,void 0,(function(){return Fl(this,(function(t){return[2,{name:"NoSuchUpload",$fault:"client",$metadata:Gy(e)}]}))}))},By=function(e,t){return jl(void 0,void 0,void 0,(function(){return Fl(this,(function(t){return[2,{name:"ObjectNotInActiveTierError",$fault:"client",$metadata:Gy(e)}]}))}))},jy=function(e,t){var n=new yv("CompletedMultipartUpload");void 0!==e.Parts&&null!==e.Parts&&Fy(e.Parts).map((function(e){e=e.withName("Part"),n.addChildNode(e)}));return n},Fy=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){if(null===e)return null;var t=function(e,t){var n=new yv("CompletedPart");if(void 0!==e.ETag&&null!==e.ETag){var r=new yv("ETag").addChildNode(new mv(e.ETag)).withName("ETag");n.addChildNode(r)}void 0!==e.PartNumber&&null!==e.PartNumber&&(r=new yv("PartNumber").addChildNode(new mv(String(e.PartNumber))).withName("PartNumber"),n.addChildNode(r));return n}(e);return t.withName("member")}))},zy=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Prefix:void 0};return void 0!==e.Prefix&&(n.Prefix=e.Prefix),n}(e)}))},Ky=function(e,t){var n={ETag:void 0,LastModified:void 0};return void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),n},qy=function(e,t){var n={ID:void 0,DisplayName:void 0};return void 0!==e.ID&&(n.ID=e.ID),void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),n},Hy=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={Key:void 0,LastModified:void 0,ETag:void 0,Size:void 0,StorageClass:void 0,Owner:void 0};return void 0!==e.Key&&(n.Key=e.Key),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),void 0!==e.StorageClass&&(n.StorageClass=e.StorageClass),void 0!==e.Owner&&(n.Owner=Vy(e.Owner)),n}(e)}))},Vy=function(e,t){var n={DisplayName:void 0,ID:void 0};return void 0!==e.DisplayName&&(n.DisplayName=e.DisplayName),void 0!==e.ID&&(n.ID=e.ID),n},Wy=function(e,t){return(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){var n={PartNumber:void 0,LastModified:void 0,ETag:void 0,Size:void 0};return void 0!==e.PartNumber&&(n.PartNumber=parseInt(e.PartNumber)),void 0!==e.LastModified&&(n.LastModified=new Date(e.LastModified)),void 0!==e.ETag&&(n.ETag=e.ETag),void 0!==e.Size&&(n.Size=parseInt(e.Size)),n}(e)}))},Gy=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Jy=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Zy=function(e){return!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size)},Qy=function(e,t){return function(e,t){return Jy(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){if(e.length){var t=Ey.parse(e,{attributeNamePrefix:"",ignoreAttributes:!1,parseNodeValue:!1,tagValueProcessor:function(e,t){return e.replace(/&amp;/g,"&").replace(/&apos;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<")}}),n=Object.keys(t)[0],r=t[n];return r["#text"]&&(r[n]=r["#text"],delete r["#text"]),uo(r)}return{}}))},Yy=function(e,t){return void 0!==t.Code?t.Code:404==e.statusCode?"NotFound":""},Xy=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"AbortMultipartUploadCommand",inputFilterSensitiveLog:Pf.filterSensitiveLog,outputFilterSensitiveLog:Tf.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl({},Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl({"x-id":"AbortMultipartUpload"},void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n;return Fl(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Ay(e,t)]:(n={$metadata:Gy(e),RequestCharged:void 0},void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Jy(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),$y=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(gv(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:Ff.filterSensitiveLog,outputFilterSensitiveLog:Df.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Fl(this,(function(h){switch(h.label){case 0:if(n=Bl(Bl({"content-type":"application/xml"},Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl({},void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.MultipartUpload&&(a=jy(e.MultipartUpload),s='<?xml version="1.0" encoding="UTF-8"?>',a.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),s+=a.toString()),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new lr({protocol:f,hostname:c,port:d,method:"POST",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Cy(e,t)]:(n={$metadata:Gy(e),Bucket:void 0,BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,Key:void 0,Location:void 0,RequestCharged:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Qy(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.ETag&&(n.ETag=r.ETag),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.Location&&(n.Location=r.Location),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo);var em,tm,nm,rm,im,om,sm,am,um,cm,lm,fm,dm,hm,pm,gm,vm,ym,mm,bm,wm,Sm,Em,Am,Cm,_m,xm,Im,Tm,Pm,km,Om,Nm,Mm,Lm={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Rm=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return Ve(t,void 0,void 0,(function(){var t,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b;return We(this,(function(w){switch(w.label){case 0:t=qe({},r.input),i=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}],w.label=1;case 1:w.trys.push([1,6,7,8]),o=Ge(i),s=o.next(),w.label=2;case 2:return s.done?[3,5]:(a=s.value,(u=t[a.target])?(c=ArrayBuffer.isView(u)?new Uint8Array(u.buffer,u.byteOffset,u.byteLength):"string"==typeof u?e.utf8Decoder(u):new Uint8Array(u),l=e.base64Encoder(c),(f=new e.md5).update(c),d=[qe({},t)],(b={})[a.target]=l,h=a.hash,g=(p=e).base64Encoder,[4,f.digest()]):[3,4]);case 3:t=qe.apply(void 0,d.concat([(b[h]=g.apply(p,[w.sent()]),b)])),w.label=4;case 4:return s=o.next(),[3,2];case 5:return[3,8];case 6:return v=w.sent(),y={error:v},[3,8];case 7:try{s&&!s.done&&(m=o.return)&&m.call(o)}finally{if(y)throw y.error}return[7];case 8:return[2,n(qe(qe({},r),{input:t}))]}}))}))}}}(e),Lm)}}},Um=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(gv(t)),this.middlewareStack.use(Rm(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CopyObjectCommand",inputFilterSensitiveLog:qf.filterSensitiveLog,outputFilterSensitiveLog:Kf.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl({},Zy(e.ACL)&&{"x-amz-acl":e.ACL}),Zy(e.CacheControl)&&{"cache-control":e.CacheControl}),Zy(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Zy(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Zy(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Zy(e.ContentType)&&{"content-type":e.ContentType}),Zy(e.CopySource)&&{"x-amz-copy-source":e.CopySource}),Zy(e.CopySourceIfMatch)&&{"x-amz-copy-source-if-match":e.CopySourceIfMatch}),Zy(e.CopySourceIfModifiedSince)&&{"x-amz-copy-source-if-modified-since":ho(e.CopySourceIfModifiedSince).toString()}),Zy(e.CopySourceIfNoneMatch)&&{"x-amz-copy-source-if-none-match":e.CopySourceIfNoneMatch}),Zy(e.CopySourceIfUnmodifiedSince)&&{"x-amz-copy-source-if-unmodified-since":ho(e.CopySourceIfUnmodifiedSince).toString()}),Zy(e.Expires)&&{expires:ho(e.Expires).toString()}),Zy(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Zy(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Zy(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Zy(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Zy(e.MetadataDirective)&&{"x-amz-metadata-directive":e.MetadataDirective}),Zy(e.TaggingDirective)&&{"x-amz-tagging-directive":e.TaggingDirective}),Zy(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Zy(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Zy(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Zy(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Zy(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Zy(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Zy(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Zy(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Zy(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Zy(e.CopySourceSSECustomerAlgorithm)&&{"x-amz-copy-source-server-side-encryption-customer-algorithm":e.CopySourceSSECustomerAlgorithm}),Zy(e.CopySourceSSECustomerKey)&&{"x-amz-copy-source-server-side-encryption-customer-key":e.CopySourceSSECustomerKey}),Zy(e.CopySourceSSECustomerKeyMD5)&&{"x-amz-copy-source-server-side-encryption-customer-key-md5":e.CopySourceSSECustomerKeyMD5}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Zy(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Zy(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Zy(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),Zy(e.ExpectedSourceBucketOwner)&&{"x-amz-source-expected-bucket-owner":e.ExpectedSourceBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Bl(Bl({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o={"x-id":"CopyObject"},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"PUT",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,_y(e,t)]:(n={$metadata:Gy(e),BucketKeyEnabled:void 0,CopyObjectResult:void 0,CopySourceVersionId:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-copy-source-version-id"]&&(n.CopySourceVersionId=e.headers["x-amz-copy-source-version-id"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Qy(e.body,t)]);case 1:return r=i.sent(),n.CopyObjectResult=Ky(r),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),Dm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Rm(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:Yf.filterSensitiveLog,outputFilterSensitiveLog:Qf.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl({},Zy(e.ACL)&&{"x-amz-acl":e.ACL}),Zy(e.CacheControl)&&{"cache-control":e.CacheControl}),Zy(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Zy(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Zy(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Zy(e.ContentType)&&{"content-type":e.ContentType}),Zy(e.Expires)&&{expires:ho(e.Expires).toString()}),Zy(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Zy(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Zy(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Zy(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Zy(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Zy(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Zy(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Zy(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Zy(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Zy(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Zy(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Zy(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Zy(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Zy(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Zy(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Zy(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Bl(Bl({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o={uploads:""},[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"POST",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,xy(e,t)]:(n={$metadata:Gy(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,BucketKeyEnabled:void 0,Key:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Qy(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),Bm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"DeleteObjectCommand",inputFilterSensitiveLog:dd.filterSensitiveLog,outputFilterSensitiveLog:fd.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl(Bl(Bl({},Zy(e.MFA)&&{"x-amz-mfa":e.MFA}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.BypassGovernanceRetention)&&{"x-amz-bypass-governance-retention":e.BypassGovernanceRetention.toString()}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl({"x-id":"DeleteObject"},void 0!==e.VersionId&&{versionId:e.VersionId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"DELETE",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n;return Fl(this,(function(r){switch(r.label){case 0:return 204!==e.statusCode&&e.statusCode>=300?[2,Iy(e,t)]:(n={$metadata:Gy(e),DeleteMarker:void 0,RequestCharged:void 0,VersionId:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Jy(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),jm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Rm(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"GetObjectCommand",inputFilterSensitiveLog:wp.filterSensitiveLog,outputFilterSensitiveLog:bp.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl({},Zy(e.IfMatch)&&{"if-match":e.IfMatch}),Zy(e.IfModifiedSince)&&{"if-modified-since":ho(e.IfModifiedSince).toString()}),Zy(e.IfNoneMatch)&&{"if-none-match":e.IfNoneMatch}),Zy(e.IfUnmodifiedSince)&&{"if-unmodified-since":ho(e.IfUnmodifiedSince).toString()}),Zy(e.Range)&&{range:e.Range}),Zy(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Zy(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Zy(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl({"x-id":"GetObject"},void 0!==e.ResponseCacheControl&&{"response-cache-control":e.ResponseCacheControl}),void 0!==e.ResponseContentDisposition&&{"response-content-disposition":e.ResponseContentDisposition}),void 0!==e.ResponseContentEncoding&&{"response-content-encoding":e.ResponseContentEncoding}),void 0!==e.ResponseContentLanguage&&{"response-content-language":e.ResponseContentLanguage}),void 0!==e.ResponseContentType&&{"response-content-type":e.ResponseContentType}),void 0!==e.ResponseExpires&&{"response-expires":(e.ResponseExpires.toISOString().split(".")[0]+"Z").toString()}),void 0!==e.VersionId&&{versionId:e.VersionId}),void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){return 200!==e.statusCode&&e.statusCode>=300?[2,Ty(e,t)]:(n={$metadata:Gy(e),AcceptRanges:void 0,Body:void 0,BucketKeyEnabled:void 0,CacheControl:void 0,ContentDisposition:void 0,ContentEncoding:void 0,ContentLanguage:void 0,ContentLength:void 0,ContentRange:void 0,ContentType:void 0,DeleteMarker:void 0,ETag:void 0,Expiration:void 0,Expires:void 0,LastModified:void 0,Metadata:void 0,MissingMeta:void 0,ObjectLockLegalHoldStatus:void 0,ObjectLockMode:void 0,ObjectLockRetainUntilDate:void 0,PartsCount:void 0,ReplicationStatus:void 0,RequestCharged:void 0,Restore:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,StorageClass:void 0,TagCount:void 0,VersionId:void 0,WebsiteRedirectLocation:void 0},void 0!==e.headers["x-amz-delete-marker"]&&(n.DeleteMarker="true"===e.headers["x-amz-delete-marker"]),void 0!==e.headers["accept-ranges"]&&(n.AcceptRanges=e.headers["accept-ranges"]),void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers["x-amz-restore"]&&(n.Restore=e.headers["x-amz-restore"]),void 0!==e.headers["last-modified"]&&(n.LastModified=new Date(e.headers["last-modified"])),void 0!==e.headers["content-length"]&&(n.ContentLength=parseInt(e.headers["content-length"],10)),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-missing-meta"]&&(n.MissingMeta=parseInt(e.headers["x-amz-missing-meta"],10)),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["cache-control"]&&(n.CacheControl=e.headers["cache-control"]),void 0!==e.headers["content-disposition"]&&(n.ContentDisposition=e.headers["content-disposition"]),void 0!==e.headers["content-encoding"]&&(n.ContentEncoding=e.headers["content-encoding"]),void 0!==e.headers["content-language"]&&(n.ContentLanguage=e.headers["content-language"]),void 0!==e.headers["content-range"]&&(n.ContentRange=e.headers["content-range"]),void 0!==e.headers["content-type"]&&(n.ContentType=e.headers["content-type"]),void 0!==e.headers.expires&&(n.Expires=new Date(e.headers.expires)),void 0!==e.headers["x-amz-website-redirect-location"]&&(n.WebsiteRedirectLocation=e.headers["x-amz-website-redirect-location"]),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-storage-class"]&&(n.StorageClass=e.headers["x-amz-storage-class"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),void 0!==e.headers["x-amz-replication-status"]&&(n.ReplicationStatus=e.headers["x-amz-replication-status"]),void 0!==e.headers["x-amz-mp-parts-count"]&&(n.PartsCount=parseInt(e.headers["x-amz-mp-parts-count"],10)),void 0!==e.headers["x-amz-tagging-count"]&&(n.TagCount=parseInt(e.headers["x-amz-tagging-count"],10)),void 0!==e.headers["x-amz-object-lock-mode"]&&(n.ObjectLockMode=e.headers["x-amz-object-lock-mode"]),void 0!==e.headers["x-amz-object-lock-retain-until-date"]&&(n.ObjectLockRetainUntilDate=new Date(e.headers["x-amz-object-lock-retain-until-date"])),void 0!==e.headers["x-amz-object-lock-legal-hold"]&&(n.ObjectLockLegalHoldStatus=e.headers["x-amz-object-lock-legal-hold"]),Object.keys(e.headers).forEach((function(t){void 0===n.Metadata&&(n.Metadata={}),t.startsWith("x-amz-meta-")&&(n.Metadata[t.substring(11)]=e.headers[t])})),r=e.body,n.Body=r,[2,Promise.resolve(n)])}))}))}(e,t)},t}(oo),Fm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsCommand",inputFilterSensitiveLog:lg.filterSensitiveLog,outputFilterSensitiveLog:cg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl({},Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",so(i)),o=Bl(Bl(Bl(Bl(Bl({},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.Marker&&{marker:e.Marker}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Py(e,t)]:(n={$metadata:Gy(e),CommonPrefixes:void 0,Contents:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,Marker:void 0,MaxKeys:void 0,Name:void 0,NextMarker:void 0,Prefix:void 0},[4,Qy(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=zy(ao(r.CommonPrefixes))),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=Hy(ao(r.Contents))),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Marker&&(n.Marker=r.Marker),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextMarker&&(n.NextMarker=r.NextMarker),void 0!==r.Prefix&&(n.Prefix=r.Prefix),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),zm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListObjectsV2Command",inputFilterSensitiveLog:dg.filterSensitiveLog,outputFilterSensitiveLog:fg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl({},Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");return r=r.replace("{Bucket}",so(i)),o=Bl(Bl(Bl(Bl(Bl(Bl(Bl({"list-type":"2"},void 0!==e.Delimiter&&{delimiter:e.Delimiter}),void 0!==e.EncodingType&&{"encoding-type":e.EncodingType}),void 0!==e.MaxKeys&&{"max-keys":e.MaxKeys.toString()}),void 0!==e.Prefix&&{prefix:e.Prefix}),void 0!==e.ContinuationToken&&{"continuation-token":e.ContinuationToken}),void 0!==e.FetchOwner&&{"fetch-owner":e.FetchOwner.toString()}),void 0!==e.StartAfter&&{"start-after":e.StartAfter}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,ky(e,t)]:(n={$metadata:Gy(e),CommonPrefixes:void 0,Contents:void 0,ContinuationToken:void 0,Delimiter:void 0,EncodingType:void 0,IsTruncated:void 0,KeyCount:void 0,MaxKeys:void 0,Name:void 0,NextContinuationToken:void 0,Prefix:void 0,StartAfter:void 0},[4,Qy(e.body,t)]);case 1:return""===(r=i.sent()).CommonPrefixes&&(n.CommonPrefixes=[]),void 0!==r.CommonPrefixes&&(n.CommonPrefixes=zy(ao(r.CommonPrefixes))),""===r.Contents&&(n.Contents=[]),void 0!==r.Contents&&(n.Contents=Hy(ao(r.Contents))),void 0!==r.ContinuationToken&&(n.ContinuationToken=r.ContinuationToken),void 0!==r.Delimiter&&(n.Delimiter=r.Delimiter),void 0!==r.EncodingType&&(n.EncodingType=r.EncodingType),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.KeyCount&&(n.KeyCount=parseInt(r.KeyCount)),void 0!==r.MaxKeys&&(n.MaxKeys=parseInt(r.MaxKeys)),void 0!==r.Name&&(n.Name=r.Name),void 0!==r.NextContinuationToken&&(n.NextContinuationToken=r.NextContinuationToken),void 0!==r.Prefix&&(n.Prefix=r.Prefix),void 0!==r.StartAfter&&(n.StartAfter=r.StartAfter),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),Km=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"ListPartsCommand",inputFilterSensitiveLog:bg.filterSensitiveLog,outputFilterSensitiveLog:mg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Fl(this,(function(f){switch(f.label){case 0:if(n=Bl(Bl({},Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl(Bl(Bl({"x-id":"ListParts"},void 0!==e.MaxParts&&{"max-parts":e.MaxParts.toString()}),void 0!==e.PartNumberMarker&&{"part-number-marker":e.PartNumberMarker}),void 0!==e.UploadId&&{uploadId:e.UploadId}),[4,t.endpoint()];case 1:return s=f.sent(),a=s.hostname,u=s.protocol,c=void 0===u?"https":u,l=s.port,[2,new lr({protocol:c,hostname:a,port:l,method:"GET",headers:n,path:r,query:o,body:void 0})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r;return Fl(this,(function(i){switch(i.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Oy(e,t)]:(n={$metadata:Gy(e),AbortDate:void 0,AbortRuleId:void 0,Bucket:void 0,Initiator:void 0,IsTruncated:void 0,Key:void 0,MaxParts:void 0,NextPartNumberMarker:void 0,Owner:void 0,PartNumberMarker:void 0,Parts:void 0,RequestCharged:void 0,StorageClass:void 0,UploadId:void 0},void 0!==e.headers["x-amz-abort-date"]&&(n.AbortDate=new Date(e.headers["x-amz-abort-date"])),void 0!==e.headers["x-amz-abort-rule-id"]&&(n.AbortRuleId=e.headers["x-amz-abort-rule-id"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Qy(e.body,t)]);case 1:return void 0!==(r=i.sent()).Bucket&&(n.Bucket=r.Bucket),void 0!==r.Initiator&&(n.Initiator=qy(r.Initiator)),void 0!==r.IsTruncated&&(n.IsTruncated="true"==r.IsTruncated),void 0!==r.Key&&(n.Key=r.Key),void 0!==r.MaxParts&&(n.MaxParts=parseInt(r.MaxParts)),void 0!==r.NextPartNumberMarker&&(n.NextPartNumberMarker=r.NextPartNumberMarker),void 0!==r.Owner&&(n.Owner=Vy(r.Owner)),void 0!==r.PartNumberMarker&&(n.PartNumberMarker=r.PartNumberMarker),""===r.Part&&(n.Parts=[]),void 0!==r.Part&&(n.Parts=Wy(ao(r.Part))),void 0!==r.StorageClass&&(n.StorageClass=r.StorageClass),void 0!==r.UploadId&&(n.UploadId=r.UploadId),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo),qm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Rm(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:Wg.filterSensitiveLog,outputFilterSensitiveLog:Vg.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Fl(this,(function(h){switch(h.label){case 0:if(n=Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl(Bl({"content-type":"application/octet-stream"},Zy(e.ACL)&&{"x-amz-acl":e.ACL}),Zy(e.CacheControl)&&{"cache-control":e.CacheControl}),Zy(e.ContentDisposition)&&{"content-disposition":e.ContentDisposition}),Zy(e.ContentEncoding)&&{"content-encoding":e.ContentEncoding}),Zy(e.ContentLanguage)&&{"content-language":e.ContentLanguage}),Zy(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Zy(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Zy(e.ContentType)&&{"content-type":e.ContentType}),Zy(e.Expires)&&{expires:ho(e.Expires).toString()}),Zy(e.GrantFullControl)&&{"x-amz-grant-full-control":e.GrantFullControl}),Zy(e.GrantRead)&&{"x-amz-grant-read":e.GrantRead}),Zy(e.GrantReadACP)&&{"x-amz-grant-read-acp":e.GrantReadACP}),Zy(e.GrantWriteACP)&&{"x-amz-grant-write-acp":e.GrantWriteACP}),Zy(e.ServerSideEncryption)&&{"x-amz-server-side-encryption":e.ServerSideEncryption}),Zy(e.StorageClass)&&{"x-amz-storage-class":e.StorageClass}),Zy(e.WebsiteRedirectLocation)&&{"x-amz-website-redirect-location":e.WebsiteRedirectLocation}),Zy(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Zy(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Zy(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Zy(e.SSEKMSKeyId)&&{"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId}),Zy(e.SSEKMSEncryptionContext)&&{"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext}),Zy(e.BucketKeyEnabled)&&{"x-amz-server-side-encryption-bucket-key-enabled":e.BucketKeyEnabled.toString()}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.Tagging)&&{"x-amz-tagging":e.Tagging}),Zy(e.ObjectLockMode)&&{"x-amz-object-lock-mode":e.ObjectLockMode}),Zy(e.ObjectLockRetainUntilDate)&&{"x-amz-object-lock-retain-until-date":(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()}),Zy(e.ObjectLockLegalHoldStatus)&&{"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),void 0!==e.Metadata&&Object.keys(e.Metadata).reduce((function(t,n){var r;return Bl(Bl({},t),((r={})["x-amz-meta-"+n.toLowerCase()]=e.Metadata[n],r))}),{})),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o={"x-id":"PutObject"},void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new lr({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n;return Fl(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,Ny(e,t)]:(n={$metadata:Gy(e),BucketKeyEnabled:void 0,ETag:void 0,Expiration:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSEncryptionContext:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0,VersionId:void 0},void 0!==e.headers["x-amz-expiration"]&&(n.Expiration=e.headers["x-amz-expiration"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers["x-amz-version-id"]&&(n.VersionId=e.headers["x-amz-version-id"]),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-context"]&&(n.SSEKMSEncryptionContext=e.headers["x-amz-server-side-encryption-context"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Jy(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo);!function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(em||(em={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Encryption&&{Encryption:av.filterSensitiveLog(e.Encryption)})}}(tm||(tm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.S3&&{S3:tm.filterSensitiveLog(e.S3)})}}(nm||(nm={})),function(e){e.IGNORE="IGNORE",e.NONE="NONE",e.USE="USE"}(rm||(rm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(im||(im={})),function(e){e.DOCUMENT="DOCUMENT",e.LINES="LINES"}(om||(om={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(sm||(sm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(am||(am={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(um||(um={})),function(e){e.ALWAYS="ALWAYS",e.ASNEEDED="ASNEEDED"}(cm||(cm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(lm||(lm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(fm||(fm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(dm||(dm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(hm||(hm={})),function(e){e.SELECT="SELECT"}(pm||(pm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.OutputLocation&&{OutputLocation:nm.filterSensitiveLog(e.OutputLocation)})}}(gm||(gm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.RestoreRequest&&{RestoreRequest:gm.filterSensitiveLog(e.RestoreRequest)})}}(vm||(vm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(ym||(ym={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(mm||(mm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(bm||(bm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(wm||(wm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Sm||(Sm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Em||(Em={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Am||(Am={})),function(e){e.visit=function(e,t){return void 0!==e.Records?t.Records(e.Records):void 0!==e.Stats?t.Stats(e.Stats):void 0!==e.Progress?t.Progress(e.Progress):void 0!==e.Cont?t.Cont(e.Cont):void 0!==e.End?t.End(e.End):t._(e.$unknown[0],e.$unknown[1])},e.filterSensitiveLog=function(e){var t;return void 0!==e.Records?{Records:Sm.filterSensitiveLog(e.Records)}:void 0!==e.Stats?{Stats:Am.filterSensitiveLog(e.Stats)}:void 0!==e.Progress?{Progress:wm.filterSensitiveLog(e.Progress)}:void 0!==e.Cont?{Cont:ym.filterSensitiveLog(e.Cont)}:void 0!==e.End?{End:mm.filterSensitiveLog(e.End)}:void 0!==e.$unknown?((t={})[e.$unknown[0]]="UNKNOWN",t):void 0}}(Cm||(Cm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.Payload&&{Payload:"STREAMING_CONTENT"})}}(_m||(_m={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(xm||(xm={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Im||(Im={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po})}}(Tm||(Tm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po})}}(Pm||(Pm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po})}}(km||(km={})),function(e){e.filterSensitiveLog=function(e){return Bl({},e)}}(Om||(Om={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl({},e),e.SSEKMSKeyId&&{SSEKMSKeyId:po})}}(Nm||(Nm={})),function(e){e.filterSensitiveLog=function(e){return Bl(Bl(Bl({},e),e.SSECustomerKey&&{SSECustomerKey:po}),e.CopySourceSSECustomerKey&&{CopySourceSSECustomerKey:po})}}(Mm||(Mm={}));var Hm=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Dl(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(yo(t,this.serialize,this.deserialize)),this.middlewareStack.use(Rm(t)),this.middlewareStack.use(Cf(t));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:km.filterSensitiveLog,outputFilterSensitiveLog:Pm.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Fl(this,(function(h){switch(h.label){case 0:if(n=Bl(Bl(Bl(Bl(Bl(Bl(Bl({"content-type":"application/octet-stream"},Zy(e.ContentLength)&&{"content-length":e.ContentLength.toString()}),Zy(e.ContentMD5)&&{"content-md5":e.ContentMD5}),Zy(e.SSECustomerAlgorithm)&&{"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm}),Zy(e.SSECustomerKey)&&{"x-amz-server-side-encryption-customer-key":e.SSECustomerKey}),Zy(e.SSECustomerKeyMD5)&&{"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),Zy(e.RequestPayer)&&{"x-amz-request-payer":e.RequestPayer}),Zy(e.ExpectedBucketOwner)&&{"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),r="/{Bucket}/{Key+}",void 0===e.Bucket)throw new Error("No value provided for input HTTP label: Bucket.");if((i=e.Bucket).length<=0)throw new Error("Empty value provided for input HTTP label: Bucket.");if(r=r.replace("{Bucket}",so(i)),void 0===e.Key)throw new Error("No value provided for input HTTP label: Key.");if((i=e.Key).length<=0)throw new Error("Empty value provided for input HTTP label: Key.");return r=r.replace("{Key+}",i.split("/").map((function(e){return so(e)})).join("/")),o=Bl(Bl({"x-id":"UploadPart"},void 0!==e.PartNumber&&{partNumber:e.PartNumber.toString()}),void 0!==e.UploadId&&{uploadId:e.UploadId}),void 0!==e.Body&&(a=e.Body,s=a),[4,t.endpoint()];case 1:return u=h.sent(),c=u.hostname,l=u.protocol,f=void 0===l?"https":l,d=u.port,[2,new lr({protocol:f,hostname:c,port:d,method:"PUT",headers:n,path:r,query:o,body:s})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return jl(void 0,void 0,void 0,(function(){var n;return Fl(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=300?[2,My(e,t)]:(n={$metadata:Gy(e),BucketKeyEnabled:void 0,ETag:void 0,RequestCharged:void 0,SSECustomerAlgorithm:void 0,SSECustomerKeyMD5:void 0,SSEKMSKeyId:void 0,ServerSideEncryption:void 0},void 0!==e.headers["x-amz-server-side-encryption"]&&(n.ServerSideEncryption=e.headers["x-amz-server-side-encryption"]),void 0!==e.headers.etag&&(n.ETag=e.headers.etag),void 0!==e.headers["x-amz-server-side-encryption-customer-algorithm"]&&(n.SSECustomerAlgorithm=e.headers["x-amz-server-side-encryption-customer-algorithm"]),void 0!==e.headers["x-amz-server-side-encryption-customer-key-md5"]&&(n.SSECustomerKeyMD5=e.headers["x-amz-server-side-encryption-customer-key-md5"]),void 0!==e.headers["x-amz-server-side-encryption-aws-kms-key-id"]&&(n.SSEKMSKeyId=e.headers["x-amz-server-side-encryption-aws-kms-key-id"]),void 0!==e.headers["x-amz-server-side-encryption-bucket-key-enabled"]&&(n.BucketKeyEnabled="true"===e.headers["x-amz-server-side-encryption-bucket-key-enabled"]),void 0!==e.headers["x-amz-request-charged"]&&(n.RequestCharged=e.headers["x-amz-request-charged"]),[4,Jy(e.body,t)]);case 1:return r.sent(),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(oo);function Vm(e){var t=e.port,n=e.query,r=e.protocol,i=e.path,o=e.hostname;r&&":"!==r.substr(-1)&&(r+=":"),t&&(o+=":"+t),i&&"/"!==i.charAt(0)&&(i="/"+i);var s=n?hr(n):"";return s&&"?"!==s[0]&&(s="?"+s),r+"//"+o+i+s}function Wm(e,t){return Ve(this,void 0,void 0,(function(){var n,r,i=this;return We(this,(function(o){switch(o.label){case 0:return n=function(e){return function(e){return Ve(i,void 0,void 0,(function(){return We(this,(function(t){return[2,{output:{request:e.request},response:void 0}]}))}))}},(r=e.middlewareStack.clone()).add(n,{step:"build",priority:"low"}),[4,t.resolveMiddleware(r,e.config,void 0)(t).then((function(e){return e.output.request}))];case 1:return[2,o.sent()]}}))}))}var Gm=function(){function e(e){var t=qe({service:e.signingName||e.service||"s3",uriEscapePath:e.uriEscapePath||!1},e);this.signer=new ji(t)}return e.prototype.presign=function(e,t){void 0===t&&(t={});var n=t.unsignableHeaders,r=void 0===n?new Set:n,i=t.unhoistableHeaders,o=void 0===i?new Set:i,s=He(t,["unsignableHeaders","unhoistableHeaders"]);return Ve(this,void 0,void 0,(function(){return We(this,(function(t){return r.add("content-type"),Object.keys(e.headers).map((function(e){return e.toLowerCase()})).filter((function(e){return e.startsWith("x-amz-server-side-encryption")})).forEach((function(e){o.add(e)})),e.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD",e.headers.host||(e.headers.host=e.hostname),[2,this.signer.presign(e,qe({expiresIn:900,unsignableHeaders:r,unhoistableHeaders:o},s))]}))}))},e}(),Jm=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},Zm=Object.prototype.toString;function Qm(e){return"[object Array]"===Zm.call(e)}function Ym(e){return void 0===e}function Xm(e){return null!==e&&"object"==typeof e}function $m(e){if("[object Object]"!==Zm.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function eb(e){return"[object Function]"===Zm.call(e)}function tb(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Qm(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var nb={isArray:Qm,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Zm.call(e)},isBuffer:function(e){return null!==e&&!Ym(e)&&null!==e.constructor&&!Ym(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Xm,isPlainObject:$m,isUndefined:Ym,isDate:function(e){return"[object Date]"===Zm.call(e)},isFile:function(e){return"[object File]"===Zm.call(e)},isBlob:function(e){return"[object Blob]"===Zm.call(e)},isFunction:eb,isStream:function(e){return Xm(e)&&eb(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:tb,merge:function e(){var t={};function n(n,r){$m(t[r])&&$m(n)?t[r]=e(t[r],n):$m(n)?t[r]=e({},n):Qm(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)tb(arguments[r],n);return t},extend:function(e,t,n){return tb(t,(function(t,r){e[r]=n&&"function"==typeof t?Jm(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}};function rb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ib=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(nb.isURLSearchParams(t))r=t.toString();else{var i=[];nb.forEach(t,(function(e,t){null!=e&&(nb.isArray(e)?t+="[]":e=[e],nb.forEach(e,(function(e){nb.isDate(e)?e=e.toISOString():nb.isObject(e)&&(e=JSON.stringify(e)),i.push(rb(t)+"="+rb(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function ob(){this.handlers=[]}ob.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},ob.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},ob.prototype.forEach=function(e){nb.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var sb=ob,ab=function(e,t){nb.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},ub=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},cb=function(e,t,n,r,i){var o=new Error(e);return ub(o,t,n,r,i)},lb=nb.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),nb.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),nb.isString(r)&&s.push("path="+r),nb.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},fb=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],db=nb.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=nb.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},hb=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers,o=e.responseType;nb.isFormData(r)&&delete i["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+u)}var c,l,f=(c=e.baseURL,l=e.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(c,l):l);function d(){if(s){var r="getAllResponseHeaders"in s?function(e){var t,n,r,i={};return e?(nb.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=nb.trim(e.substr(0,r)).toLowerCase(),n=nb.trim(e.substr(r+1)),t){if(i[t]&&fb.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}(s.getAllResponseHeaders()):null,i={data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s};!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(cb("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}(t,n,i),s=null}}if(s.open(e.method.toUpperCase(),ib(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(d)},s.onabort=function(){s&&(n(cb("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(cb("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(cb(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},nb.isStandardBrowserEnv()){var h=(e.withCredentials||db(f))&&e.xsrfCookieName?lb.read(e.xsrfCookieName):void 0;h&&(i[e.xsrfHeaderName]=h)}"setRequestHeader"in s&&nb.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:s.setRequestHeader(t,e)})),nb.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),n(e),s=null)})),r||(r=null),s.send(r)}))},pb={"Content-Type":"application/x-www-form-urlencoded"};function gb(e,t){!nb.isUndefined(e)&&nb.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var vb,yb={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(vb=hb),vb),transformRequest:[function(e,t){return ab(t,"Accept"),ab(t,"Content-Type"),nb.isFormData(e)||nb.isArrayBuffer(e)||nb.isBuffer(e)||nb.isStream(e)||nb.isFile(e)||nb.isBlob(e)?e:nb.isArrayBufferView(e)?e.buffer:nb.isURLSearchParams(e)?(gb(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):nb.isObject(e)||t&&"application/json"===t["Content-Type"]?(gb(t,"application/json"),function(e,t,n){if(nb.isString(e))try{return(t||JSON.parse)(e),nb.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||r&&nb.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw ub(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};yb.headers={common:{Accept:"application/json, text/plain, */*"}},nb.forEach(["delete","get","head"],(function(e){yb.headers[e]={}})),nb.forEach(["post","put","patch"],(function(e){yb.headers[e]=nb.merge(pb)}));var mb=yb,bb=function(e,t,n){var r=this||mb;return nb.forEach(n,(function(n){e=n.call(r,e,t)})),e},wb=function(e){return!(!e||!e.__CANCEL__)};function Sb(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Eb=function(e){return Sb(e),e.headers=e.headers||{},e.data=bb.call(e,e.data,e.headers,e.transformRequest),e.headers=nb.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),nb.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||mb.adapter)(e).then((function(t){return Sb(e),t.data=bb.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return wb(t)||(Sb(e),t&&t.response&&(t.response.data=bb.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Ab=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(e,t){return nb.isPlainObject(e)&&nb.isPlainObject(t)?nb.merge(e,t):nb.isPlainObject(t)?nb.merge({},t):nb.isArray(t)?t.slice():t}function u(r){nb.isUndefined(t[r])?nb.isUndefined(e[r])||(n[r]=a(void 0,e[r])):n[r]=a(e[r],t[r])}nb.forEach(r,(function(e){nb.isUndefined(t[e])||(n[e]=a(void 0,t[e]))})),nb.forEach(i,u),nb.forEach(o,(function(r){nb.isUndefined(t[r])?nb.isUndefined(e[r])||(n[r]=a(void 0,e[r])):n[r]=a(void 0,t[r])})),nb.forEach(s,(function(r){r in t?n[r]=a(e[r],t[r]):r in e&&(n[r]=a(void 0,e[r]))}));var c=r.concat(i).concat(o).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return nb.forEach(l,u),n},Cb={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]},_b={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){_b[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var xb={},Ib=Cb.version.split(".");function Tb(e,t){for(var n=t?t.split("."):Ib,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}_b.transitional=function(e,t,n){var r=t&&Tb(t);function i(e,t){return"[Axios v"+Cb.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new Error(i(o," has been removed in "+t));return r&&!xb[o]&&(xb[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};var Pb={isOlderVersion:Tb,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:_b},kb=Pb.validators;function Ob(e){this.defaults=e,this.interceptors={request:new sb,response:new sb}}Ob.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Ab(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&Pb.assertOptions(t,{silentJSONParsing:kb.transitional(kb.boolean,"1.0.0"),forcedJSONParsing:kb.transitional(kb.boolean,"1.0.0"),clarifyTimeoutError:kb.transitional(kb.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var s=[Eb,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),i=Promise.resolve(e);s.length;)i=i.then(s.shift(),s.shift());return i}for(var a=e;n.length;){var u=n.shift(),c=n.shift();try{a=u(a)}catch(e){c(e);break}}try{i=Eb(a)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},Ob.prototype.getUri=function(e){return e=Ab(this.defaults,e),ib(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},nb.forEach(["delete","get","head","options"],(function(e){Ob.prototype[e]=function(t,n){return this.request(Ab(n||{},{method:e,url:t,data:(n||{}).data}))}})),nb.forEach(["post","put","patch"],(function(e){Ob.prototype[e]=function(t,n,r){return this.request(Ab(r||{},{method:e,url:t,data:n}))}}));var Nb=Ob;function Mb(e){this.message=e}Mb.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Mb.prototype.__CANCEL__=!0;var Lb=Mb;function Rb(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new Lb(e),t(n.reason))}))}Rb.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},Rb.source=function(){var e,t=new Rb((function(t){e=t}));return{token:t,cancel:e}};var Ub=Rb;function Db(e){var t=new Nb(e),n=Jm(Nb.prototype.request,t);return nb.extend(n,Nb.prototype,t),nb.extend(n,t),n}var Bb=Db(mb);Bb.Axios=Nb,Bb.create=function(e){return Db(Ab(Bb.defaults,e))},Bb.Cancel=Lb,Bb.CancelToken=Ub,Bb.isCancel=wb,Bb.all=function(e){return Promise.all(e)},Bb.spread=function(e){return function(t){return e.apply(null,t)}},Bb.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};var jb=Bb,Fb=Bb;jb.default=Fb;var zb,Kb,qb,Hb=jb;!function(e){e.NO_CREDENTIALS="No credentials",e.NO_SRC_KEY='source param should be an object with the property "key" with value of type string',e.NO_DEST_KEY='destination param should be an object with the property "key" with value of type string',e.INVALID_BLOB="Object must be an instance of Blob"}(zb||(zb={})),function(e){e.CLEANUP_FAILED="Multipart copy clean up failed",e.NO_OBJECT_FOUND="Object does not exist",e.INVALID_QUEUESIZE="Queue size must be a positive number",e.NO_COPYSOURCE="You must specify a copy source",e.MAX_NUM_PARTS_EXCEEDED="Only a maximum of 10000 parts are allowed"}(Kb||(Kb={})),function(e){e.UPLOAD_PAUSED_MESSAGE="paused"}(qb||(qb={}));var Vb=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Wb=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Gb=new ie("axios-http-handler"),Jb="sendUploadProgress",Zb="sendDownloadProgress";var Qb=function(e,t){var n,r;try{for(var i=Vb(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=Wb(o.value,2),a=s[0],u=s[1];a!==t&&a.toUpperCase()===t.toUpperCase()&&(e[t]=u,delete e[a])}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},Yb=[function(e,t){return n=e,"undefined"!=typeof Blob&&n instanceof Blob?(Qb(t,"Content-Type"),Qb(t,"Accept"),e):Hb.defaults.transformRequest[0].call(null,e,t);var n}],Xb=function(){function e(e,t,n){void 0===e&&(e={}),this.httpOptions=e,this.emitter=t,this.cancelTokenSource=n}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=this.httpOptions.requestTimeout,r=t.emitter||this.emitter,i=e.path;if(e.query){var o=hr(e.query);o&&(i+="?"+o)}var s=e.port,a=e.protocol+"//"+e.hostname+(s?":"+s:"")+i,u={};u.url=a,u.method=e.method,u.headers=e.headers,delete u.headers.host,e.body?u.data=e.body:u.headers[Object.keys(u.headers).find((function(e){return"content-type"===e.toLowerCase()}))]&&(u.data=null),r&&(u.onUploadProgress=function(e){r.emit(Jb,e),Gb.debug(e)},u.onDownloadProgress=function(e){r.emit(Zb,e),Gb.debug(e)}),this.cancelTokenSource&&(u.cancelToken=this.cancelTokenSource.token),t.cancelTokenSource&&(u.cancelToken=t.cancelTokenSource.token),u.responseType="blob",ue.isReactNative&&(u.transformRequest=Yb);var c=[Hb.request(u).then((function(e){return{response:new cr({headers:e.headers,statusCode:e.status,body:e.data})}})).catch((function(e){var t,n;if(e.message!==qb.UPLOAD_PAUSED_MESSAGE&&Gb.error(e.message),Hb.isCancel(e)||!function(e){return void 0!==e&&Object.prototype.hasOwnProperty.call(e,"response")&&void 0!==e.response&&Object.prototype.hasOwnProperty.call(e.response,"status")&&"number"==typeof e.response.status}(e))throw e;return{response:new cr({statusCode:e.response.status,body:null===(t=e.response)||void 0===t?void 0:t.data,headers:null===(n=e.response)||void 0===n?void 0:n.headers})}})),$b(n)];return Promise.race(c)},e}();function $b(e){return void 0===e&&(e=0),new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within "+e+" ms");t.name="TimeoutError",n(t)}),e)}))}var ew,tw="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",nw="contentLengthMiddleware",rw="__uploadInProgress",iw=function(e,t,n,r,i){if(e){var o={attrs:n};r&&(o.metrics=r),ve.dispatch("storage",{event:t,data:o,message:i},"Storage",tw)}},ow=function(e){return void 0!==e&&e instanceof Blob},sw=function(e){return void 0!==e&&e instanceof ArrayBuffer},aw=function(){return aw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},aw.apply(this,arguments)},uw=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},cw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},lw=new ie("S3ClientUtils"),fw={accessKeyId:"",secretAccessKey:""},dw=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},hw=function(e,t){return function(n,r){return function(r){return uw(void 0,void 0,void 0,(function(){var i,o,s,a;return cw(this,(function(u){switch(u.label){case 0:return[4,Ka.get()];case 1:return i=u.sent(),o=Ka.shear(i),s=dw(aw(aw({},e),{credentials:o})),a=Object.assign({},r.input),Object.prototype.hasOwnProperty.call(r.input,"Key")?(a.Key=s+t,r.input=a):Object.prototype.hasOwnProperty.call(r.input,"Prefix")&&(a.Prefix=s+t,r.input=a),[2,n(r)]}}))}))}}},pw=function(e){return function(t,n){return function(n){return uw(void 0,void 0,void 0,(function(){var r,i;return cw(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(n)];case 1:return[2,o.sent()];case 2:throw r=o.sent(),(s=r).ServerTime&&"string"==typeof s.Code&&"RequestTimeTooSkewed"===s.Code&&(i=new Date(r.ServerTime),e.systemClockOffset=i.getTime()-Date.now()),r;case 3:return[2]}var s}))}))}}},gw={step:"finalizeRequest",name:"autoAdjustClockskewMiddleware"},vw={step:"initialize",name:"addPrefixMiddleware"},yw=function(){return uw(void 0,void 0,void 0,(function(){var e,t,n;return cw(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ka.get()];case 1:return(e=r.sent())?(t=Ka.shear(e),lw.debug("credentials provider get credentials",t),[2,t]):[2,fw];case 2:return n=r.sent(),lw.warn("credentials provider error",n),[2,fw];case 3:return[2]}}))}))},mw=function(e,t){var n=e.region,r=e.cancelTokenSource,i=e.dangerouslyConnectToHttpEndpointForTesting,o=e.useAccelerateEndpoint,s={};i&&(s={endpoint:"http://localhost:20005",tls:!1,bucketEndpoint:!1,forcePathStyle:!0});var a=new vv(aw(aw({region:n,credentials:yw,customUserAgent:ce()},s),{requestHandler:new Xb({},t,r),useAccelerateEndpoint:o}));return a.middlewareStack.remove(nw),a},bw="object"==typeof Reflect?Reflect:null,ww=bw&&"function"==typeof bw.apply?bw.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};ew=bw&&"function"==typeof bw.ownKeys?bw.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Sw=Number.isNaN||function(e){return e!=e};function Ew(){Ew.init.call(this)}var Aw=Ew,Cw=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}Lw(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Lw(e,"error",t,n)}(e,i,{once:!0})}))};Ew.EventEmitter=Ew,Ew.prototype._events=void 0,Ew.prototype._eventsCount=0,Ew.prototype._maxListeners=void 0;var _w=10;function xw(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Iw(e){return void 0===e._maxListeners?Ew.defaultMaxListeners:e._maxListeners}function Tw(e,t,n,r){var i,o,s,a;if(xw(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=Iw(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function Pw(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function kw(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=Pw.bind(r);return i.listener=n,r.wrapFn=i,i}function Ow(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):Mw(i,i.length)}function Nw(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Mw(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Lw(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(Ew,"defaultMaxListeners",{enumerable:!0,get:function(){return _w},set:function(e){if("number"!=typeof e||e<0||Sw(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_w=e}}),Ew.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ew.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Sw(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ew.prototype.getMaxListeners=function(){return Iw(this)},Ew.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)ww(a,this,t);else{var u=a.length,c=Mw(a,u);for(n=0;n<u;++n)ww(c[n],this,t)}return!0},Ew.prototype.addListener=function(e,t){return Tw(this,e,t,!1)},Ew.prototype.on=Ew.prototype.addListener,Ew.prototype.prependListener=function(e,t){return Tw(this,e,t,!0)},Ew.prototype.once=function(e,t){return xw(t),this.on(e,kw(this,e,t)),this},Ew.prototype.prependOnceListener=function(e,t){return xw(t),this.prependListener(e,kw(this,e,t)),this},Ew.prototype.removeListener=function(e,t){var n,r,i,o,s;if(xw(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},Ew.prototype.off=Ew.prototype.removeListener,Ew.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Ew.prototype.listeners=function(e){return Ow(this,e,!0)},Ew.prototype.rawListeners=function(e){return Ow(this,e,!1)},Ew.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Nw.call(e,t)},Ew.prototype.listenerCount=Nw,Ew.prototype.eventNames=function(){return this._eventsCount>0?ew(this._events):[]},Aw.once=Cw;var Rw,Uw,Dw=function(){return Dw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Dw.apply(this,arguments)},Bw=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},jw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Fw=new ie("AWSS3ProviderManagedUpload"),zw=function(){function e(e,t,n){this.minPartSize=5242880,this.queueSize=4,this.body=null,this.params=null,this.opts=null,this.completedParts=[],this.cancel=!1,this.bytesUploaded=0,this.totalBytesToUpload=0,this.emitter=null,this.params=e,this.opts=t,this.emitter=n,this.s3client=this._createNewS3Client(t,n)}return e.prototype.upload=function(){return Bw(this,void 0,void 0,(function(){var e,t,n,r,i,o,s=this;return jw(this,(function(a){switch(a.label){case 0:return e=this,[4,this.validateAndSanitizeBody(this.params.Body)];case 1:return e.body=a.sent(),this.totalBytesToUpload=this.byteLength(this.body),this.totalBytesToUpload<=this.minPartSize?(this.params.Body=this.body,t=new qm(this.params),[2,this.s3client.send(t)]):[3,2];case 2:return[4,this.createMultiPartUpload()];case 3:n=a.sent(),r=Math.ceil(this.totalBytesToUpload/this.minPartSize),i=this.createParts(),o=0,a.label=4;case 4:return o<r?[4,this.checkIfUploadCancelled(n)]:[3,9];case 5:return a.sent(),[4,this.uploadParts(n,i.slice(o,o+this.queueSize))];case 6:return a.sent(),[4,this.checkIfUploadCancelled(n)];case 7:a.sent(),a.label=8;case 8:return o+=this.queueSize,[3,4];case 9:return i.map((function(e){s.removeEventListener(e)})),[4,this.finishMultiPartUpload(n)];case 10:return[2,a.sent()]}}))}))},e.prototype.createParts=function(){for(var e=[],t=0;t<this.totalBytesToUpload;){var n=Math.min(t+this.minPartSize,this.totalBytesToUpload);e.push({bodyPart:this.body.slice(t,n),partNumber:e.length+1,emitter:new Aw.EventEmitter,_lastUploadedBytes:0}),t+=this.minPartSize}return e},e.prototype.createMultiPartUpload=function(){return Bw(this,void 0,void 0,(function(){var e,t;return jw(this,(function(n){switch(n.label){case 0:return e=new Dm(this.params),[4,this.s3client.send(e)];case 1:return t=n.sent(),Fw.debug(t.UploadId),[2,t.UploadId]}}))}))},e.prototype.uploadParts=function(e,t){return Bw(this,void 0,void 0,(function(){var n,r,i,o=this;return jw(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Promise.all(t.map((function(t){return Bw(o,void 0,void 0,(function(){var n,r,i,o,s,a,u;return jw(this,(function(c){switch(c.label){case 0:return this.setupEventListener(t),n={emitter:t.emitter},r=this.params,i=r.Key,o=r.Bucket,s=r.SSECustomerAlgorithm,a=r.SSECustomerKey,u=r.SSECustomerKeyMD5,[4,this.s3client.send(new Hm(Dw(Dw(Dw({PartNumber:t.partNumber,Body:t.bodyPart,UploadId:e,Key:i,Bucket:o},s&&{SSECustomerAlgorithm:s}),a&&{SSECustomerKey:a}),u&&{SSECustomerKeyMD5:u})),n)];case 1:return[2,c.sent()]}}))}))})))];case 1:for(n=s.sent(),r=0;r<n.length;r++)this.completedParts.push({PartNumber:t[r].partNumber,ETag:n[r].ETag});return[3,3];case 2:return i=s.sent(),Fw.error("error happened while uploading a part. Cancelling the multipart upload",i),this.cancelUpload(),[2];case 3:return[2]}}))}))},e.prototype.finishMultiPartUpload=function(e){return Bw(this,void 0,void 0,(function(){var t,n,r;return jw(this,(function(i){switch(i.label){case 0:t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e,MultipartUpload:{Parts:this.completedParts}},n=new $y(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.s3client.send(n)];case 2:return[2,i.sent().Key];case 3:return r=i.sent(),Fw.error("error happened while finishing the upload. Cancelling the multipart upload",r),this.cancelUpload(),[2];case 4:return[2]}}))}))},e.prototype.checkIfUploadCancelled=function(e){return Bw(this,void 0,void 0,(function(){var t,n;return jw(this,(function(r){switch(r.label){case 0:if(!this.cancel)return[3,5];t="Upload was cancelled.",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanup(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),t+=" "+n.message,[3,4];case 4:throw new Error(t);case 5:return[2]}}))}))},e.prototype.cancelUpload=function(){this.cancel=!0},e.prototype.cleanup=function(e){return Bw(this,void 0,void 0,(function(){var t,n;return jw(this,(function(r){switch(r.label){case 0:return this.body=null,this.completedParts=[],this.bytesUploaded=0,this.totalBytesToUpload=0,t={Bucket:this.params.Bucket,Key:this.params.Key,UploadId:e},[4,this.s3client.send(new Xy(t))];case 1:return r.sent(),[4,this.s3client.send(new Km(t))];case 2:if((n=r.sent())&&n.Parts&&n.Parts.length>0)throw new Error("Multi Part upload clean up failed");return[2]}}))}))},e.prototype.removeEventListener=function(e){e.emitter.removeAllListeners(Jb),e.emitter.removeAllListeners(Zb)},e.prototype.setupEventListener=function(e){var t=this;e.emitter.on(Jb,(function(n){t.progressChanged(e.partNumber,n.loaded-e._lastUploadedBytes),e._lastUploadedBytes=n.loaded}))},e.prototype.progressChanged=function(e,t){this.bytesUploaded+=t,this.emitter.emit(Jb,{loaded:this.bytesUploaded,total:this.totalBytesToUpload,part:e,key:this.params.Key})},e.prototype.byteLength=function(e){if(null==e)return 0;if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.length)return e.length;if("number"==typeof e.size)return e.size;if("string"!=typeof e.path)throw new Error("Cannot determine length of "+e)},e.prototype.validateAndSanitizeBody=function(e){return Bw(this,void 0,void 0,(function(){return jw(this,(function(t){return this.isGenericObject(e)?[2,JSON.stringify(e)]:[2,e]}))}))},e.prototype.isGenericObject=function(e){if(null!==e&&"object"==typeof e)try{return!(this.byteLength(e)>=0)}catch(e){return!0}return!1},e.prototype._createNewS3Client=function(e,t){var n=mw(e,t);return n.middlewareStack.add(hw(this.opts,this.params.Key),vw),n.middlewareStack.add(pw(n.config),gw),n},e}(),Kw=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},qw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Hw=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},Vw=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Hw(arguments[t]));return e},Ww=new ie("AWSS3UploadTask");!function(e){e[e.INIT=0]="INIT",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.PAUSED=2]="PAUSED",e[e.CANCELLED=3]="CANCELLED",e[e.COMPLETED=4]="COMPLETED"}(Rw||(Rw={})),function(e){e.CANCEL="cancel",e.UPLOAD_COMPLETE="uploadComplete",e.UPLOAD_PROGRESS="uploadPartProgress",e.ERROR="error"}(Uw||(Uw={}));function Gw(e,t){return e.PartNumber-t.PartNumber}var Jw=function(){function e(e){var t=e.s3Client,n=e.file,r=e.emitter,i=e.storage,o=e.params,s=e.level,a=e.prefixPromise;this.partSize=5242880,this.queueSize=4,this.inProgress=[],this.completedParts=[],this.queued=[],this.bytesUploaded=0,this.totalBytes=0,this.state=Rw.INIT,this.prefixPromise=a,this.s3client=t,this.s3client.middlewareStack.remove(nw),this.storage=i,this.storageSync=Promise.resolve(),"function"==typeof this.storage.sync&&(this.storageSync=this.storage.sync()),this.params=o,this.file=n,this.totalBytes=this.file.size,this.bytesUploaded=0,this.emitter=r,this.queued=[],this.fileId=this._getFileId(s),this._validateParams(),this.emitter.on(Uw.ERROR,(function(){}))}return Object.defineProperty(e.prototype,"percent",{get:function(){return this.bytesUploaded/this.totalBytes*100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isInProgress",{get:function(){return this.state===Rw.IN_PROGRESS},enumerable:!0,configurable:!0}),e.prototype._listSingleFile=function(e){var t=e.key,n=e.bucket;return Kw(this,void 0,void 0,(function(){var e,r,i,o,s;return qw(this,(function(a){switch(a.label){case 0:return[4,this.s3client.send(new zm({Bucket:n,Prefix:t}))];case 1:return e=a.sent(),r=e.Contents,i=void 0===r?[]:r,[4,this.prefixPromise];case 2:return o=a.sent(),s=i.find((function(e){return e.Key===""+o+t})),[2,s]}}))}))},e.prototype._getFileId=function(e){return function(e){return void 0!==e&&e instanceof File}(this.file)?[this.file.name,this.file.lastModified,this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-"):[this.file.size,this.file.type,this.params.Bucket,e,this.params.Key].join("-")},e.prototype._findCachedUploadParts=function(){return Kw(this,void 0,void 0,(function(){var e,t;return qw(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return e=n.sent(),0!==Object.keys(e).length&&Object.prototype.hasOwnProperty.call(e,this.fileId)?((t=e[this.fileId]).lastTouched=Date.now(),this.storage.setItem(rw,JSON.stringify(e)),[4,this.s3client.send(new Km({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:t.uploadId}))]):[2,{parts:[],uploadId:null}];case 2:return[2,{parts:n.sent().Parts||[],uploadId:t.uploadId}]}}))}))},e.prototype._emitEvent=function(e,t){this.emitter.emit(e,t)},e.prototype._validateParams=function(){if(this.file.size/this.partSize>1e4)throw new Error("Too many parts. Number of parts is "+this.file.size/this.partSize+", maximum is 10000.")},e.prototype._listCachedUploadTasks=function(){return Kw(this,void 0,void 0,(function(){var e;return qw(this,(function(t){switch(t.label){case 0:return[4,this.storageSync];case 1:return t.sent(),e=this.storage.getItem(rw)||"{}",[2,JSON.parse(e)]}}))}))},e.prototype._cache=function(e){return Kw(this,void 0,void 0,(function(){var t;return qw(this,(function(n){switch(n.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return(t=n.sent())[this.fileId]=e,this.storage.setItem(rw,JSON.stringify(t)),[2]}}))}))},e.prototype._isCached=function(){return Kw(this,void 0,void 0,(function(){var e,t;return qw(this,(function(n){switch(n.label){case 0:return t=(e=Object.prototype.hasOwnProperty).call,[4,this._listCachedUploadTasks()];case 1:return[2,t.apply(e,[n.sent(),this.fileId])]}}))}))},e.prototype._removeFromCache=function(){return Kw(this,void 0,void 0,(function(){var e;return qw(this,(function(t){switch(t.label){case 0:return[4,this._listCachedUploadTasks()];case 1:return delete(e=t.sent())[this.fileId],this.storage.setItem(rw,JSON.stringify(e)),[2]}}))}))},e.prototype._onPartUploadCompletion=function(e){var t=e.eTag,n=e.partNumber,r=e.chunk;return Kw(this,void 0,void 0,(function(){return qw(this,(function(e){return this.completedParts.push({ETag:t,PartNumber:n}),this.bytesUploaded+=function(e){if("string"==typeof e)return e.length;if(sw(e))return e.byteLength;if(ow(e))return e.size;throw new Error("Cannot determine byte length of "+e)}(r),this._emitEvent(Uw.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes}),this.inProgress=this.inProgress.filter((function(e){return e.uploadPartInput.PartNumber!==n})),this.queued.length&&this.state!==Rw.PAUSED&&this._startNextPart(),this._isDone()&&this._completeUpload(),[2]}))}))},e.prototype._completeUpload=function(){return Kw(this,void 0,void 0,(function(){var e;return qw(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.s3client.send(new $y({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId,MultipartUpload:{Parts:this.completedParts.sort(Gw)}}))];case 1:return t.sent(),this._verifyFileSize(),this._emitEvent(Uw.UPLOAD_COMPLETE,{key:this.params.Bucket+"/"+this.params.Key}),this._removeFromCache(),this.state=Rw.COMPLETED,[3,3];case 2:return e=t.sent(),Ww.error("error completing upload",e),this._emitEvent(Uw.ERROR,e),[3,3];case 3:return[2]}}))}))},e.prototype._makeUploadPartRequest=function(e,t){return Kw(this,void 0,void 0,(function(){var n,r;return qw(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,this.s3client.send(new Hm(e),{cancelTokenSource:t})];case 1:return n=i.sent(),[4,this._onPartUploadCompletion({eTag:n.ETag,partNumber:e.PartNumber,chunk:e.Body})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),this.state===Rw.PAUSED?Ww.log("upload paused"):this.state===Rw.CANCELLED?Ww.log("upload aborted"):Ww.error("error starting next part of upload: ",r),Hb.isCancel(r)||r.message===qb.UPLOAD_PAUSED_MESSAGE||(this._emitEvent(Uw.ERROR,r),this.pause()),[3,4];case 4:return[2]}}))}))},e.prototype._startNextPart=function(){if(this.queued.length>0&&this.state!==Rw.PAUSED){var e=Hb.CancelToken.source(),t=this.queued.shift();this.inProgress.push({uploadPartInput:t,s3Request:this._makeUploadPartRequest(t,e),cancel:e.cancel})}},e.prototype._verifyFileSize=function(){return Kw(this,void 0,void 0,(function(){var e,t;return qw(this,(function(n){switch(n.label){case 0:return[4,this._listSingleFile({key:this.params.Key,bucket:this.params.Bucket})];case 1:if(e=n.sent(),!(t=Boolean(e&&e.Size===this.file.size)))throw new Error("File size does not match between local file and file on s3");return[2,t]}}))}))},e.prototype._isDone=function(){return!this.queued.length&&!this.inProgress.length&&this.bytesUploaded===this.totalBytes},e.prototype._createParts=function(){for(var e=this.file.size,t=[],n=0;n<e;){var r=Math.min(n+this.partSize,e);t.push({Body:this.file.slice(n,r),Key:this.params.Key,Bucket:this.params.Bucket,PartNumber:t.length+1,UploadId:this.uploadId}),n+=this.partSize}return t},e.prototype._initCachedUploadParts=function(e){this.bytesUploaded+=e.reduce((function(e,t){return e+t.Size}),0);var t=new Set(e.map((function(e){return e.PartNumber})));this.queued=this.queued.filter((function(e){return!t.has(e.PartNumber)})),this.completedParts=e.map((function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}})),this._emitEvent(Uw.UPLOAD_PROGRESS,{loaded:this.bytesUploaded,total:this.totalBytes})},e.prototype._initMultipartUpload=function(){return Kw(this,void 0,void 0,(function(){var e;return qw(this,(function(t){switch(t.label){case 0:return[4,this.s3client.send(new Dm(this.params))];case 1:return e=t.sent(),this._cache({uploadId:e.UploadId,lastTouched:Date.now(),bucket:this.params.Bucket,key:this.params.Key,fileName:this.file instanceof File?this.file.name:""}),[2,e.UploadId]}}))}))},e.prototype._initializeUploadTask=function(){return Kw(this,void 0,void 0,(function(){var e,t,n,r;return qw(this,(function(i){switch(i.label){case 0:this.state=Rw.IN_PROGRESS,i.label=1;case 1:return i.trys.push([1,7,,8]),[4,this._isCached()];case 2:return i.sent()?[4,this._findCachedUploadParts()]:[3,4];case 3:return e=i.sent(),t=e.parts,n=e.uploadId,this.uploadId=n,this.queued=this._createParts(),this._initCachedUploadParts(t),this._startUpload(),[3,6];case 4:return this.uploadId?[3,6]:[4,this._initMultipartUpload()];case 5:n=i.sent(),this.uploadId=n,this.queued=this._createParts(),this._startUpload(),i.label=6;case 6:return[3,8];case 7:return r=i.sent(),Hb.isCancel(r)||Ww.error("Error initializing the upload task",r),[3,8];case 8:return[2]}}))}))},e.prototype.resume=function(){this.state===Rw.CANCELLED?Ww.warn("This task has already been cancelled"):this.state===Rw.COMPLETED?Ww.warn("This task has already been completed"):this.state===Rw.IN_PROGRESS?Ww.warn("Upload task already in progress"):this.uploadId?this._startUpload():this._initializeUploadTask()},e.prototype._startUpload=function(){this.state=Rw.IN_PROGRESS;for(var e=0;e<this.queueSize;e++)this._startNextPart()},e.prototype._cancel=function(){return Kw(this,void 0,void 0,(function(){var e;return qw(this,(function(t){switch(t.label){case 0:return this.state!==Rw.CANCELLED?[3,1]:(Ww.warn("This task has already been cancelled"),[2,!1]);case 1:return this.state!==Rw.COMPLETED?[3,2]:(Ww.warn("This task has already been completed"),[2,!1]);case 2:this.pause(),this.queued=[],this.completedParts=[],this.bytesUploaded=0,this.state=Rw.CANCELLED,t.label=3;case 3:return t.trys.push([3,6,,7]),[4,this.s3client.send(new Xy({Bucket:this.params.Bucket,Key:this.params.Key,UploadId:this.uploadId}))];case 4:return t.sent(),[4,this._removeFromCache()];case 5:return t.sent(),[2,!0];case 6:return e=t.sent(),Ww.error("Error cancelling upload task",e),[2,!1];case 7:return[2]}}))}))},e.prototype.pause=function(){var e;this.state===Rw.CANCELLED?Ww.warn("This task has already been cancelled"):this.state===Rw.COMPLETED?Ww.warn("This task has already been completed"):this.state===Rw.PAUSED&&Ww.warn("This task is already paused"),this.state=Rw.PAUSED;var t=this.inProgress.splice(0,this.inProgress.length);t.forEach((function(e){e.cancel(qb.UPLOAD_PAUSED_MESSAGE)})),(e=this.queued).unshift.apply(e,Vw(t.map((function(e){return e.uploadPartInput}))))},e}(),Zw=function(){return Zw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zw.apply(this,arguments)},Qw=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},Yw=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},Xw=new ie("AWSS3Provider"),$w="public",eS=function(){function e(e){var t=this;this._config=e||{},this._storage=(new No).getStorage(),ve.listen("auth",(function(e){var n=e.payload;"signOut"!==n.event&&"signIn"!==n.event||t._storage.removeItem(rw)})),Xw.debug("Storage Options",this._config)}return e.prototype.getCategory=function(){return e.CATEGORY},e.prototype.getProviderName=function(){return e.PROVIDER_NAME},e.prototype.configure=function(e){if(Xw.debug("configure Storage",e),!e)return this._config;var t=Tn.parseMobilehubConfig(e);return this._config=Object.assign({},this._config,t.Storage),this._config.bucket||Xw.debug("Do not have bucket yet"),this._config},e.prototype.startResumableUpload=function(e,t){var n=e.s3Client,r=e.emitter,i=e.key,o=e.file,s=e.params,a=t.progressCallback,u=t.completeCallback,c=t.errorCallback,l=t.track,f=void 0!==l&&l;if(!(o instanceof Blob))throw new Error(zb.INVALID_BLOB);r.on(Uw.UPLOAD_PROGRESS,(function(e){a&&("function"==typeof a?a(e):Xw.warn("progressCallback should be a function, not a "+typeof a))})),r.on(Uw.UPLOAD_COMPLETE,(function(e){u&&("function"==typeof u?u(e):Xw.warn("completeCallback should be a function, not a "+typeof u))})),r.on(Uw.ERROR,(function(e){c&&("function"==typeof c?c(e):Xw.warn("errorCallback should be a function, not a "+typeof c))}));var d=Ka.get().then((function(e){var n=Ka.shear(e);return dw(Zw(Zw({},t),{credentials:n}))})),h=new Jw({s3Client:n,file:o,emitter:r,level:t.level,storage:this._storage,params:s,prefixPromise:d});return iw(f,"upload",{method:"put",result:"success"},null,"Upload Task created successfully for "+i),h.resume(),h},e.prototype.copy=function(e,t,n){return Qw(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x,I;return Yw(this,(function(T){switch(T.label){case 0:return[4,this._ensureCredentials()];case 1:if(!T.sent()||!this._isWithCredentials(this._config))throw new Error(zb.NO_CREDENTIALS);if(r=Object.assign({},this._config,n),i=r.acl,o=r.bucket,s=r.cacheControl,a=r.expires,u=r.track,c=r.serverSideEncryption,l=r.SSECustomerAlgorithm,f=r.SSECustomerKey,d=r.SSECustomerKeyMD5,h=r.SSEKMSKeyId,p=e.level,g=void 0===p?$w:p,v=e.identityId,y=e.key,m=t.level,b=void 0===m?$w:m,w=t.key,!y||"string"!=typeof y)throw new Error(zb.NO_SRC_KEY);if(!w||"string"!=typeof w)throw new Error(zb.NO_DEST_KEY);"protected"!==g&&v&&Xw.warn('You may copy files from another user if the source level is "protected", currently it\'s '+g),S=this._prefix(Zw(Zw(Zw({},r),{level:g}),v&&{identityId:v})),E=this._prefix(Zw(Zw({},r),{level:b})),A=o+"/"+S+y,C=""+E+w,Xw.debug("copying "+A+" to "+C),_={Bucket:o,CopySource:A,Key:C,MetadataDirective:"COPY"},s&&(_.CacheControl=s),a&&(_.Expires=a),c&&(_.ServerSideEncryption=c),l&&(_.SSECustomerAlgorithm=l),f&&(_.SSECustomerKey=f),d&&(_.SSECustomerKeyMD5=d),h&&(_.SSEKMSKeyId=h),i&&(_.ACL=i),x=this._createNewS3Client(r),T.label=2;case 2:return T.trys.push([2,4,,5]),[4,x.send(new Um(_))];case 3:return T.sent(),iw(u,"copy",{method:"copy",result:"success"},null,"Copy success from "+y+" to "+w),[2,{key:w}];case 4:throw I=T.sent(),iw(u,"copy",{method:"copy",result:"failed"},null,"Copy failed from "+y+" to "+w),I;case 5:return[2]}}))}))},e.prototype.get=function(e,t){return Qw(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T;return Yw(this,(function(P){switch(P.label){case 0:return[4,this._ensureCredentials()];case 1:if(!P.sent()||!this._isWithCredentials(this._config))throw new Error(zb.NO_CREDENTIALS);if(n=Object.assign({},this._config,t),r=n.bucket,i=n.download,o=n.cacheControl,s=n.contentDisposition,a=n.contentEncoding,u=n.contentLanguage,c=n.contentType,l=n.expires,f=n.track,d=n.SSECustomerAlgorithm,h=n.SSECustomerKey,p=n.SSECustomerKeyMD5,g=n.progressCallback,v=this._prefix(n),y=v+e,m=new Aw.EventEmitter,b=this._createNewS3Client(n,m),Xw.debug("get "+e+" from "+y),w={Bucket:r,Key:y},o&&(w.ResponseCacheControl=o),s&&(w.ResponseContentDisposition=s),a&&(w.ResponseContentEncoding=a),u&&(w.ResponseContentLanguage=u),c&&(w.ResponseContentType=c),d&&(w.SSECustomerAlgorithm=d),h&&(w.SSECustomerKey=h),p&&(w.SSECustomerKeyMD5=p),!0!==i)return[3,5];S=new jm(w),P.label=2;case 2:return P.trys.push([2,4,,5]),g&&("function"==typeof g?m.on(Zb,(function(e){g(e)})):Xw.warn("progressCallback should be a function, not a "+typeof g)),[4,b.send(S)];case 3:return E=P.sent(),m.removeAllListeners(Zb),iw(f,"download",{method:"get",result:"success"},{fileSize:Number(E.Body.size||E.Body.length)},"Download success for "+e),[2,E];case 4:throw A=P.sent(),iw(f,"download",{method:"get",result:"failed"},null,"Download failed with "+A.message),A;case 5:return P.trys.push([5,8,,9]),C=new Gm(Zw({},b.config)),[4,Wm(b,new jm(w))];case 6:return _=P.sent(),I=Vm,[4,C.presign(_,{expiresIn:l||900})];case 7:return x=I.apply(void 0,[P.sent()]),iw(f,"getSignedUrl",{method:"get",result:"success"},null,"Signed URL: "+x),[2,x];case 8:throw T=P.sent(),Xw.warn("get signed url error",T),iw(f,"getSignedUrl",{method:"get",result:"failed"},null,"Could not get a signed URL for "+e),T;case 9:return[2]}}))}))},e.prototype.put=function(e,t,n){var r=Object.assign({},this._config,n),i=r.bucket,o=r.track,s=r.progressCallback,a=r.level,u=r.resumable,c=r.contentType,l=r.contentDisposition,f=r.contentEncoding,d=r.cacheControl,h=r.expires,p=r.metadata,g=r.tagging,v=r.acl,y=r.serverSideEncryption,m=r.SSECustomerAlgorithm,b=r.SSECustomerKey,w=r.SSECustomerKeyMD5,S=r.SSEKMSKeyId,E={Bucket:i,Key:e,Body:t,ContentType:c||"binary/octet-stream"};d&&(E.CacheControl=d),l&&(E.ContentDisposition=l),f&&(E.ContentEncoding=f),h&&(E.Expires=h),p&&(E.Metadata=p),g&&(E.Tagging=g),y&&(E.ServerSideEncryption=y),m&&(E.SSECustomerAlgorithm=m),b&&(E.SSECustomerKey=b),w&&(E.SSECustomerKeyMD5=w),S&&(E.SSEKMSKeyId=S);var A=new Aw.EventEmitter,C=new zw(E,r,A);if(v&&(E.ACL=v),!0===u){var _=this._createNewS3Client(r);_.middlewareStack.add(hw(r,e),vw);var x={bucket:i,key:e,s3Client:_,file:t,emitter:A,accessLevel:a,params:E};return this.startResumableUpload(x,n)}try{return s&&("function"==typeof s?A.on(Jb,(function(e){s(e)})):Xw.warn("progressCallback should be a function, not a "+typeof s)),C.upload().then((function(t){return Xw.debug("upload result",t),iw(o,"upload",{method:"put",result:"success"},null,"Upload success for "+e),{key:e}}))}catch(t){throw Xw.warn("error uploading",t),iw(o,"upload",{method:"put",result:"failed"},null,"Error uploading "+e),t}},e.prototype.remove=function(e,t){return Qw(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return Yw(this,(function(f){switch(f.label){case 0:return[4,this._ensureCredentials()];case 1:if(!f.sent()||!this._isWithCredentials(this._config))throw new Error(zb.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=this._prefix(n),s=o+e,a=this._createNewS3Client(n),Xw.debug("remove "+e+" from "+s),u=new Bm({Bucket:r,Key:s}),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,a.send(u)];case 3:return c=f.sent(),iw(i,"delete",{method:"remove",result:"success"},null,"Deleted "+e+" successfully"),[2,c];case 4:throw l=f.sent(),iw(i,"delete",{method:"remove",result:"failed"},null,"Deletion of "+e+" failed with "+l),l;case 5:return[2]}}))}))},e.prototype.list=function(e,t){return Qw(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return Yw(this,(function(h){switch(h.label){case 0:return[4,this._ensureCredentials()];case 1:if(!h.sent()||!this._isWithCredentials(this._config))throw new Error(zb.NO_CREDENTIALS);n=Object.assign({},this._config,t),r=n.bucket,i=n.track,o=n.maxKeys,s=this._prefix(n),a=s+e,u=this._createNewS3Client(n),Xw.debug("list "+e+" from "+a),c=new Fm({Bucket:r,Prefix:a,MaxKeys:o}),h.label=2;case 2:return h.trys.push([2,4,,5]),[4,u.send(c)];case 3:return l=h.sent(),f=[],l&&l.Contents&&(f=l.Contents.map((function(e){return{key:e.Key.substr(s.length),eTag:e.ETag,lastModified:e.LastModified,size:e.Size}}))),iw(i,"list",{method:"list",result:"success"},null,f.length+" items returned from list operation"),Xw.debug("list",f),[2,f];case 4:throw d=h.sent(),Xw.warn("list error",d),iw(i,"list",{method:"list",result:"failed"},null,"Listing items failed: "+d.message),d;case 5:return[2]}}))}))},e.prototype._ensureCredentials=function(){return Qw(this,void 0,void 0,(function(){var e,t,n;return Yw(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ka.get()];case 1:return(e=r.sent())?(t=Ka.shear(e),Xw.debug("set credentials for storage",t),this._config.credentials=t,[2,!0]):[2,!1];case 2:return n=r.sent(),Xw.warn("ensure credentials error",n),[2,!1];case 3:return[2]}}))}))},e.prototype._isWithCredentials=function(e){return"object"==typeof e&&e.hasOwnProperty("credentials")},e.prototype._prefix=function(e){var t=e.credentials,n=e.level,r=e.customPrefix||{},i=e.identityId||t.identityId,o=(void 0!==r.private?r.private:"private/")+i+"/",s=(void 0!==r.protected?r.protected:"protected/")+i+"/",a=void 0!==r.public?r.public:"public/";switch(n){case"private":return o;case"protected":return s;default:return a}},e.prototype._createNewS3Client=function(e,t){var n=mw(e,t);return n.middlewareStack.add(pw(n.config),gw),n},e.CATEGORY="Storage",e.PROVIDER_NAME="AWSS3",e}(),tS=function(){return tS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},tS.apply(this,arguments)},nS=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rS=new ie("StorageClass"),iS="AWSS3",oS=function(){function e(){this._config={},this._pluggables=[],this._cancelTokenSourceMap=new WeakMap,rS.debug("Storage Options",this._config),this.get=this.get.bind(this),this.put=this.put.bind(this),this.remove=this.remove.bind(this),this.list=this.list.bind(this)}return e.prototype.getModuleName=function(){return"Storage"},e.prototype.addPluggable=function(e){if(e&&"Storage"===e.getCategory()){this._pluggables.push(e);return e.configure(this._config[e.getProviderName()])}},e.prototype.getPluggable=function(e){var t=this._pluggables.find((function(t){return t.getProviderName()===e}));return void 0===t?(rS.debug("No plugin found with providerName",e),null):t},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.configure=function(e){var t=this;if(rS.debug("configure Storage"),!e)return this._config;var n=Tn.parseMobilehubConfig(e),r=Object.keys(n.Storage),i=["bucket","region","level","track","customPrefix","serverSideEncryption","SSECustomerAlgorithm","SSECustomerKey","SSECustomerKeyMD5","SSEKMSKeyId"],o=function(e){return i.some((function(t){return t===e}))};return r&&function(e){return e.find((function(e){return o(e)}))}(r)&&!n.Storage.AWSS3&&(n.Storage.AWSS3={}),Object.entries(n.Storage).map((function(e){var t=nS(e,2),r=t[0],i=t[1];r&&o(r)&&void 0!==i&&(n.Storage.AWSS3[r]=i,delete n.Storage[r])})),Object.keys(n.Storage).forEach((function(e){"string"!=typeof n.Storage[e]&&(t._config[e]=tS(tS({},t._config[e]),n.Storage[e]))})),this._pluggables.forEach((function(e){e.configure(t._config[e.getProviderName()])})),0===this._pluggables.length&&this.addPluggable(new eS),this._config},e.prototype.getCancellableTokenSource=function(){return Hb.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenSourceMap.set(e,t)},e.prototype.isUploadTask=function(e){return void 0!==e&&"function"==typeof e.pause&&"function"==typeof e.resume},e.prototype.cancel=function(e,t){if(e instanceof Jw)return e._cancel();var n=this._cancelTokenSourceMap.get(e);n?n.cancel(t):rS.debug("The request does not map to any cancel token")},e.prototype.copy=function(e,t,n){var r=(null==n?void 0:n.provider)||iS,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return rS.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource();if("function"!=typeof i.copy)return Promise.reject(".copy is not implemented on provider "+i.getProviderName());var s=i.copy(e,t,tS(tS({},n),{cancelTokenSource:o}));return this.updateRequestToBeCancellable(s,o),s},e.prototype.get=function(e,t){var n=(null==t?void 0:t.provider)||iS,r=this._pluggables.find((function(e){return e.getProviderName()===n}));if(void 0===r)return rS.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider");var i=this.getCancellableTokenSource(),o=r.get(e,tS(tS({},t),{cancelTokenSource:i}));return this.updateRequestToBeCancellable(o,i),o},e.prototype.isCancelError=function(e){return Hb.isCancel(e)},e.prototype.put=function(e,t,n){var r=(null==n?void 0:n.provider)||iS,i=this._pluggables.find((function(e){return e.getProviderName()===r}));if(void 0===i)return rS.debug("No plugin found with providerName",r),Promise.reject("No plugin found in Storage for the provider");var o=this.getCancellableTokenSource(),s=i.put(e,t,tS(tS({},n),{cancelTokenSource:o}));return this.isUploadTask(s)||this.updateRequestToBeCancellable(s,o),s},e.prototype.remove=function(e,t){var n=(null==t?void 0:t.provider)||iS,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(rS.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.remove(e,t)},e.prototype.list=function(e,t){var n=(null==t?void 0:t.provider)||iS,r=this._pluggables.find((function(e){return e.getProviderName()===n}));return void 0===r?(rS.debug("No plugin found with providerName",n),Promise.reject("No plugin found in Storage for the provider")):r.list(e,t)},e}(),sS=function(){return sS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sS.apply(this,arguments)},aS=new ie("Storage"),uS=null,cS=function(){if(uS)return uS;aS.debug("Create Storage Instance, debug"),(uS=new oS).vault=new oS;var e=uS.configure;return uS.configure=function(t){aS.debug("storage configure called");var n=sS({},e.call(uS,t));Object.keys(n).forEach((function(e){"string"!=typeof n[e]&&(n[e]=sS(sS({},n[e]),{level:"private"}))})),aS.debug("storage vault configure called"),uS.vault.configure(n)},uS}();ae.register(cS);var lS=function(){return lS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},lS.apply(this,arguments)},fS=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},dS=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},hS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},pS=new ie("RestClient"),gS=function(){function e(e){this._region="us-east-1",this._service="execute-api",this._custom_header=void 0,this._cancelTokenMap=null,this.Credentials=Ka,this._options=e,pS.debug("API Options",this._options),null==this._cancelTokenMap&&(this._cancelTokenMap=new WeakMap)}return e.prototype.ajax=function(e,t,n){return fS(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,d,h,p,g,v,y=this;return dS(this,(function(m){switch(m.label){case 0:return pS.debug(t,e),o="us-east-1",s="execute-api",a=void 0,"string"==typeof e?(r=this._parseUrl(e),i=e):(i=e.endpoint,a=e.custom_header,o=e.region,s=e.service,r=this._parseUrl(e.endpoint)),u={method:t,url:i,host:r.host,path:r.path,headers:{},data:null,responseType:"json",timeout:0,cancelToken:null},c={},ue.isReactNative&&(l=ue.userAgent||"aws-amplify/0.1.x",c={"User-Agent":l}),f=Object.assign({},n),d=f.response,f.body&&("function"==typeof FormData&&f.body instanceof FormData?(c["Content-Type"]="multipart/form-data",u.data=f.body):(c["Content-Type"]="application/json; charset=UTF-8",u.data=JSON.stringify(f.body))),f.responseType&&(u.responseType=f.responseType),f.withCredentials&&(u.withCredentials=f.withCredentials),f.timeout&&(u.timeout=f.timeout),f.cancellableToken&&(u.cancelToken=f.cancellableToken.token),u.signerServiceInfo=f.signerServiceInfo,"function"!=typeof a?[3,2]:[4,a()];case 1:return p=m.sent(),[3,3];case 2:p=void 0,m.label=3;case 3:return h=p,u.headers=lS(lS(lS({},c),h),f.headers),g=Pt(i,!0,!0),v=hS(g,["search"]),u.url=kt(lS(lS({},v),{query:lS(lS({},v.query),f.queryStringParameters||{})})),void 0!==u.headers.Authorization?(u.headers=Object.keys(u.headers).reduce((function(e,t){return u.headers[t]&&(e[t]=u.headers[t]),e}),{}),[2,this._request(u,d)]):[2,this.Credentials.get().then((function(r){return y._signed(lS({},u),r,d,{region:o,service:s}).catch((function(r){if(ln.isClockSkewError(r)){var i=r.response.headers,o=i&&(i.date||i.Date),s=new Date(o),a=ln.getDateFromHeaderString(u.headers["x-amz-date"]);if(ln.isClockSkewed(s))return ln.setClockOffset(s.getTime()-a.getTime()),y.ajax(e,t,n)}throw r}))}),(function(e){return pS.debug("No credentials available, the request will be unsigned"),y._request(u,d)}))]}}))}))},e.prototype.get=function(e,t){return this.ajax(e,"GET",t)},e.prototype.put=function(e,t){return this.ajax(e,"PUT",t)},e.prototype.patch=function(e,t){return this.ajax(e,"PATCH",t)},e.prototype.post=function(e,t){return this.ajax(e,"POST",t)},e.prototype.del=function(e,t){return this.ajax(e,"DELETE",t)},e.prototype.head=function(e,t){return this.ajax(e,"HEAD",t)},e.prototype.cancel=function(e,t){var n=this._cancelTokenMap.get(e);return n&&n.cancel(t),!0},e.prototype.isCancel=function(e){return Hb.isCancel(e)},e.prototype.getCancellableToken=function(){return Hb.CancelToken.source()},e.prototype.updateRequestToBeCancellable=function(e,t){this._cancelTokenMap.set(e,t)},e.prototype.endpoint=function(e){var t=this,n=this._options.endpoints,r="";return Array.isArray(n)?(n.forEach((function(n){n.name===e&&(r=n.endpoint,"string"==typeof n.region?t._region=n.region:"string"==typeof t._options.region&&(t._region=t._options.region),"string"==typeof n.service?t._service=n.service||"execute-api":t._service="execute-api","function"==typeof n.custom_header?t._custom_header=n.custom_header:t._custom_header=void 0)})),r):r},e.prototype._signed=function(e,t,n,r){var i=r.service,o=r.region,s=e.signerServiceInfo,a=hS(e,["signerServiceInfo"]),u=o||this._region||this._options.region,c=i||this._service||this._options.service,l={secret_key:t.secretAccessKey,access_key:t.accessKeyId,session_token:t.sessionToken},f={region:u,service:c},d=Object.assign(f,s),h=Cn.sign(a,l,d);return h.data&&(h.body=h.data),pS.debug("Signed Request: ",h),delete h.headers.host,Hb(h).then((function(e){return n?e:e.data})).catch((function(e){throw pS.debug(e),e}))},e.prototype._request=function(e,t){return void 0===t&&(t=!1),Hb(e).then((function(e){return t?e:e.data})).catch((function(e){throw pS.debug(e),e}))},e.prototype._parseUrl=function(e){var t=e.split("/");return{host:t[2],path:"/"+t.slice(3).join("/")}},e}(),vS=function(){return vS=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vS.apply(this,arguments)},yS=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},mS=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},bS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wS=new ie("RestAPI"),SS=function(){function e(e){this._api=null,this.Credentials=Ka,this._options=e,wS.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"RestAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=bS(t,["API"]),o=vS(vS({},i),r);if(wS.debug("configure Rest API",{opt:o}),o.aws_project_region){if(o.aws_cloud_logic_custom){var s=o.aws_cloud_logic_custom;o.endpoints="string"==typeof s?JSON.parse(s):s}o=Object.assign({},o,{region:o.aws_project_region,header:{}})}return Array.isArray(o.endpoints)?o.endpoints.forEach((function(e){void 0!==e.custom_header&&"function"!=typeof e.custom_header&&(wS.warn("Rest API "+e.name+", custom_header should be a function"),e.custom_header=void 0)})):this._options&&Array.isArray(this._options.endpoints)?o.endpoints=this._options.endpoints:o.endpoints=[],this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return wS.debug("create Rest API instance"),this._api=new gS(this._options),this._api.Credentials=this.Credentials,!0},e.prototype.get=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.get(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.post=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.post(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.put=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.put(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.patch=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.patch(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.del=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.del(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.head=function(e,t,n){try{var r=this.getEndpointInfo(e,t),i=this._api.getCancellableToken(),o=Object.assign({},n);o.cancellableToken=i;var s=this._api.head(r,o);return this._api.updateRequestToBeCancellable(s,i),s}catch(e){return Promise.reject(e.message)}},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype.endpoint=function(e){return yS(this,void 0,void 0,(function(){return mS(this,(function(t){return[2,this._api.endpoint(e)]}))}))},e.prototype.getEndpointInfo=function(e,t){var n=this._options.endpoints;if(!Array.isArray(n))throw new Error("API category not configured");var r=n.find((function(t){return t.name===e}));if(!r)throw new Error("API "+e+" does not exist");var i={endpoint:r.endpoint+t};return"string"==typeof r.region?i.region=r.region:"string"==typeof this._options.region&&(i.region=this._options.region),"string"==typeof r.service?i.service=r.service||"execute-api":i.service="execute-api","function"==typeof r.custom_header?i.custom_header=r.custom_header:i.custom_header=void 0,i},e}(),ES=new SS(null);function AS(e){return AS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AS(e)}ae.register(ES);var CS="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function _S(e,t){for(var n,r=/\r\n|[\n\r]/g,i=1,o=t+1;(n=r.exec(e.body))&&n.index<t;)i+=1,o=t+1-(n.index+n[0].length);return{line:i,column:o}}function xS(e){return IS(e.source,_S(e.source,e.start))}function IS(e,t){var n=e.locationOffset.column-1,r=PS(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,c="".concat(e.name,":").concat(s,":").concat(u,"\n"),l=r.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var d=Math.floor(u/80),h=u%80,p=[],g=0;g<f.length;g+=80)p.push(f.slice(g,g+80));return c+TS([["".concat(s),p[0]]].concat(p.slice(1,d+1).map((function(e){return["",e]})),[[" ",PS(h-1)+"^"],["",p[d+1]]]))}return c+TS([["".concat(s-1),l[i-1]],["".concat(s),f],["",PS(u-1)+"^"],["".concat(s+1),l[i+1]]])}function TS(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t=e[0],r=e[1];return function(e,t){return PS(e-t.length)+t}(n,t)+(r?" | "+r:" |")})).join("\n")}function PS(e){return Array(e+1).join(" ")}function kS(e){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(e)}function OS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LS(e,t){return!t||"object"!==kS(t)&&"function"!=typeof t?RS(e):t}function RS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function US(e){var t="function"==typeof Map?new Map:void 0;return US=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return DS(e,arguments,FS(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),jS(n,e)},US(e)}function DS(e,t,n){return DS=BS()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&jS(i,n.prototype),i},DS.apply(null,arguments)}function BS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function jS(e,t){return jS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jS(e,t)}function FS(e){return FS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},FS(e)}var zS=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jS(e,t)}(a,e);var t,n,r,i,o,s=(t=a,n=BS(),function(){var e,r=FS(t);if(n){var i=FS(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return LS(this,e)});function a(e,t,n,r,i,o,u){var c,l,f,d;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(d=s.call(this,e)).name="GraphQLError",d.originalError=null!=o?o:void 0,d.nodes=KS(Array.isArray(t)?t:t?[t]:void 0);for(var h=[],p=0,g=null!==(v=d.nodes)&&void 0!==v?v:[];p<g.length;p++){var v,y=g[p].loc;null!=y&&h.push(y)}h=KS(h),d.source=null!=n?n:null===(c=h)||void 0===c?void 0:c[0].source,d.positions=null!=r?r:null===(l=h)||void 0===l?void 0:l.map((function(e){return e.start})),d.locations=r&&n?r.map((function(e){return _S(n,e)})):null===(f=h)||void 0===f?void 0:f.map((function(e){return _S(e.source,e.start)})),d.path=null!=i?i:void 0;var m,b=null==o?void 0:o.extensions;return null==u&&("object"==AS(m=b)&&null!==m)?d.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OS(Object(n),!0).forEach((function(t){NS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b):d.extensions=null!=u?u:{},Object.defineProperties(RS(d),{message:{enumerable:!0},locations:{enumerable:null!=d.locations},path:{enumerable:null!=d.path},extensions:{enumerable:null!=d.extensions&&Object.keys(d.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=o&&o.stack?(Object.defineProperty(RS(d),"stack",{value:o.stack,writable:!0,configurable:!0}),LS(d)):(Error.captureStackTrace?Error.captureStackTrace(RS(d),a):Object.defineProperty(RS(d),"stack",{value:Error().stack,writable:!0,configurable:!0}),d)}return r=a,(i=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+="\n\n"+xS(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var a=s[o];t+="\n\n"+IS(e.source,a)}return t}(this)}},{key:CS,get:function(){return"Object"}}])&&MS(r.prototype,i),o&&MS(r,o),a}(US(Error));function KS(e){return void 0===e||0===e.length?void 0:e}function qS(e,t,n){return new zS("Syntax Error: ".concat(n),void 0,e,[t])}var HS=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var VS="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function WS(e){var t=e.prototype.toJSON;"function"==typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,VS&&(e.prototype[VS]=t)}var GS=function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();WS(GS);var JS=function(){function e(e,t,n,r,i,o,s){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=s,this.prev=o,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function ZS(e){return null!=e&&"string"==typeof e.kind}WS(JS);var QS=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function YS(e){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YS(e)}function XS(e){return $S(e,[])}function $S(e,t){switch(YS(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=function(e){var t=e[String(VS)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==r){var i=r.call(e);if(i!==e)return"string"==typeof i?i:$S(i,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],o=0;o<n;++o)i.push($S(e[o],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"}(e,n);return function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t}(e)+"]";var r=n.map((function(n){return n+": "+$S(e[n],t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}function eE(e,t){if(!Boolean(e))throw new Error(t)}function tE(e){return tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tE(e)}function nE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rE=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"==typeof e||eE(0,"Body must be a string. Received: ".concat(XS(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||eE(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||eE(0,"column in locationOffset is 1-indexed and must be positive.")}var t,n,r;return t=e,(n=[{key:CS,get:function(){return"Source"}}])&&nE(t.prototype,n),r&&nE(t,r),e}();function iE(e){return function(e,t){if(e instanceof t)return!0;if("object"===tE(e)&&null!==e){var n,r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){var i=XS(e);throw new Error("Cannot use ".concat(r,' "').concat(i,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}}return!1}(e,rE)}var oE=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function sE(e){var t=e.split(/\r\n|[\n\r]/g),n=function(e){for(var t,n=!0,r=!0,i=0,o=null,s=0;s<e.length;++s)switch(e.charCodeAt(s)){case 13:10===e.charCodeAt(s+1)&&++s;case 10:n=!1,r=!0,i=0;break;case 9:case 32:++i;break;default:r&&!n&&(null===o||i<o)&&(o=i),r=!1}return null!==(t=o)&&void 0!==t?t:0}(e);if(0!==n)for(var r=1;r<t.length;r++)t[r]=t[r].slice(n);for(var i=0;i<t.length&&aE(t[i]);)++i;for(var o=t.length;o>i&&aE(t[o-1]);)--o;return t.slice(i,o).join("\n")}function aE(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}var uE=function(){function e(e){var t=new JS(QS.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==QS.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=lE(this,e)}while(e.kind===QS.COMMENT);return e},e}();function cE(e){return isNaN(e)?QS.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function lE(e,t){for(var n=e.source,r=n.body,i=r.length,o=t.end;o<i;){var s=r.charCodeAt(o),a=e.line,u=1+o-e.lineStart;switch(s){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===r.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 33:return new JS(QS.BANG,o,o+1,a,u,t);case 35:return dE(n,o,a,u,t);case 36:return new JS(QS.DOLLAR,o,o+1,a,u,t);case 38:return new JS(QS.AMP,o,o+1,a,u,t);case 40:return new JS(QS.PAREN_L,o,o+1,a,u,t);case 41:return new JS(QS.PAREN_R,o,o+1,a,u,t);case 46:if(46===r.charCodeAt(o+1)&&46===r.charCodeAt(o+2))return new JS(QS.SPREAD,o,o+3,a,u,t);break;case 58:return new JS(QS.COLON,o,o+1,a,u,t);case 61:return new JS(QS.EQUALS,o,o+1,a,u,t);case 64:return new JS(QS.AT,o,o+1,a,u,t);case 91:return new JS(QS.BRACKET_L,o,o+1,a,u,t);case 93:return new JS(QS.BRACKET_R,o,o+1,a,u,t);case 123:return new JS(QS.BRACE_L,o,o+1,a,u,t);case 124:return new JS(QS.PIPE,o,o+1,a,u,t);case 125:return new JS(QS.BRACE_R,o,o+1,a,u,t);case 34:return 34===r.charCodeAt(o+1)&&34===r.charCodeAt(o+2)?vE(n,o,a,u,t,e):gE(n,o,a,u,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return hE(n,o,s,a,u,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return bE(n,o,a,u,t)}throw qS(n,o,fE(s))}var c=e.line,l=1+o-e.lineStart;return new JS(QS.EOF,i,i,c,l,t)}function fE(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(cE(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(cE(e),".")}function dE(e,t,n,r,i){var o,s=e.body,a=t;do{o=s.charCodeAt(++a)}while(!isNaN(o)&&(o>31||9===o));return new JS(QS.COMMENT,t,a,n,r,i,s.slice(t+1,a))}function hE(e,t,n,r,i,o){var s=e.body,a=n,u=t,c=!1;if(45===a&&(a=s.charCodeAt(++u)),48===a){if((a=s.charCodeAt(++u))>=48&&a<=57)throw qS(e,u,"Invalid number, unexpected digit after 0: ".concat(cE(a),"."))}else u=pE(e,u,a),a=s.charCodeAt(u);if(46===a&&(c=!0,a=s.charCodeAt(++u),u=pE(e,u,a),a=s.charCodeAt(u)),69!==a&&101!==a||(c=!0,43!==(a=s.charCodeAt(++u))&&45!==a||(a=s.charCodeAt(++u)),u=pE(e,u,a),a=s.charCodeAt(u)),46===a||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(a))throw qS(e,u,"Invalid number, expected digit but got: ".concat(cE(a),"."));return new JS(c?QS.FLOAT:QS.INT,t,u,r,i,o,s.slice(t,u))}function pE(e,t,n){var r=e.body,i=t,o=n;if(o>=48&&o<=57){do{o=r.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw qS(e,i,"Invalid number, expected digit but got: ".concat(cE(o),"."))}function gE(e,t,n,r,i){for(var o=e.body,s=t+1,a=s,u=0,c="";s<o.length&&!isNaN(u=o.charCodeAt(s))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(a,s),new JS(QS.STRING,t,s+1,n,r,i,c);if(u<32&&9!==u)throw qS(e,s,"Invalid character within String: ".concat(cE(u),"."));if(++s,92===u){switch(c+=o.slice(a,s-1),u=o.charCodeAt(s)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=yE(o.charCodeAt(s+1),o.charCodeAt(s+2),o.charCodeAt(s+3),o.charCodeAt(s+4));if(l<0){var f=o.slice(s+1,s+5);throw qS(e,s,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),s+=4;break;default:throw qS(e,s,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}a=++s}}throw qS(e,s,"Unterminated string.")}function vE(e,t,n,r,i,o){for(var s=e.body,a=t+3,u=a,c=0,l="";a<s.length&&!isNaN(c=s.charCodeAt(a));){if(34===c&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2))return l+=s.slice(u,a),new JS(QS.BLOCK_STRING,t,a+3,n,r,i,sE(l));if(c<32&&9!==c&&10!==c&&13!==c)throw qS(e,a,"Invalid character within String: ".concat(cE(c),"."));10===c?(++a,++o.line,o.lineStart=a):13===c?(10===s.charCodeAt(a+1)?a+=2:++a,++o.line,o.lineStart=a):92===c&&34===s.charCodeAt(a+1)&&34===s.charCodeAt(a+2)&&34===s.charCodeAt(a+3)?(l+=s.slice(u,a)+'"""',u=a+=4):++a}throw qS(e,a,"Unterminated string.")}function yE(e,t,n,r){return mE(e)<<12|mE(t)<<8|mE(n)<<4|mE(r)}function mE(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function bE(e,t,n,r,i){for(var o=e.body,s=o.length,a=t+1,u=0;a!==s&&!isNaN(u=o.charCodeAt(a))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++a;return new JS(QS.NAME,t,a,n,r,i,o.slice(t,a))}function wE(e,t){return new SE(e,t).parseDocument()}var SE=function(){function e(e,t){var n=iE(e)?e:new rE(e);this._lexer=new uE(n),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(QS.NAME);return{kind:HS.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:HS.DOCUMENT,definitions:this.many(QS.SOF,this.parseDefinition,QS.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(QS.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(QS.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(QS.BRACE_L))return{kind:HS.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,n=this.parseOperationType();return this.peek(QS.NAME)&&(t=this.parseName()),{kind:HS.OPERATION_DEFINITION,operation:n,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(QS.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(QS.PAREN_L,this.parseVariableDefinition,QS.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:HS.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(QS.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(QS.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(QS.DOLLAR),{kind:HS.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:HS.SELECTION_SET,selections:this.many(QS.BRACE_L,this.parseSelection,QS.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(QS.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,n=this._lexer.token,r=this.parseName();return this.expectOptionalToken(QS.COLON)?(e=r,t=this.parseName()):t=r,{kind:HS.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(QS.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(QS.PAREN_L,t,QS.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(QS.COLON),{kind:HS.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:HS.ARGUMENT,name:this.parseName(),value:(this.expectToken(QS.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(QS.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(QS.NAME)?{kind:HS.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:HS.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:HS.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:HS.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case QS.BRACKET_L:return this.parseList(e);case QS.BRACE_L:return this.parseObject(e);case QS.INT:return this._lexer.advance(),{kind:HS.INT,value:t.value,loc:this.loc(t)};case QS.FLOAT:return this._lexer.advance(),{kind:HS.FLOAT,value:t.value,loc:this.loc(t)};case QS.STRING:case QS.BLOCK_STRING:return this.parseStringLiteral();case QS.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:HS.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:HS.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:HS.NULL,loc:this.loc(t)};default:return{kind:HS.ENUM,value:t.value,loc:this.loc(t)}}case QS.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:HS.STRING,value:e.value,block:e.kind===QS.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,n=this._lexer.token;return{kind:HS.LIST,values:this.any(QS.BRACKET_L,(function(){return t.parseValueLiteral(e)}),QS.BRACKET_R),loc:this.loc(n)}},t.parseObject=function(e){var t=this,n=this._lexer.token;return{kind:HS.OBJECT,fields:this.any(QS.BRACE_L,(function(){return t.parseObjectField(e)}),QS.BRACE_R),loc:this.loc(n)}},t.parseObjectField=function(e){var t=this._lexer.token,n=this.parseName();return this.expectToken(QS.COLON),{kind:HS.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(QS.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(QS.AT),{kind:HS.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(QS.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(QS.BRACKET_R),e={kind:HS.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(QS.BANG)?{kind:HS.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:HS.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===QS.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(QS.STRING)||this.peek(QS.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var n=this.parseDirectives(!0),r=this.many(QS.BRACE_L,this.parseOperationTypeDefinition,QS.BRACE_R);return{kind:HS.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(QS.COLON);var n=this.parseNamedType();return{kind:HS.OPERATION_TYPE_DEFINITION,operation:t,type:n,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var n=this.parseName(),r=this.parseDirectives(!0);return{kind:HS.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:HS.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(QS.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(QS.AMP)||this.peek(QS.NAME));return t}return this.delimitedMany(QS.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(QS.BRACE_L)&&this._lexer.lookahead().kind===QS.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(QS.BRACE_L,this.parseFieldDefinition,QS.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(QS.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:HS.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(QS.PAREN_L,this.parseInputValueDef,QS.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(QS.COLON);var r,i=this.parseTypeReference();this.expectOptionalToken(QS.EQUALS)&&(r=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:HS.INPUT_VALUE_DEFINITION,description:t,name:n,type:i,defaultValue:r,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:HS.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:HS.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(QS.EQUALS)?this.delimitedMany(QS.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:HS.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(QS.BRACE_L,this.parseEnumValueDefinition,QS.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseDirectives(!0);return{kind:HS.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var n=this.parseName(),r=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:HS.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(QS.BRACE_L,this.parseInputValueDef,QS.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===QS.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),n=this.optionalMany(QS.BRACE_L,this.parseOperationTypeDefinition,QS.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return{kind:HS.SCHEMA_EXTENSION,directives:t,operationTypes:n,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),n=this.parseDirectives(!0);if(0===n.length)throw this.unexpected();return{kind:HS.SCALAR_TYPE_EXTENSION,name:t,directives:n,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:HS.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return{kind:HS.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:HS.UNION_TYPE_EXTENSION,name:t,directives:n,types:r,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:HS.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),n=this.parseDirectives(!0),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return{kind:HS.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(QS.AT);var n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:HS.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(QS.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==oE[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new GS(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw qS(this._lexer.source,t.start,"Expected ".concat(AE(e),", found ").concat(EE(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==QS.NAME||t.value!==e)throw qS(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(EE(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===QS.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!=e?e:this._lexer.token;return qS(this._lexer.source,t.start,"Unexpected ".concat(EE(t),"."))},t.any=function(e,t,n){this.expectToken(e);for(var r=[];!this.expectOptionalToken(n);)r.push(t.call(this));return r},t.optionalMany=function(e,t,n){if(this.expectOptionalToken(e)){var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}return[]},t.many=function(e,t,n){this.expectToken(e);var r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n},e}();function EE(e){var t=e.value;return AE(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function AE(e){return function(e){return e===QS.BANG||e===QS.DOLLAR||e===QS.AMP||e===QS.PAREN_L||e===QS.PAREN_R||e===QS.SPREAD||e===QS.COLON||e===QS.EQUALS||e===QS.AT||e===QS.BRACKET_L||e===QS.BRACKET_R||e===QS.BRACE_L||e===QS.PIPE||e===QS.BRACE_R}(e)?'"'.concat(e,'"'):e}var CE={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},_E=Object.freeze({});function xE(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}function IE(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CE,r=void 0,i=Array.isArray(e),o=[e],s=-1,a=[],u=void 0,c=void 0,l=void 0,f=[],d=[],h=e;do{var p=++s===o.length,g=p&&0!==a.length;if(p){if(c=0===d.length?void 0:f[f.length-1],u=l,l=d.pop(),g){if(i)u=u.slice();else{for(var v={},y=0,m=Object.keys(u);y<m.length;y++){var b=m[y];v[b]=u[b]}u=v}for(var w=0,S=0;S<a.length;S++){var E=a[S][0],A=a[S][1];i&&(E-=w),i&&null===A?(u.splice(E,1),w++):u[E]=A}}s=r.index,o=r.keys,a=r.edits,i=r.inArray,r=r.prev}else{if(c=l?i?s:o[s]:void 0,null==(u=l?l[c]:h))continue;l&&f.push(c)}var C,_=void 0;if(!Array.isArray(u)){if(!ZS(u))throw new Error("Invalid AST Node: ".concat(XS(u),"."));var x=xE(t,u.kind,p);if(x){if((_=x.call(t,u,c,l,f,d))===_E)break;if(!1===_){if(!p){f.pop();continue}}else if(void 0!==_&&(a.push([c,_]),!p)){if(!ZS(_)){f.pop();continue}u=_}}}void 0===_&&g&&a.push([c,u]),p?f.pop():(r={inArray:i,index:s,keys:o,edits:a,prev:r},o=(i=Array.isArray(u))?u:null!==(C=n[u.kind])&&void 0!==C?C:[],s=-1,a=[],l&&d.push(l),l=u)}while(void 0!==r);return 0!==a.length&&(h=a[a.length-1][1]),h}(e,{leave:TE})}var TE={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return kE(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=NE("(",kE(e.variableDefinitions,", "),")"),i=kE(e.directives," "),o=e.selectionSet;return n||i||r||"query"!==t?kE([t,kE([n,r]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+NE(" = ",r)+NE(" ",kE(i," "))},SelectionSet:function(e){return OE(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,o=e.selectionSet,s=NE("",t,": ")+n,a=s+NE("(",kE(r,", "),")");return a.length>80&&(a=s+NE("(\n",ME(kE(r,"\n")),"\n)")),kE([a,kE(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+NE(" ",kE(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return kE(["...",NE("on ",t),kE(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(NE("(",kE(r,", "),")")," ")+"on ".concat(n," ").concat(NE("",kE(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],s="\\"===e[e.length-1],a=!r||o||s||n,u="";return!a||r&&i||(u+="\n"+t),u+=t?e.replace(/\n/g,"\n"+t):e,a&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+kE(e.values,", ")+"]"},ObjectValue:function(e){return"{"+kE(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+NE("(",kE(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:PE((function(e){var t=e.directives,n=e.operationTypes;return kE(["schema",kE(t," "),OE(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:PE((function(e){return kE(["scalar",e.name,kE(e.directives," ")]," ")})),ObjectTypeDefinition:PE((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return kE(["type",t,NE("implements ",kE(n," & ")),kE(r," "),OE(i)]," ")})),FieldDefinition:PE((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(RE(n)?NE("(\n",ME(kE(n,"\n")),"\n)"):NE("(",kE(n,", "),")"))+": "+r+NE(" ",kE(i," "))})),InputValueDefinition:PE((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return kE([t+": "+n,NE("= ",r),kE(i," ")]," ")})),InterfaceTypeDefinition:PE((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return kE(["interface",t,NE("implements ",kE(n," & ")),kE(r," "),OE(i)]," ")})),UnionTypeDefinition:PE((function(e){var t=e.name,n=e.directives,r=e.types;return kE(["union",t,kE(n," "),r&&0!==r.length?"= "+kE(r," | "):""]," ")})),EnumTypeDefinition:PE((function(e){var t=e.name,n=e.directives,r=e.values;return kE(["enum",t,kE(n," "),OE(r)]," ")})),EnumValueDefinition:PE((function(e){return kE([e.name,kE(e.directives," ")]," ")})),InputObjectTypeDefinition:PE((function(e){var t=e.name,n=e.directives,r=e.fields;return kE(["input",t,kE(n," "),OE(r)]," ")})),DirectiveDefinition:PE((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(RE(n)?NE("(\n",ME(kE(n,"\n")),"\n)"):NE("(",kE(n,", "),")"))+(r?" repeatable":"")+" on "+kE(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return kE(["extend schema",kE(t," "),OE(n)]," ")},ScalarTypeExtension:function(e){return kE(["extend scalar",e.name,kE(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return kE(["extend type",t,NE("implements ",kE(n," & ")),kE(r," "),OE(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return kE(["extend interface",t,NE("implements ",kE(n," & ")),kE(r," "),OE(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return kE(["extend union",t,kE(n," "),r&&0!==r.length?"= "+kE(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return kE(["extend enum",t,kE(n," "),OE(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return kE(["extend input",t,kE(n," "),OE(r)]," ")}};function PE(e){return function(t){return kE([t.description,e(t)],"\n")}}function kE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function OE(e){return NE("{\n",ME(kE(e,"\n")),"\n}")}function NE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=t&&""!==t?e+t+n:""}function ME(e){return NE("  ",e.replace(/\n/g,"\n  "))}function LE(e){return-1!==e.indexOf("\n")}function RE(e){return null!=e&&e.some(LE)}var UE=function(){return UE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},UE.apply(this,arguments)},DE=new ie("AbstractPubSubProvider"),BE=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=UE(UE({},e),this._config),DE.debug("configure "+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return"PubSub"},Object.defineProperty(e.prototype,"options",{get:function(){return UE({},this._config)},enumerable:!0,configurable:!0}),e}(),jE=Fe((function(e,t){!function(t,n){e.exports=n()}(0,(function(){var e=function(e){var t,n=e.localStorage||(t={},{setItem:function(e,n){t[e]=n},getItem:function(e){return t[e]},removeItem:function(e){delete t[e]}}),r=1,i=2,o=3,s=4,a=5,u=6,c=7,l=8,f=9,d=10,h=11,p=12,g=13,v=14,y=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n)){var r="Unknown property, "+n+". Valid properties are:";for(var i in t)t.hasOwnProperty(i)&&(r=r+" "+i);throw new Error(r)}if(typeof e[n]!==t[n])throw new Error(S(b.INVALID_TYPE,[typeof e[n],n]))}},m=function(e,t){return function(){return e.apply(t,arguments)}},b={OK:{code:0,text:"AMQJSC0000I OK."},CONNECT_TIMEOUT:{code:1,text:"AMQJSC0001E Connect timed out."},SUBSCRIBE_TIMEOUT:{code:2,text:"AMQJS0002E Subscribe timed out."},UNSUBSCRIBE_TIMEOUT:{code:3,text:"AMQJS0003E Unsubscribe timed out."},PING_TIMEOUT:{code:4,text:"AMQJS0004E Ping timed out."},INTERNAL_ERROR:{code:5,text:"AMQJS0005E Internal error. Error Message: {0}, Stack trace: {1}"},CONNACK_RETURNCODE:{code:6,text:"AMQJS0006E Bad Connack return code:{0} {1}."},SOCKET_ERROR:{code:7,text:"AMQJS0007E Socket error:{0}."},SOCKET_CLOSE:{code:8,text:"AMQJS0008I Socket closed."},MALFORMED_UTF:{code:9,text:"AMQJS0009E Malformed UTF data:{0} {1} {2}."},UNSUPPORTED:{code:10,text:"AMQJS0010E {0} is not supported by this browser."},INVALID_STATE:{code:11,text:"AMQJS0011E Invalid state {0}."},INVALID_TYPE:{code:12,text:"AMQJS0012E Invalid type {0} for {1}."},INVALID_ARGUMENT:{code:13,text:"AMQJS0013E Invalid argument {0} for {1}."},UNSUPPORTED_OPERATION:{code:14,text:"AMQJS0014E Unsupported operation."},INVALID_STORED_DATA:{code:15,text:"AMQJS0015E Invalid data in local storage key={0} value={1}."},INVALID_MQTT_MESSAGE_TYPE:{code:16,text:"AMQJS0016E Invalid MQTT message type {0}."},MALFORMED_UNICODE:{code:17,text:"AMQJS0017E Malformed Unicode string:{0} {1}."},BUFFER_FULL:{code:18,text:"AMQJS0018E Message buffer is full, maximum buffer size: {0}."}},w={0:"Connection Accepted",1:"Connection Refused: unacceptable protocol version",2:"Connection Refused: identifier rejected",3:"Connection Refused: server unavailable",4:"Connection Refused: bad user name or password",5:"Connection Refused: not authorized"},S=function(e,t){var n=e.text;if(t)for(var r,i,o=0;o<t.length;o++)if(r="{"+o+"}",(i=n.indexOf(r))>0){var s=n.substring(0,i),a=n.substring(i+r.length);n=s+t[o]+a}return n},E=[0,6,77,81,73,115,100,112,3],A=[0,4,77,81,84,84,4],C=function(e,t){for(var n in this.type=e,t)t.hasOwnProperty(n)&&(this[n]=t[n])};function _(e,t){var n,r=t,l=e[t],d=l>>4,p=l&=15;t+=1;var g=0,v=1;do{if(t==e.length)return[null,r];g+=(127&(n=e[t++]))*v,v*=128}while(0!=(128&n));var y=t+g;if(y>e.length)return[null,r];var m=new C(d);switch(d){case i:1&e[t++]&&(m.sessionPresent=!0),m.returnCode=e[t++];break;case o:var b=p>>1&3,w=T(e,t),S=O(e,t+=2,w);t+=w,b>0&&(m.messageIdentifier=T(e,t),t+=2);var E=new R(e.subarray(t,y));1==(1&p)&&(E.retained=!0),8==(8&p)&&(E.duplicate=!0),E.qos=b,E.destinationName=S,m.payloadMessage=E;break;case s:case a:case u:case c:case h:m.messageIdentifier=T(e,t);break;case f:m.messageIdentifier=T(e,t),t+=2,m.returnCode=e.subarray(t,y)}return[m,y]}function x(e,t,n){return t[n++]=e>>8,t[n++]=e%256,n}function I(e,t,n,r){return k(e,n,r=x(t,n,r)),r+t}function T(e,t){return 256*e[t]+e[t+1]}function P(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r>2047?(55296<=r&&r<=56319&&(n++,t++),t+=3):r>127?t+=2:t++}return t}function k(e,t,n){for(var r=n,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(55296<=o&&o<=56319){var s=e.charCodeAt(++i);if(isNaN(s))throw new Error(S(b.MALFORMED_UNICODE,[o,s]));o=s-56320+(o-55296<<10)+65536}o<=127?t[r++]=o:o<=2047?(t[r++]=o>>6&31|192,t[r++]=63&o|128):o<=65535?(t[r++]=o>>12&15|224,t[r++]=o>>6&63|128,t[r++]=63&o|128):(t[r++]=o>>18&7|240,t[r++]=o>>12&63|128,t[r++]=o>>6&63|128,t[r++]=63&o|128)}return t}function O(e,t,n){for(var r,i="",o=t;o<t+n;){var s=e[o++];if(s<128)r=s;else{var a=e[o++]-128;if(a<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),""]));if(s<224)r=64*(s-192)+a;else{var u=e[o++]-128;if(u<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16)]));if(s<240)r=4096*(s-224)+64*a+u;else{var c=e[o++]-128;if(c<0)throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));if(!(s<248))throw new Error(S(b.MALFORMED_UTF,[s.toString(16),a.toString(16),u.toString(16),c.toString(16)]));r=262144*(s-240)+4096*a+64*u+c}}}r>65535&&(r-=65536,i+=String.fromCharCode(55296+(r>>10)),r=56320+(1023&r)),i+=String.fromCharCode(r)}return i}C.prototype.encode=function(){var e,t=(15&this.type)<<4,n=0,i=[],s=0;switch(void 0!==this.messageIdentifier&&(n+=2),this.type){case r:switch(this.mqttVersion){case 3:n+=E.length+3;break;case 4:n+=A.length+3}n+=P(this.clientId)+2,void 0!==this.willMessage&&(n+=P(this.willMessage.destinationName)+2,(e=this.willMessage.payloadBytes)instanceof Uint8Array||(e=new Uint8Array(c)),n+=e.byteLength+2),void 0!==this.userName&&(n+=P(this.userName)+2),void 0!==this.password&&(n+=P(this.password)+2);break;case l:t|=2;for(var a=0;a<this.topics.length;a++)i[a]=P(this.topics[a]),n+=i[a]+2;n+=this.requestedQos.length;break;case d:t|=2;for(a=0;a<this.topics.length;a++)i[a]=P(this.topics[a]),n+=i[a]+2;break;case u:t|=2;break;case o:this.payloadMessage.duplicate&&(t|=8),t=t|=this.payloadMessage.qos<<1,this.payloadMessage.retained&&(t|=1),n+=(s=P(this.payloadMessage.destinationName))+2;var c=this.payloadMessage.payloadBytes;n+=c.byteLength,c instanceof ArrayBuffer?c=new Uint8Array(c):c instanceof Uint8Array||(c=new Uint8Array(c.buffer))}var f=function(e){var t=new Array(1),n=0;do{var r=e%128;(e>>=7)>0&&(r|=128),t[n++]=r}while(e>0&&n<4);return t}(n),h=f.length+1,p=new ArrayBuffer(n+h),g=new Uint8Array(p);if(g[0]=t,g.set(f,1),this.type==o)h=I(this.payloadMessage.destinationName,s,g,h);else if(this.type==r){switch(this.mqttVersion){case 3:g.set(E,h),h+=E.length;break;case 4:g.set(A,h),h+=A.length}var v=0;this.cleanSession&&(v=2),void 0!==this.willMessage&&(v|=4,v|=this.willMessage.qos<<3,this.willMessage.retained&&(v|=32)),void 0!==this.userName&&(v|=128),void 0!==this.password&&(v|=64),g[h++]=v,h=x(this.keepAliveInterval,g,h)}switch(void 0!==this.messageIdentifier&&(h=x(this.messageIdentifier,g,h)),this.type){case r:h=I(this.clientId,P(this.clientId),g,h),void 0!==this.willMessage&&(h=I(this.willMessage.destinationName,P(this.willMessage.destinationName),g,h),h=x(e.byteLength,g,h),g.set(e,h),h+=e.byteLength),void 0!==this.userName&&(h=I(this.userName,P(this.userName),g,h)),void 0!==this.password&&(h=I(this.password,P(this.password),g,h));break;case o:g.set(c,h);break;case l:for(a=0;a<this.topics.length;a++)h=I(this.topics[a],i[a],g,h),g[h++]=this.requestedQos[a];break;case d:for(a=0;a<this.topics.length;a++)h=I(this.topics[a],i[a],g,h)}return p};var N=function(e,t){this._client=e,this._keepAliveInterval=1e3*t,this.isReset=!1;var n=new C(p).encode(),r=function(e){return function(){return i.apply(e)}},i=function(){this.isReset?(this.isReset=!1,this._client._trace("Pinger.doPing","send PINGREQ"),this._client.socket.send(n),this.timeout=setTimeout(r(this),this._keepAliveInterval)):(this._client._trace("Pinger.doPing","Timed out"),this._client._disconnected(b.PING_TIMEOUT.code,S(b.PING_TIMEOUT)))};this.reset=function(){this.isReset=!0,clearTimeout(this.timeout),this._keepAliveInterval>0&&(this.timeout=setTimeout(r(this),this._keepAliveInterval))},this.cancel=function(){clearTimeout(this.timeout)}},M=function(e,t,n,r){t||(t=30);this.timeout=setTimeout(function(e,t,n){return function(){return e.apply(t,n)}}(n,e,r),1e3*t),this.cancel=function(){clearTimeout(this.timeout)}},L=function(t,r,i,o,s){if(!("WebSocket"in e)||null===e.WebSocket)throw new Error(S(b.UNSUPPORTED,["WebSocket"]));if(!("ArrayBuffer"in e)||null===e.ArrayBuffer)throw new Error(S(b.UNSUPPORTED,["ArrayBuffer"]));for(var a in this._trace("Paho.Client",t,r,i,o,s),this.host=r,this.port=i,this.path=o,this.uri=t,this.clientId=s,this._wsuri=null,this._localKey=r+":"+i+("/mqtt"!=o?":"+o:"")+":"+s+":",this._msg_queue=[],this._buffered_msg_queue=[],this._sentMessages={},this._receivedMessages={},this._notify_msg_sent={},this._message_identifier=1,this._sequence=0,n)0!==a.indexOf("Sent:"+this._localKey)&&0!==a.indexOf("Received:"+this._localKey)||this.restore(a)};L.prototype.host=null,L.prototype.port=null,L.prototype.path=null,L.prototype.uri=null,L.prototype.clientId=null,L.prototype.socket=null,L.prototype.connected=!1,L.prototype.maxMessageIdentifier=65536,L.prototype.connectOptions=null,L.prototype.hostIndex=null,L.prototype.onConnected=null,L.prototype.onConnectionLost=null,L.prototype.onMessageDelivered=null,L.prototype.onMessageArrived=null,L.prototype.traceFunction=null,L.prototype._msg_queue=null,L.prototype._buffered_msg_queue=null,L.prototype._connectTimeout=null,L.prototype.sendPinger=null,L.prototype.receivePinger=null,L.prototype._reconnectInterval=1,L.prototype._reconnecting=!1,L.prototype._reconnectTimeout=null,L.prototype.disconnectedPublishing=!1,L.prototype.disconnectedBufferSize=5e3,L.prototype.receiveBuffer=null,L.prototype._traceBuffer=null,L.prototype._MAX_TRACE_ENTRIES=100,L.prototype.connect=function(e){var t=this._traceMask(e,"password");if(this._trace("Client.connect",t,this.socket,this.connected),this.connected)throw new Error(S(b.INVALID_STATE,["already connected"]));if(this.socket)throw new Error(S(b.INVALID_STATE,["already connected"]));this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),this.connectOptions=e,this._reconnectInterval=1,this._reconnecting=!1,e.uris?(this.hostIndex=0,this._doConnect(e.uris[0])):this._doConnect(this.uri)},L.prototype.subscribe=function(e,t){if(this._trace("Client.subscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new C(l);n.topics=e.constructor===Array?e:[e],void 0===t.qos&&(t.qos=0),n.requestedQos=[];for(var r=0;r<n.topics.length;r++)n.requestedQos[r]=t.qos;t.onSuccess&&(n.onSuccess=function(e){t.onSuccess({invocationContext:t.invocationContext,grantedQos:e})}),t.onFailure&&(n.onFailure=function(e){t.onFailure({invocationContext:t.invocationContext,errorCode:e,errorMessage:S(e)})}),t.timeout&&(n.timeOut=new M(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.SUBSCRIBE_TIMEOUT.code,errorMessage:S(b.SUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},L.prototype.unsubscribe=function(e,t){if(this._trace("Client.unsubscribe",e,t),!this.connected)throw new Error(S(b.INVALID_STATE,["not connected"]));var n=new C(d);n.topics=e.constructor===Array?e:[e],t.onSuccess&&(n.callback=function(){t.onSuccess({invocationContext:t.invocationContext})}),t.timeout&&(n.timeOut=new M(this,t.timeout,t.onFailure,[{invocationContext:t.invocationContext,errorCode:b.UNSUBSCRIBE_TIMEOUT.code,errorMessage:S(b.UNSUBSCRIBE_TIMEOUT)}])),this._requires_ack(n),this._schedule_message(n)},L.prototype.send=function(e){this._trace("Client.send",e);var t=new C(o);if(t.payloadMessage=e,this.connected)e.qos>0?this._requires_ack(t):this.onMessageDelivered&&(this._notify_msg_sent[t]=this.onMessageDelivered(t.payloadMessage)),this._schedule_message(t);else{if(!this._reconnecting||!this.disconnectedPublishing)throw new Error(S(b.INVALID_STATE,["not connected"]));if(Object.keys(this._sentMessages).length+this._buffered_msg_queue.length>this.disconnectedBufferSize)throw new Error(S(b.BUFFER_FULL,[this.disconnectedBufferSize]));e.qos>0?this._requires_ack(t):(t.sequence=++this._sequence,this._buffered_msg_queue.unshift(t))}},L.prototype.disconnect=function(){if(this._trace("Client.disconnect"),this._reconnecting&&(this._reconnectTimeout.cancel(),this._reconnectTimeout=null,this._reconnecting=!1),!this.socket)throw new Error(S(b.INVALID_STATE,["not connecting or connected"]));var e=new C(v);this._notify_msg_sent[e]=m(this._disconnected,this),this._schedule_message(e)},L.prototype.getTraceLog=function(){if(null!==this._traceBuffer){for(var e in this._trace("Client.getTraceLog",new Date),this._trace("Client.getTraceLog in flight messages",this._sentMessages.length),this._sentMessages)this._trace("_sentMessages ",e,this._sentMessages[e]);for(var e in this._receivedMessages)this._trace("_receivedMessages ",e,this._receivedMessages[e]);return this._traceBuffer}},L.prototype.startTrace=function(){null===this._traceBuffer&&(this._traceBuffer=[]),this._trace("Client.startTrace",new Date,"@VERSION@-@BUILDLEVEL@")},L.prototype.stopTrace=function(){delete this._traceBuffer},L.prototype._doConnect=function(e){if(this.connectOptions.useSSL){var t=e.split(":");t[0]="wss",e=t.join(":")}this._wsuri=e,this.connected=!1,this.connectOptions.mqttVersion<4?this.socket=new WebSocket(e,["mqttv3.1"]):this.socket=new WebSocket(e,["mqtt"]),this.socket.binaryType="arraybuffer",this.socket.onopen=m(this._on_socket_open,this),this.socket.onmessage=m(this._on_socket_message,this),this.socket.onerror=m(this._on_socket_error,this),this.socket.onclose=m(this._on_socket_close,this),this.sendPinger=new N(this,this.connectOptions.keepAliveInterval),this.receivePinger=new N(this,this.connectOptions.keepAliveInterval),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._connectTimeout=new M(this,this.connectOptions.timeout,this._disconnected,[b.CONNECT_TIMEOUT.code,S(b.CONNECT_TIMEOUT)])},L.prototype._schedule_message=function(e){this._msg_queue.unshift(e),this.connected&&this._process_queue()},L.prototype.store=function(e,t){var r={type:t.type,messageIdentifier:t.messageIdentifier,version:1};if(t.type!==o)throw Error(S(b.INVALID_STORED_DATA,[e+this._localKey+t.messageIdentifier,r]));t.pubRecReceived&&(r.pubRecReceived=!0),r.payloadMessage={};for(var i="",s=t.payloadMessage.payloadBytes,a=0;a<s.length;a++)s[a]<=15?i=i+"0"+s[a].toString(16):i+=s[a].toString(16);r.payloadMessage.payloadHex=i,r.payloadMessage.qos=t.payloadMessage.qos,r.payloadMessage.destinationName=t.payloadMessage.destinationName,t.payloadMessage.duplicate&&(r.payloadMessage.duplicate=!0),t.payloadMessage.retained&&(r.payloadMessage.retained=!0),0===e.indexOf("Sent:")&&(void 0===t.sequence&&(t.sequence=++this._sequence),r.sequence=t.sequence),n.setItem(e+this._localKey+t.messageIdentifier,JSON.stringify(r))},L.prototype.restore=function(e){var t=n.getItem(e),r=JSON.parse(t),i=new C(r.type,r);if(r.type!==o)throw Error(S(b.INVALID_STORED_DATA,[e,t]));for(var s=r.payloadMessage.payloadHex,a=new ArrayBuffer(s.length/2),u=new Uint8Array(a),c=0;s.length>=2;){var l=parseInt(s.substring(0,2),16);s=s.substring(2,s.length),u[c++]=l}var f=new R(u);f.qos=r.payloadMessage.qos,f.destinationName=r.payloadMessage.destinationName,r.payloadMessage.duplicate&&(f.duplicate=!0),r.payloadMessage.retained&&(f.retained=!0),i.payloadMessage=f,0===e.indexOf("Sent:"+this._localKey)?(i.payloadMessage.duplicate=!0,this._sentMessages[i.messageIdentifier]=i):0===e.indexOf("Received:"+this._localKey)&&(this._receivedMessages[i.messageIdentifier]=i)},L.prototype._process_queue=function(){for(var e=null;e=this._msg_queue.pop();)this._socket_send(e),this._notify_msg_sent[e]&&(this._notify_msg_sent[e](),delete this._notify_msg_sent[e])},L.prototype._requires_ack=function(e){var t=Object.keys(this._sentMessages).length;if(t>this.maxMessageIdentifier)throw Error("Too many messages:"+t);for(;void 0!==this._sentMessages[this._message_identifier];)this._message_identifier++;e.messageIdentifier=this._message_identifier,this._sentMessages[e.messageIdentifier]=e,e.type===o&&this.store("Sent:",e),this._message_identifier===this.maxMessageIdentifier&&(this._message_identifier=1)},L.prototype._on_socket_open=function(){var e=new C(r,this.connectOptions);e.clientId=this.clientId,this._socket_send(e)},L.prototype._on_socket_message=function(e){this._trace("Client._on_socket_message",e.data);for(var t=this._deframeMessages(e.data),n=0;n<t.length;n+=1)this._handleMessage(t[n])},L.prototype._deframeMessages=function(e){var t=new Uint8Array(e),n=[];if(this.receiveBuffer){var r=new Uint8Array(this.receiveBuffer.length+t.length);r.set(this.receiveBuffer),r.set(t,this.receiveBuffer.length),t=r,delete this.receiveBuffer}try{for(var i=0;i<t.length;){var o=_(t,i),s=o[0];if(i=o[1],null===s)break;n.push(s)}i<t.length&&(this.receiveBuffer=t.subarray(i))}catch(e){var a="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,a]))}return n},L.prototype._handleMessage=function(e){this._trace("Client._handleMessage",e);try{switch(e.type){case i:if(this._connectTimeout.cancel(),this._reconnectTimeout&&this._reconnectTimeout.cancel(),this.connectOptions.cleanSession){for(var t in this._sentMessages){var r=this._sentMessages[t];n.removeItem("Sent:"+this._localKey+r.messageIdentifier)}for(var t in this._sentMessages={},this._receivedMessages){var l=this._receivedMessages[t];n.removeItem("Received:"+this._localKey+l.messageIdentifier)}this._receivedMessages={}}if(0!==e.returnCode){this._disconnected(b.CONNACK_RETURNCODE.code,S(b.CONNACK_RETURNCODE,[e.returnCode,w[e.returnCode]]));break}this.connected=!0,this.connectOptions.uris&&(this.hostIndex=this.connectOptions.uris.length);var d=[];for(var p in this._sentMessages)this._sentMessages.hasOwnProperty(p)&&d.push(this._sentMessages[p]);if(this._buffered_msg_queue.length>0)for(var v=null;v=this._buffered_msg_queue.pop();)d.push(v),this.onMessageDelivered&&(this._notify_msg_sent[v]=this.onMessageDelivered(v.payloadMessage));d=d.sort((function(e,t){return e.sequence-t.sequence}));for(var y=0,m=d.length;y<m;y++){if((r=d[y]).type==o&&r.pubRecReceived){var E=new C(u,{messageIdentifier:r.messageIdentifier});this._schedule_message(E)}else this._schedule_message(r)}this.connectOptions.onSuccess&&this.connectOptions.onSuccess({invocationContext:this.connectOptions.invocationContext});var A=!1;this._reconnecting&&(A=!0,this._reconnectInterval=1,this._reconnecting=!1),this._connected(A,this._wsuri),this._process_queue();break;case o:this._receivePublish(e);break;case s:(r=this._sentMessages[e.messageIdentifier])&&(delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage));break;case a:if(r=this._sentMessages[e.messageIdentifier]){r.pubRecReceived=!0;E=new C(u,{messageIdentifier:e.messageIdentifier});this.store("Sent:",r),this._schedule_message(E)}break;case u:l=this._receivedMessages[e.messageIdentifier];n.removeItem("Received:"+this._localKey+e.messageIdentifier),l&&(this._receiveMessage(l),delete this._receivedMessages[e.messageIdentifier]);var _=new C(c,{messageIdentifier:e.messageIdentifier});this._schedule_message(_);break;case c:r=this._sentMessages[e.messageIdentifier];delete this._sentMessages[e.messageIdentifier],n.removeItem("Sent:"+this._localKey+e.messageIdentifier),this.onMessageDelivered&&this.onMessageDelivered(r.payloadMessage);break;case f:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),128===e.returnCode[0]?r.onFailure&&r.onFailure(e.returnCode):r.onSuccess&&r.onSuccess(e.returnCode),delete this._sentMessages[e.messageIdentifier]);break;case h:(r=this._sentMessages[e.messageIdentifier])&&(r.timeOut&&r.timeOut.cancel(),r.callback&&r.callback(),delete this._sentMessages[e.messageIdentifier]);break;case g:this.sendPinger.reset();break;default:this._disconnected(b.INVALID_MQTT_MESSAGE_TYPE.code,S(b.INVALID_MQTT_MESSAGE_TYPE,[e.type]))}}catch(e){var x="undefined"==e.hasOwnProperty("stack")?e.stack.toString():"No Error Stack Available";return void this._disconnected(b.INTERNAL_ERROR.code,S(b.INTERNAL_ERROR,[e.message,x]))}},L.prototype._on_socket_error=function(e){this._reconnecting||this._disconnected(b.SOCKET_ERROR.code,S(b.SOCKET_ERROR,[e.data]))},L.prototype._on_socket_close=function(){this._reconnecting||this._disconnected(b.SOCKET_CLOSE.code,S(b.SOCKET_CLOSE))},L.prototype._socket_send=function(e){if(1==e.type){var t=this._traceMask(e,"password");this._trace("Client._socket_send",t)}else this._trace("Client._socket_send",e);this.socket.send(e.encode()),this.sendPinger.reset()},L.prototype._receivePublish=function(e){switch(e.payloadMessage.qos){case"undefined":case 0:this._receiveMessage(e);break;case 1:var t=new C(s,{messageIdentifier:e.messageIdentifier});this._schedule_message(t),this._receiveMessage(e);break;case 2:this._receivedMessages[e.messageIdentifier]=e,this.store("Received:",e);var n=new C(a,{messageIdentifier:e.messageIdentifier});this._schedule_message(n);break;default:throw Error("Invaild qos="+e.payloadMessage.qos)}},L.prototype._receiveMessage=function(e){this.onMessageArrived&&this.onMessageArrived(e.payloadMessage)},L.prototype._connected=function(e,t){this.onConnected&&this.onConnected(e,t)},L.prototype._reconnect=function(){this._trace("Client._reconnect"),this.connected||(this._reconnecting=!0,this.sendPinger.cancel(),this.receivePinger.cancel(),this._reconnectInterval<128&&(this._reconnectInterval=2*this._reconnectInterval),this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri))},L.prototype._disconnected=function(e,t){if(this._trace("Client._disconnected",e,t),void 0!==e&&this._reconnecting)this._reconnectTimeout=new M(this,this._reconnectInterval,this._reconnect);else if(this.sendPinger.cancel(),this.receivePinger.cancel(),this._connectTimeout&&(this._connectTimeout.cancel(),this._connectTimeout=null),this._msg_queue=[],this._buffered_msg_queue=[],this._notify_msg_sent={},this.socket&&(this.socket.onopen=null,this.socket.onmessage=null,this.socket.onerror=null,this.socket.onclose=null,1===this.socket.readyState&&this.socket.close(),delete this.socket),this.connectOptions.uris&&this.hostIndex<this.connectOptions.uris.length-1)this.hostIndex++,this._doConnect(this.connectOptions.uris[this.hostIndex]);else if(void 0===e&&(e=b.OK.code,t=S(b.OK)),this.connected){if(this.connected=!1,this.onConnectionLost&&this.onConnectionLost({errorCode:e,errorMessage:t,reconnect:this.connectOptions.reconnect,uri:this._wsuri}),e!==b.OK.code&&this.connectOptions.reconnect)return this._reconnectInterval=1,void this._reconnect()}else 4===this.connectOptions.mqttVersion&&!1===this.connectOptions.mqttVersionExplicit?(this._trace("Failed to connect V4, dropping back to V3"),this.connectOptions.mqttVersion=3,this.connectOptions.uris?(this.hostIndex=0,this._doConnect(this.connectOptions.uris[0])):this._doConnect(this.uri)):this.connectOptions.onFailure&&this.connectOptions.onFailure({invocationContext:this.connectOptions.invocationContext,errorCode:e,errorMessage:t})},L.prototype._trace=function(){if(this.traceFunction){var e=Array.prototype.slice.call(arguments);for(var t in e)void 0!==e[t]&&e.splice(t,1,JSON.stringify(e[t]));var n=e.join("");this.traceFunction({severity:"Debug",message:n})}if(null!==this._traceBuffer){t=0;for(var r=arguments.length;t<r;t++)this._traceBuffer.length==this._MAX_TRACE_ENTRIES&&this._traceBuffer.shift(),0===t||void 0===arguments[t]?this._traceBuffer.push(arguments[t]):this._traceBuffer.push("  "+JSON.stringify(arguments[t]))}},L.prototype._traceMask=function(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=r==t?"******":e[r]);return n};var R=function(e){var t,n;if(!("string"==typeof e||e instanceof ArrayBuffer||ArrayBuffer.isView(e)&&!(e instanceof DataView)))throw S(b.INVALID_ARGUMENT,[e,"newPayload"]);t=e;var r=0,i=!1,o=!1;Object.defineProperties(this,{payloadString:{enumerable:!0,get:function(){return"string"==typeof t?t:O(t,0,t.length)}},payloadBytes:{enumerable:!0,get:function(){if("string"==typeof t){var e=new ArrayBuffer(P(t)),n=new Uint8Array(e);return k(t,n,0),n}return t}},destinationName:{enumerable:!0,get:function(){return n},set:function(e){if("string"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newDestinationName"]));n=e}},qos:{enumerable:!0,get:function(){return r},set:function(e){if(0!==e&&1!==e&&2!==e)throw new Error("Invalid argument:"+e);r=e}},retained:{enumerable:!0,get:function(){return i},set:function(e){if("boolean"!=typeof e)throw new Error(S(b.INVALID_ARGUMENT,[e,"newRetained"]));i=e}},topic:{enumerable:!0,get:function(){return n},set:function(e){n=e}},duplicate:{enumerable:!0,get:function(){return o},set:function(e){o=e}}})};return{Client:function(e,t,n,r){var i;if("string"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"host"]));if(2==arguments.length){r=t;var o=(i=e).match(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/);if(!o)throw new Error(S(b.INVALID_ARGUMENT,[e,"host"]));e=o[4]||o[2],t=parseInt(o[7]),n=o[8]}else{if(3==arguments.length&&(r=n,n="/mqtt"),"number"!=typeof t||t<0)throw new Error(S(b.INVALID_TYPE,[typeof t,"port"]));if("string"!=typeof n)throw new Error(S(b.INVALID_TYPE,[typeof n,"path"]));var s=-1!==e.indexOf(":")&&"["!==e.slice(0,1)&&"]"!==e.slice(-1);i="ws://"+(s?"["+e+"]":e)+":"+t+n}for(var a=0,u=0;u<r.length;u++){var c=r.charCodeAt(u);55296<=c&&c<=56319&&u++,a++}if("string"!=typeof r||a>65535)throw new Error(S(b.INVALID_ARGUMENT,[r,"clientId"]));var l=new L(i,e,t,n,r);Object.defineProperties(this,{host:{get:function(){return e},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},port:{get:function(){return t},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},path:{get:function(){return n},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},uri:{get:function(){return i},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},clientId:{get:function(){return l.clientId},set:function(){throw new Error(S(b.UNSUPPORTED_OPERATION))}},onConnected:{get:function(){return l.onConnected},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnected"]));l.onConnected=e}},disconnectedPublishing:{get:function(){return l.disconnectedPublishing},set:function(e){l.disconnectedPublishing=e}},disconnectedBufferSize:{get:function(){return l.disconnectedBufferSize},set:function(e){l.disconnectedBufferSize=e}},onConnectionLost:{get:function(){return l.onConnectionLost},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onConnectionLost"]));l.onConnectionLost=e}},onMessageDelivered:{get:function(){return l.onMessageDelivered},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageDelivered"]));l.onMessageDelivered=e}},onMessageArrived:{get:function(){return l.onMessageArrived},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onMessageArrived"]));l.onMessageArrived=e}},trace:{get:function(){return l.traceFunction},set:function(e){if("function"!=typeof e)throw new Error(S(b.INVALID_TYPE,[typeof e,"onTrace"]));l.traceFunction=e}}}),this.connect=function(e){if(y(e=e||{},{timeout:"number",userName:"string",password:"string",willMessage:"object",keepAliveInterval:"number",cleanSession:"boolean",useSSL:"boolean",invocationContext:"object",onSuccess:"function",onFailure:"function",hosts:"object",ports:"object",reconnect:"boolean",mqttVersion:"number",mqttVersionExplicit:"boolean",uris:"object"}),void 0===e.keepAliveInterval&&(e.keepAliveInterval=60),e.mqttVersion>4||e.mqttVersion<3)throw new Error(S(b.INVALID_ARGUMENT,[e.mqttVersion,"connectOptions.mqttVersion"]));if(void 0===e.mqttVersion?(e.mqttVersionExplicit=!1,e.mqttVersion=4):e.mqttVersionExplicit=!0,void 0!==e.password&&void 0===e.userName)throw new Error(S(b.INVALID_ARGUMENT,[e.password,"connectOptions.password"]));if(e.willMessage){if(!(e.willMessage instanceof R))throw new Error(S(b.INVALID_TYPE,[e.willMessage,"connectOptions.willMessage"]));if(e.willMessage.stringPayload=null,void 0===e.willMessage.destinationName)throw new Error(S(b.INVALID_TYPE,[typeof e.willMessage.destinationName,"connectOptions.willMessage.destinationName"]))}if(void 0===e.cleanSession&&(e.cleanSession=!0),e.hosts){if(!(e.hosts instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));if(e.hosts.length<1)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts,"connectOptions.hosts"]));for(var t=!1,r=0;r<e.hosts.length;r++){if("string"!=typeof e.hosts[r])throw new Error(S(b.INVALID_TYPE,[typeof e.hosts[r],"connectOptions.hosts["+r+"]"]));if(/^(wss?):\/\/((\[(.+)\])|([^\/]+?))(:(\d+))?(\/.*)$/.test(e.hosts[r])){if(0===r)t=!0;else if(!t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}else if(t)throw new Error(S(b.INVALID_ARGUMENT,[e.hosts[r],"connectOptions.hosts["+r+"]"]))}if(t)e.uris=e.hosts;else{if(!e.ports)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(!(e.ports instanceof Array))throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));if(e.hosts.length!==e.ports.length)throw new Error(S(b.INVALID_ARGUMENT,[e.ports,"connectOptions.ports"]));e.uris=[];for(r=0;r<e.hosts.length;r++){if("number"!=typeof e.ports[r]||e.ports[r]<0)throw new Error(S(b.INVALID_TYPE,[typeof e.ports[r],"connectOptions.ports["+r+"]"]));var o=e.hosts[r],s=e.ports[r],a=-1!==o.indexOf(":");i="ws://"+(a?"["+o+"]":o)+":"+s+n,e.uris.push(i)}}}l.connect(e)},this.subscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(y(t=t||{},{qos:"number",invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("subscribeOptions.timeout specified with no onFailure callback.");if(void 0!==t.qos&&0!==t.qos&&1!==t.qos&&2!==t.qos)throw new Error(S(b.INVALID_ARGUMENT,[t.qos,"subscribeOptions.qos"]));l.subscribe(e,t)},this.unsubscribe=function(e,t){if("string"!=typeof e&&e.constructor!==Array)throw new Error("Invalid argument:"+e);if(y(t=t||{},{invocationContext:"object",onSuccess:"function",onFailure:"function",timeout:"number"}),t.timeout&&!t.onFailure)throw new Error("unsubscribeOptions.timeout specified with no onFailure callback.");l.unsubscribe(e,t)},this.send=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.publish=function(e,t,n,r){var i;if(0===arguments.length)throw new Error("Invalid argument.length");if(1==arguments.length){if(!(e instanceof R)&&"string"!=typeof e)throw new Error("Invalid argument:"+typeof e);if(void 0===(i=e).destinationName)throw new Error(S(b.INVALID_ARGUMENT,[i.destinationName,"Message.destinationName"]));l.send(i)}else(i=new R(t)).destinationName=e,arguments.length>=3&&(i.qos=n),arguments.length>=4&&(i.retained=r),l.send(i)},this.disconnect=function(){l.disconnect()},this.getTraceLog=function(){return l.getTraceLog()},this.startTrace=function(){l.startTrace()},this.stopTrace=function(){l.stopTrace()},this.isConnected=function(){return l.connected}},Message:R}}(void 0!==De?De:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});return e}))})),FE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zE=function(){return zE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zE.apply(this,arguments)},KE=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},qE=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},HE=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},VE=new ie("MqttOverWSProvider");var WE,GE,JE,ZE=function(){function e(){this.promises=new Map}return e.prototype.get=function(e,t){return KE(this,void 0,void 0,(function(){var n;return qE(this,(function(r){return(n=this.promises.get(e))||(n=t(e),this.promises.set(e,n)),[2,n]}))}))},Object.defineProperty(e.prototype,"allClients",{get:function(){return Array.from(this.promises.keys())},enumerable:!0,configurable:!0}),e.prototype.remove=function(e){this.promises.delete(e)},e}(),QE="undefined"!=typeof Symbol?Symbol("topic"):"@@topic",YE=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,zE(zE({},t),{clientId:t.clientId||Vr.v4()}))||this;return n._clientsQueue=new ZE,n._topicObservers=new Map,n._clientIdObservers=new Map,n}return FE(t,e),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.options.clientId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpoint",{get:function(){return this.options.aws_pubsub_endpoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientsQueue",{get:function(){return this._clientsQueue},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype.getTopicForValue=function(e){return"object"==typeof e&&e[QE]},t.prototype.getProviderName=function(){return"MqttOverWSProvider"},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=HE(e,["clientId","errorCode"]);if(0!==r){VE.warn(n,JSON.stringify(zE({errorCode:r},i),null,2));var o=[],s=this._clientIdObservers.get(n);if(!s)return;s.forEach((function(e){e.error("Disconnected, error code: "+r),t._topicObservers.forEach((function(t,n){t.delete(e),0===t.size&&o.push(n)}))})),this._clientIdObservers.delete(n),o.forEach((function(e){t._topicObservers.delete(e)}))}},t.prototype.newClient=function(e){var t=e.url,n=e.clientId;return KE(this,void 0,void 0,(function(){var e,r=this;return qE(this,(function(i){switch(i.label){case 0:return VE.debug("Creating new MQTT client",n),(e=new jE.Client(t,n)).onMessageArrived=function(e){var t=e.destinationName,n=e.payloadString;r._onMessage(t,n)},e.onConnectionLost=function(e){var t=e.errorCode,i=HE(e,["errorCode"]);r.onDisconnect(zE({clientId:n,errorCode:t},i))},[4,new Promise((function(t,n){e.connect({useSSL:r.isSSLEnabled,mqttVersion:3,onSuccess:function(){return t(e)},onFailure:n})}))];case 1:return i.sent(),[2,e]}}))}))},t.prototype.connect=function(e,t){return void 0===t&&(t={}),KE(this,void 0,void 0,(function(){var n=this;return qE(this,(function(r){switch(r.label){case 0:return[4,this.clientsQueue.get(e,(function(e){return n.newClient(zE(zE({},t),{clientId:e}))}))];case 1:return[2,r.sent()]}}))}))},t.prototype.disconnect=function(e){return KE(this,void 0,void 0,(function(){var t;return qE(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(e,(function(){return null}))];case 1:return(t=n.sent())&&t.isConnected()&&t.disconnect(),this.clientsQueue.remove(e),[2]}}))}))},t.prototype.publish=function(e,t){return KE(this,void 0,void 0,(function(){var n,r,i,o;return qE(this,(function(s){switch(s.label){case 0:return n=[].concat(e),r=JSON.stringify(t),[4,this.endpoint];case 1:return i=s.sent(),[4,this.connect(this.clientId,{url:i})];case 2:return o=s.sent(),VE.debug("Publishing to topic(s)",n.join(","),r),n.forEach((function(e){return o.send(e,r)})),[2]}}))}))},t.prototype._onMessage=function(e,t){try{var n=[];this._topicObservers.forEach((function(t,r){(function(e,t){for(var n=e.split("/"),r=n.length,i=t.split("/"),o=0;o<r;++o){var s=n[o],a=i[o];if("#"===s)return i.length>=r;if("+"!==s&&s!==a)return!1}return r===i.length})(r,e)&&n.push(t)}));var r=JSON.parse(t);"object"==typeof r&&(r[QE]=e),n.forEach((function(e){e.forEach((function(e){return e.next(r)}))}))}catch(e){VE.warn("Error handling message",e,t)}},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=[].concat(e);return VE.debug("Subscribing to topic(s)",r.join(",")),new sn((function(e){var i;r.forEach((function(t){var r=n._topicObservers.get(t);r||(r=new Set,n._topicObservers.set(t,r)),r.add(e)}));var o=t.clientId,s=void 0===o?n.clientId:o,a=n._clientIdObservers.get(s);return a||(a=new Set),a.add(e),n._clientIdObservers.set(s,a),KE(n,void 0,void 0,(function(){var n,o,a,u;return qE(this,(function(c){switch(c.label){case 0:return void 0!==(n=t.url)?[3,2]:[4,this.endpoint];case 1:return a=c.sent(),[3,3];case 2:a=n,c.label=3;case 3:o=a,c.label=4;case 4:return c.trys.push([4,6,,7]),[4,this.connect(s,{url:o})];case 5:return i=c.sent(),r.forEach((function(e){i.subscribe(e)})),[3,7];case 6:return u=c.sent(),e.error(u),[3,7];case 7:return[2]}}))})),function(){return VE.debug("Unsubscribing from topic(s)",r.join(",")),i&&(n._clientIdObservers.get(s).delete(e),0===n._clientIdObservers.get(s).size&&(n.disconnect(s),n._clientIdObservers.delete(s)),r.forEach((function(t){var r=n._topicObservers.get(t)||new Set;r.delete(e),0===r.size&&(n._topicObservers.delete(t),i.isConnected()&&i.unsubscribe(t))}))),null}}))},t}(BE),XE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$E=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},eA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},tA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},nA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rA=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nA(arguments[t]));return e},iA=new ie("AWSAppSyncProvider"),oA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._topicClient=new Map,t._topicAlias=new Map,t}return XE(t,e),Object.defineProperty(t.prototype,"endpoint",{get:function(){throw new Error("Not supported")},enumerable:!0,configurable:!0}),t.prototype.getProviderName=function(){return"AWSAppSyncProvider"},t.prototype.publish=function(e,t,n){return $E(this,void 0,void 0,(function(){return eA(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype._cleanUp=function(e){var t=this;Array.from(this._topicClient.entries()).filter((function(t){return nA(t,2)[1].clientId===e})).map((function(e){return nA(e,1)[0]})).forEach((function(e){return t._cleanUpForTopic(e)}))},t.prototype._cleanUpForTopic=function(e){this._topicClient.delete(e),this._topicAlias.delete(e)},t.prototype.onDisconnect=function(e){var t=this,n=e.clientId,r=e.errorCode,i=tA(e,["clientId","errorCode"]);if(0!==r){var o=Array.from(this._topicClient.entries()).filter((function(e){return nA(e,2)[1].clientId===n})).map((function(e){return nA(e,1)[0]}));o.forEach((function(e){t._topicObservers.has(e)&&(t._topicObservers.get(e).forEach((function(e){e.closed||e.error(i)})),t._topicObservers.delete(e))})),this._cleanUp(n)}},t.prototype.disconnect=function(t){return $E(this,void 0,void 0,(function(){return eA(this,(function(n){switch(n.label){case 0:return[4,this.clientsQueue.get(t,(function(){return null}))];case 1:return n.sent(),[4,e.prototype.disconnect.call(this,t)];case 2:return n.sent(),this._cleanUp(t),[2]}}))}))},t.prototype.subscribe=function(e,t){var n=this;void 0===t&&(t={});var r=new sn((function(r){var i=[].concat(e);return iA.debug("Subscribing to topic(s)",i.join(",")),$E(n,void 0,void 0,(function(){var e,n,o,s,a,u=this;return eA(this,(function(c){switch(c.label){case 0:return i.forEach((function(e){u._topicObservers.has(e)||u._topicObservers.set(e,new Set),u._topicObservers.get(e).add(r)})),e=t.mqttConnections,n=void 0===e?[]:e,o=t.newSubscriptions,s=Object.entries(o).map((function(e){var t=nA(e,2),n=t[0];return[t[1].topic,n]})),this._topicAlias=new Map(rA(Array.from(this._topicAlias.entries()),s)),a=Object.entries(i.reduce((function(e,t){var r=n.find((function(e){return e.topics.indexOf(t)>-1}));if(r){var i=r.client,o=r.url;e[i]||(e[i]={url:o,topics:new Set}),e[i].topics.add(t)}return e}),{})),[4,Promise.all(a.map((function(e){var t=nA(e,2),n=t[0],i=t[1],o=i.url,s=i.topics;return $E(u,void 0,void 0,(function(){var e,t,i=this;return eA(this,(function(a){switch(a.label){case 0:e=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.connect(n,{clientId:n,url:o})];case 2:return e=a.sent(),[3,4];case 3:return t=a.sent(),r.error({message:"Failed to connect",error:t}),r.complete(),[2,void 0];case 4:return s.forEach((function(t){e.isConnected()&&(e.subscribe(t),i._topicClient.set(t,e))})),[2,e]}}))}))})))];case 1:return c.sent(),[2]}}))})),function(){iA.debug("Unsubscribing from topic(s)",i.join(",")),i.forEach((function(e){var t=n._topicClient.get(e);t&&t.isConnected()&&(t.unsubscribe(e),n._topicClient.delete(e),Array.from(n._topicClient.values()).some((function(e){return e===t}))||n.disconnect(t.clientId)),n._topicObservers.delete(e)}))}}));return sn.from(r).map((function(e){var t=n.getTopicForValue(e),r=n._topicAlias.get(t);return e.data=Object.entries(e.data).reduce((function(e,t){var n=nA(t,2),i=n[0],o=n[1];return e[r||i]=o,e}),{}),e}))},t}(YE),sA=Fe((function(e,t){const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},t.INSPECT_MAX_BYTES=50;const r=2147483647;function i(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|d(e,t);let r=i(n);const s=r.write(e,t);s!==n&&(r=r.slice(0,s));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return c(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);const s=function(e){if(o.isBuffer(e)){const t=0|f(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||G(e.length)?i(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return a(e),i(e<0?0:0|f(e))}function c(e){const t=e.length<0?0:0|f(e.length),n=i(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,o.prototype),r}function f(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function d(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return A(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){let o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===u)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){let n=!0;for(let r=0;r<u;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function y(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(G(r))return s;e[n+s]=r}return s}function m(e,t,n,r){return V(q(t,e.length-n),e,n,r)}function b(e,t,n,r){return V(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return V(H(t),e,n,r)}function S(e,t,n,r){return V(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?Au.fromByteArray(e):Au.fromByteArray(e.slice(t,n))}function A(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(u=(31&t)<<6|63&n,u>127&&(o=u));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(u=(15&t)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(u=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=r,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},o.allocUnsafe=function(e){return u(e)},o.allocUnsafeSlow=function(e){return u(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=o.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))i+t.length>r.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},o.byteLength=d,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?A(this,0,e):h.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(W(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const u=Math.min(s,a),c=this.slice(r,i),l=e.slice(t,n);for(let e=0;e<u;++e)if(c[e]!==l[e]){s=c[e],a=l[e];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return m(this,e,t,n);case"ascii":case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function _(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function T(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function N(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,4),_u(e,t,n,r,23,4),n+4}function R(e,t,n,r,i){return t=+t,n>>>=0,i||M(e,0,n,8),_u(e,t,n,r,52,8),n+8}o.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=Z((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=Z((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=Z((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),o.prototype.readBigInt64BE=Z((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||z(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),Cu(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),Cu(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),Cu(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),Cu(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){k(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){k(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=Z((function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=Z((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);k(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=Z((function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=Z((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};const U={};function D(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||z(t,e.length-(n+1))}(r,i,o)}function F(e,t){if("number"!=typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function z(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=B(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=B(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return Au.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function G(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}})),aA=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),uA=function(){return uA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uA.apply(this,arguments)},cA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},lA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},fA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},dA=new ie("AWSAppSyncRealTimeProvider"),hA="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",pA=[400,401,403];!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.GQL_DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error"}(WE||(WE={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(GE||(GE={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(JE||(JE={}));var gA,vA,yA={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},mA=3e5,bA=/^https:\/\/\w{26}\.appsync\-api\.\w{2}(?:(?:\-\w{2,})+)\-\d\.amazonaws.com\/graphql$/i,wA=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.socketStatus=JE.CLOSED,t.keepAliveTimeout=mA,t.subscriptionObserverMap=new Map,t.promiseArray=[],t}return aA(t,e),t.prototype.getProviderName=function(){return"AWSAppSyncRealTimeProvider"},t.prototype.newClient=function(){throw new Error("Not used here")},t.prototype.publish=function(e,t,n){return cA(this,void 0,void 0,(function(){return lA(this,(function(e){throw new Error("Operation not supported")}))}))},t.prototype.isCustomDomain=function(e){return null===e.match(bA)},t.prototype.subscribe=function(e,t){var n=this,r=t.appSyncGraphqlEndpoint;return new sn((function(e){if(r){var i=Vr.v4();return n._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:e,subscriptionId:i}).catch((function(t){e.error({errors:[uA({},new zS(gA.REALTIME_SUBSCRIPTION_INIT_ERROR+": "+t))]}),e.complete()})),function(){return cA(n,void 0,void 0,(function(){var e,t;return lA(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),[4,this._waitForSubscriptionToBeConnected(i)];case 1:if(n.sent(),!(e=(this.subscriptionObserverMap.get(i)||{}).subscriptionState))return[2];if(e!==GE.CONNECTED)throw new Error("Subscription never connected");return this._sendUnsubscriptionMessage(i),[3,4];case 2:return t=n.sent(),dA.debug("Error while unsubscribing "+t),[3,4];case 3:return this._removeSubscriptionObserver(i),[7];case 4:return[2]}}))}))}}e.error({errors:[uA({},new zS("Subscribe only available for AWS AppSync endpoint"))]}),e.complete()}))},Object.defineProperty(t.prototype,"isSSLEnabled",{get:function(){return!this.options.aws_appsync_dangerously_connect_to_http_endpoint_for_testing},enumerable:!0,configurable:!0}),t.prototype._startSubscriptionWithAWSAppSyncRealTime=function(e){var t=e.options,n=e.observer,r=e.subscriptionId;return cA(this,void 0,void 0,(function(){var e,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T,P=this;return lA(this,(function(k){switch(k.label){case 0:return e=t.appSyncGraphqlEndpoint,i=t.authenticationType,o=t.query,s=t.variables,a=t.apiKey,u=t.region,c=t.graphql_headers,l=void 0===c?function(){return{}}:c,f=t.additionalHeaders,d=void 0===f?{}:f,h=GE.PENDING,p={query:o,variables:s},this.subscriptionObserverMap.set(r,{observer:n,query:o,variables:s,subscriptionState:h,startAckTimeoutId:null}),g=JSON.stringify(p),y=[{}],[4,this._awsRealTimeHeaderBasedAuth({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:i,payload:g,canonicalUri:"",region:u,additionalHeaders:d})];case 1:return m=[uA.apply(void 0,y.concat([k.sent()]))],[4,l()];case 2:v=uA.apply(void 0,[uA.apply(void 0,[uA.apply(void 0,m.concat([k.sent()])),d]),(T={},T["x-amz-user-agent"]=uu.userAgent,T)]),b={id:r,payload:{data:g,extensions:{authorization:uA({},v)}},type:WE.GQL_START},w=JSON.stringify(b),k.label=3;case 3:return k.trys.push([3,5,,6]),[4,this._initializeWebSocketConnection({apiKey:a,appSyncGraphqlEndpoint:e,authenticationType:i,region:u,additionalHeaders:d})];case 4:return k.sent(),[3,6];case 5:return S=k.sent(),dA.debug({err:S}),E=S.message,A=void 0===E?"":E,n.error({errors:[uA({},new zS(gA.CONNECTION_FAILED+": "+A))]}),n.complete(),"function"==typeof(C=(this.subscriptionObserverMap.get(r)||{}).subscriptionFailedCallback)&&C(),[2];case 6:return _=this.subscriptionObserverMap.get(r),x=_.subscriptionFailedCallback,I=_.subscriptionReadyCallback,this.subscriptionObserverMap.set(r,{observer:n,subscriptionState:h,variables:s,query:o,subscriptionReadyCallback:I,subscriptionFailedCallback:x,startAckTimeoutId:setTimeout((function(){P._timeoutStartSubscriptionAck.call(P,r)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(w),[2]}}))}))},t.prototype._waitForSubscriptionToBeConnected=function(e){return cA(this,void 0,void 0,(function(){var t=this;return lA(this,(function(n){return this.subscriptionObserverMap.get(e).subscriptionState===GE.PENDING?[2,new Promise((function(n,r){var i=t.subscriptionObserverMap.get(e),o=i.observer,s=i.subscriptionState,a=i.variables,u=i.query;t.subscriptionObserverMap.set(e,{observer:o,subscriptionState:s,variables:a,query:u,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))]:[2]}))}))},t.prototype._sendUnsubscriptionMessage=function(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===JE.READY){var t={id:e,type:WE.GQL_STOP},n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){dA.debug({err:e})}},t.prototype._removeSubscriptionObserver=function(e){this.subscriptionObserverMap.delete(e),setTimeout(this._closeSocketIfRequired.bind(this),1e3)},t.prototype._closeSocketIfRequired=function(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{dA.debug("closing WebSocket..."),clearTimeout(this.keepAliveTimeoutId);var e=this.awsRealTimeSocket;e.onclose=void 0,e.onerror=void 0,e.close(1e3),this.awsRealTimeSocket=null,this.socketStatus=JE.CLOSED}else this.socketStatus=JE.CLOSED},t.prototype._handleIncomingSubscriptionMessage=function(e){dA.debug("subscription message from AWS AppSync RealTime: "+e.data);var t=JSON.parse(e.data),n=t.id,r=void 0===n?"":n,i=t.payload,o=t.type,s=this.subscriptionObserverMap.get(r)||{},a=s.observer,u=void 0===a?null:a,c=s.query,l=void 0===c?"":c,f=s.variables,d=void 0===f?{}:f,h=s.startAckTimeoutId,p=s.subscriptionReadyCallback,g=s.subscriptionFailedCallback;if(dA.debug({id:r,observer:u,query:l,variables:d}),o===WE.GQL_DATA&&i&&i.data)u?u.next(i):dA.debug("observer not found for id: "+r);else if(o!==WE.GQL_START_ACK){if(o===WE.GQL_CONNECTION_KEEP_ALIVE)return clearTimeout(this.keepAliveTimeoutId),void(this.keepAliveTimeoutId=setTimeout(this._errorDisconnect.bind(this,gA.TIMEOUT_DISCONNECT),this.keepAliveTimeout));if(o===WE.GQL_ERROR){v=GE.FAILED;this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:d,startAckTimeoutId:h,subscriptionReadyCallback:p,subscriptionFailedCallback:g,subscriptionState:v}),u.error({errors:[uA({},new zS(gA.CONNECTION_FAILED+": "+JSON.stringify(i)))]}),clearTimeout(h),u.complete(),"function"==typeof g&&g()}}else{dA.debug("subscription ready for "+JSON.stringify({query:l,variables:d})),"function"==typeof p&&p(),clearTimeout(h),function(e,t,n){ve.dispatch("api",{event:e,data:t,message:n},"PubSub",hA)}(gA.SUBSCRIPTION_ACK,{query:l,variables:d},"Connection established for subscription");var v=GE.CONNECTED;this.subscriptionObserverMap.set(r,{observer:u,query:l,variables:d,startAckTimeoutId:null,subscriptionState:v,subscriptionReadyCallback:p,subscriptionFailedCallback:g})}},t.prototype._errorDisconnect=function(e){dA.debug("Disconnect error: "+e),this.subscriptionObserverMap.forEach((function(t){var n=t.observer;n&&!n.closed&&n.error({errors:[uA({},new zS(e))]})})),this.subscriptionObserverMap.clear(),this.awsRealTimeSocket&&this.awsRealTimeSocket.close(),this.socketStatus=JE.CLOSED},t.prototype._timeoutStartSubscriptionAck=function(e){var t=this.subscriptionObserverMap.get(e)||{},n=t.observer,r=t.query,i=t.variables;n&&(this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:i,subscriptionState:GE.FAILED}),n&&!n.closed&&(n.error({errors:[uA({},new zS("Subscription timeout "+JSON.stringify({query:r,variables:i})))]}),n.complete()),dA.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:i})))},t.prototype._initializeWebSocketConnection=function(e){var t=this,n=e.appSyncGraphqlEndpoint,r=e.authenticationType,i=e.apiKey,o=e.region,s=e.additionalHeaders;if(this.socketStatus!==JE.READY)return new Promise((function(e,a){return cA(t,void 0,void 0,(function(){var t,u,c,l,f,d,h,p,g,v;return lA(this,(function(y){switch(y.label){case 0:if(this.promiseArray.push({res:e,rej:a}),this.socketStatus!==JE.CLOSED)return[3,5];y.label=1;case 1:return y.trys.push([1,4,,5]),this.socketStatus=JE.CONNECTING,t="{}",l=(c=JSON).stringify,[4,this._awsRealTimeHeaderBasedAuth({authenticationType:r,payload:t,canonicalUri:"/connect",apiKey:i,appSyncGraphqlEndpoint:n,region:o,additionalHeaders:s})];case 2:return u=l.apply(c,[y.sent()]),f=sA.Buffer.from(u).toString("base64"),d=sA.Buffer.from(t).toString("base64"),h=n,h=this.isCustomDomain(h)?h.concat("/realtime"):h.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta"),p=this.isSSLEnabled?"wss://":"ws://",h=h.replace("https://",p).replace("http://",p),g=h+"?header="+f+"&payload="+d,[4,this._initializeRetryableHandshake({awsRealTimeUrl:g})];case 3:return y.sent(),this.promiseArray.forEach((function(e){var t=e.res;dA.debug("Notifying connection successful"),t()})),this.socketStatus=JE.READY,this.promiseArray=[],[3,5];case 4:return v=y.sent(),this.promiseArray.forEach((function(e){return(0,e.rej)(v)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=null,this.socketStatus=JE.CLOSED,[3,5];case 5:return[2]}}))}))}))},t.prototype._initializeRetryableHandshake=function(e){var t=e.awsRealTimeUrl;return cA(this,void 0,void 0,(function(){return lA(this,(function(e){switch(e.label){case 0:return dA.debug("Initializaling retryable Handshake"),[4,tn(this._initializeHandshake.bind(this),[{awsRealTimeUrl:t}],5e3)];case 1:return e.sent(),[2]}}))}))},t.prototype._initializeHandshake=function(e){var t=e.awsRealTimeUrl;return cA(this,void 0,void 0,(function(){var e,n,r,i=this;return lA(this,(function(o){switch(o.label){case 0:dA.debug("Initializing handshake "+t),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,new Promise((function(e,n){var r=new WebSocket(t,"graphql-ws");r.onerror=function(){dA.debug("WebSocket connection error")},r.onclose=function(){n(new Error("Connection handshake error"))},r.onopen=function(){return i.awsRealTimeSocket=r,e()}}))];case 2:return o.sent(),[4,new Promise((function(e,t){var n=!1;i.awsRealTimeSocket.onerror=function(e){dA.debug("WebSocket error "+JSON.stringify(e))},i.awsRealTimeSocket.onclose=function(e){dA.debug("WebSocket closed "+e.reason),t(new Error(JSON.stringify(e)))},i.awsRealTimeSocket.onmessage=function(r){dA.debug("subscription message from AWS AppSyncRealTime: "+r.data+" ");var o=JSON.parse(r.data),s=o.type,a=o.payload,u=(void 0===a?{}:a).connectionTimeoutMs,c=void 0===u?mA:u;if(s===WE.GQL_CONNECTION_ACK)return n=!0,i.keepAliveTimeout=c,i.awsRealTimeSocket.onmessage=i._handleIncomingSubscriptionMessage.bind(i),i.awsRealTimeSocket.onerror=function(e){dA.debug(e),i._errorDisconnect(gA.CONNECTION_CLOSED)},i.awsRealTimeSocket.onclose=function(e){dA.debug("WebSocket closed "+e.reason),i._errorDisconnect(gA.CONNECTION_CLOSED)},void e("Cool, connected to AWS AppSyncRealTime");if(s===WE.GQL_CONNECTION_ERROR){var l=o.payload,f=(void 0===l?{}:l).errors,d=fA(void 0===f?[]:f,1)[0],h=void 0===d?{}:d,p=h.errorType,g=void 0===p?"":p,v=h.errorCode;t({errorType:g,errorCode:void 0===v?0:v})}};var r={type:WE.GQL_CONNECTION_INIT};i.awsRealTimeSocket.send(JSON.stringify(r)),setTimeout(function(){n||t(new Error("Connection timeout: ack from AWSRealTime was not received on 15000 ms"))}.bind(i),15e3)}))];case 3:return o.sent(),[3,5];case 4:throw e=o.sent(),n=e.errorType,r=e.errorCode,pA.includes(r)?new Yt(n):n?new Error(n):e;case 5:return[2]}}))}))},t.prototype._awsRealTimeHeaderBasedAuth=function(e){var t=e.authenticationType,n=e.payload,r=e.canonicalUri,i=e.appSyncGraphqlEndpoint,o=e.apiKey,s=e.region,a=e.additionalHeaders;return cA(this,void 0,void 0,(function(){var e,u,c;return lA(this,(function(l){switch(l.label){case 0:return e={API_KEY:this._awsRealTimeApiKeyHeader.bind(this),AWS_IAM:this._awsRealTimeIAMHeader.bind(this),OPENID_CONNECT:this._awsRealTimeOPENIDHeader.bind(this),AMAZON_COGNITO_USER_POOLS:this._awsRealTimeCUPHeader.bind(this),AWS_LAMBDA:this._customAuthHeader},"function"!=typeof(u=e[t])?(dA.debug("Authentication type "+t+" not supported"),[2,""]):(c=Pt(i).host,[4,u({payload:n,canonicalUri:r,appSyncGraphqlEndpoint:i,apiKey:o,region:s,host:c,additionalHeaders:a})]);case 1:return[2,l.sent()]}}))}))},t.prototype._awsRealTimeCUPHeader=function(e){var t=e.host;return cA(this,void 0,void 0,(function(){return lA(this,(function(e){switch(e.label){case 0:return[4,rl.currentSession()];case 1:return[2,{Authorization:e.sent().getAccessToken().getJwtToken(),host:t}]}}))}))},t.prototype._awsRealTimeOPENIDHeader=function(e){var t=e.host;return cA(this,void 0,void 0,(function(){var e,n,r;return lA(this,(function(i){switch(i.label){case 0:return[4,pl.getItem("federatedInfo")];case 1:return(n=i.sent())?(e=n.token,[3,4]):[3,2];case 2:return[4,rl.currentAuthenticatedUser()];case 3:(r=i.sent())&&(e=r.token),i.label=4;case 4:if(!e)throw new Error("No federated jwt");return[2,{Authorization:e,host:t}]}}))}))},t.prototype._awsRealTimeApiKeyHeader=function(e){var t=e.apiKey,n=e.host;return cA(this,void 0,void 0,(function(){var e,r;return lA(this,(function(i){return e=new Date,r=e.toISOString().replace(/[:\-]|\.\d{3}/g,""),[2,{host:n,"x-amz-date":r,"x-api-key":t}]}))}))},t.prototype._awsRealTimeIAMHeader=function(e){var t=e.payload,n=e.canonicalUri,r=e.appSyncGraphqlEndpoint,i=e.region;return cA(this,void 0,void 0,(function(){var e,o,s;return lA(this,(function(a){switch(a.label){case 0:return e={region:i,service:"appsync"},[4,this._ensureCredentials()];case 1:if(!a.sent())throw new Error("No credentials");return[4,Ka.get().then((function(e){return{secret_key:e.secretAccessKey,access_key:e.accessKeyId,session_token:e.sessionToken}}))];case 2:return o=a.sent(),s={url:""+r+n,data:t,method:"POST",headers:uA({},yA)},[2,Cn.sign(s,o,e).headers]}}))}))},t.prototype._customAuthHeader=function(e){var t=e.host,n=e.additionalHeaders;if(!n.Authorization)throw new Error("No auth token specified");return{Authorization:n.Authorization,host:t}},t.prototype._ensureCredentials=function(){return Ka.get().then((function(e){if(!e)return!1;var t=Ka.shear(e);return dA.debug("set credentials for AWSAppSyncRealTimeProvider",t),!0})).catch((function(e){return dA.warn("ensure credentials error",e),!1}))},t}(BE),SA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},EA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},AA=Ne().isNode,CA=new ie("PubSub"),_A=new(function(){function e(e){this._options=e,CA.debug("PubSub Options",this._options),this._pluggables=[],this.subscribe=this.subscribe.bind(this)}return Object.defineProperty(e.prototype,"awsAppSyncProvider",{get:function(){return this._awsAppSyncProvider||(this._awsAppSyncProvider=new oA(this._options)),this._awsAppSyncProvider},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"awsAppSyncRealTimeProvider",{get:function(){return this._awsAppSyncRealTimeProvider||(this._awsAppSyncRealTimeProvider=new wA(this._options)),this._awsAppSyncRealTimeProvider},enumerable:!0,configurable:!0}),e.prototype.getModuleName=function(){return"PubSub"},e.prototype.configure=function(e){var t=this,n=e?e.PubSub||e:{};return CA.debug("configure PubSub",{opt:n}),this._options=Object.assign({},this._options,n),this._pluggables.map((function(e){return e.configure(t._options)})),this._options},e.prototype.addPluggable=function(e){return SA(this,void 0,void 0,(function(){return EA(this,(function(t){return e&&"PubSub"===e.getCategory()?(this._pluggables.push(e),[2,e.configure(this._options)]):[2]}))}))},e.prototype.removePluggable=function(e){this._pluggables=this._pluggables.filter((function(t){return t.getProviderName()!==e}))},e.prototype.getProviderByName=function(e){return e===su?this.awsAppSyncProvider:e===au?this.awsAppSyncRealTimeProvider:this._pluggables.find((function(t){return t.getProviderName()===e}))},e.prototype.getProviders=function(e){void 0===e&&(e={});var t=e.provider;if(!t)return this._pluggables;var n=this.getProviderByName(t);if(!n)throw new Error("Could not find provider named "+t);return[n]},e.prototype.publish=function(e,t,n){return SA(this,void 0,void 0,(function(){return EA(this,(function(r){return[2,Promise.all(this.getProviders(n).map((function(r){return r.publish(e,t,n)})))]}))}))},e.prototype.subscribe=function(e,t){if(AA&&this._options&&this._options.ssr)throw new Error("Subscriptions are not supported for Server-Side Rendering (SSR)");CA.debug("subscribe options",t);var n=this.getProviders(t);return new sn((function(r){var i=n.map((function(n){return{provider:n,observable:n.subscribe(e,t)}})).map((function(e){var t=e.provider;return e.observable.subscribe({start:console.error,next:function(e){return r.next({provider:t,value:e})},error:function(e){return r.error({provider:t,error:e})}})}));return function(){return i.forEach((function(e){return e.unsubscribe()}))}}))},e}())(null);ae.register(_A),function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(gA||(gA={})),function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(vA||(vA={}));var xA=function(){return xA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},xA.apply(this,arguments)},IA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},TA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},PA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kA=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},OA=new ie("GraphQLAPI"),NA=function(){function e(e){this._api=null,this.Auth=rl,this.Cache=pl,this.Credentials=Ka,this._options=e,OA.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"GraphQLAPI"},e.prototype.configure=function(e){var t=e||{},n=t.API,r=void 0===n?{}:n,i=PA(t,["API"]),o=xA(xA({},i),r);return OA.debug("configure GraphQL API",{opt:o}),o.aws_project_region&&(o=Object.assign({},o,{region:o.aws_project_region,header:{}})),void 0!==o.graphql_headers&&"function"!=typeof o.graphql_headers&&(OA.warn("graphql_headers should be a function"),o.graphql_headers=void 0),this._options=Object.assign({},this._options,o),this.createInstance(),this._options},e.prototype.createInstance=function(){return OA.debug("create Rest instance"),this._options?(this._api=new gS(this._options),this._api.Credentials=this.Credentials,!0):Promise.reject("API not configured")},e.prototype._headerBasedAuth=function(e,t){return void 0===t&&(t={}),IA(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return TA(this,(function(l){switch(l.label){case 0:switch(n=this._options,r=n.aws_appsync_authenticationType,i=n.aws_appsync_apiKey,o={},e||r||"AWS_IAM"){case"API_KEY":return[3,1];case"AWS_IAM":return[3,2];case"OPENID_CONNECT":return[3,4];case"AMAZON_COGNITO_USER_POOLS":return[3,11];case"AWS_LAMBDA":return[3,15]}return[3,16];case 1:if(!i)throw new Error(vA.NO_API_KEY);return o={Authorization:null,"X-Api-Key":i},[3,17];case 2:return[4,this._ensureCredentials()];case 3:if(!l.sent())throw new Error(vA.NO_CREDENTIALS);return[3,17];case 4:return l.trys.push([4,9,,10]),s=void 0,[4,pl.getItem("federatedInfo")];case 5:return(a=l.sent())?(s=a.token,[3,8]):[3,6];case 6:return[4,rl.currentAuthenticatedUser()];case 7:(u=l.sent())&&(s=u.token),l.label=8;case 8:if(!s)throw new Error(vA.NO_FEDERATED_JWT);return o={Authorization:s},[3,10];case 9:throw l.sent(),new Error(vA.NO_CURRENT_USER);case 10:return[3,17];case 11:return l.trys.push([11,13,,14]),[4,this.Auth.currentSession()];case 12:return c=l.sent(),o={Authorization:c.getAccessToken().getJwtToken()},[3,14];case 13:throw l.sent(),new Error(vA.NO_CURRENT_USER);case 14:return[3,17];case 15:if(!t.Authorization)throw new Error(vA.NO_AUTH_TOKEN);return o={Authorization:t.Authorization},[3,17];case 16:return o={Authorization:null},[3,17];case 17:return[2,o]}}))}))},e.prototype.getGraphqlOperationType=function(e){var t=wE(e).definitions;return kA(t,1)[0].operation},e.prototype.graphql=function(e,t){var n=e.query,r=e.variables,i=void 0===r?{}:r,o=e.authMode,s=e.authToken,a=wE("string"==typeof n?n:IE(n)),u=kA(a.definitions.filter((function(e){return"OperationDefinition"===e.kind})),1)[0],c=(void 0===u?{}:u).operation,l=t||{};switch(s&&(l.Authorization=s),c){case"query":case"mutation":var f=this._api.getCancellableToken(),d={cancellableToken:f},h=this._graphql({query:a,variables:i,authMode:o},l,d);return this._api.updateRequestToBeCancellable(h,f),h;case"subscription":return this._graphqlSubscribe({query:a,variables:i,authMode:o},l);default:throw new Error("invalid operation type: "+c)}},e.prototype._graphql=function(e,t,n){var r=e.query,i=e.variables,o=e.authMode;return void 0===t&&(t={}),void 0===n&&(n={}),IA(this,void 0,void 0,(function(){var e,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_;return TA(this,(function(x){switch(x.label){case 0:return this._api?[3,2]:[4,this.createInstance()];case 1:x.sent(),x.label=2;case 2:return e=this._options,s=e.aws_appsync_region,a=e.aws_appsync_graphqlEndpoint,u=e.graphql_headers,c=void 0===u?function(){return{}}:u,l=e.graphql_endpoint,f=e.graphql_endpoint_iam_region,h=[{}],(p=!l)?[4,this._headerBasedAuth(o,t)]:[3,4];case 3:p=x.sent(),x.label=4;case 4:return g=[xA.apply(void 0,h.concat([p]))],(v=l)?f?[4,this._headerBasedAuth(o,t)]:[3,6]:[3,8];case 5:return y=x.sent(),[3,7];case 6:y={Authorization:null},x.label=7;case 7:v=y,x.label=8;case 8:return m=[xA.apply(void 0,g.concat([v]))],[4,c({query:r,variables:i})];case 9:if(d=xA.apply(void 0,[xA.apply(void 0,[xA.apply(void 0,m.concat([x.sent()])),t]),!l&&(_={},_["x-amz-user-agent"]=uu.userAgent,_)]),b={query:IE(r),variables:i},w=Object.assign({headers:d,body:b,signerServiceInfo:{service:l?"execute-api":"appsync",region:l?f:s}},n),!(S=l||a))throw{data:{},errors:[new zS("No graphql endpoint provided.")]};x.label=10;case 10:return x.trys.push([10,12,,13]),[4,this._api.post(S,w)];case 11:return E=x.sent(),[3,13];case 12:if(A=x.sent(),this._api.isCancel(A))throw A;return E={data:{},errors:[new zS(A.message,null,null,null,null,A)]},[3,13];case 13:if((C=E.errors)&&C.length)throw E;return[2,E]}}))}))},e.prototype.isCancel=function(e){return this._api.isCancel(e)},e.prototype.cancel=function(e,t){return this._api.cancel(e,t)},e.prototype._graphqlSubscribe=function(e,t){var n=e.query,r=e.variables,i=e.authMode,o=e.authToken;void 0===t&&(t={});var s=this._options,a=s.aws_appsync_region,u=s.aws_appsync_graphqlEndpoint,c=s.aws_appsync_authenticationType,l=s.aws_appsync_apiKey,f=s.graphql_headers,d=void 0===f?function(){return{}}:f,h=i||c||"AWS_IAM";if(_A&&"function"==typeof _A.subscribe)return _A.subscribe("",{provider:au,appSyncGraphqlEndpoint:u,authenticationType:h,apiKey:l,query:IE(n),region:a,variables:r,graphql_headers:d,additionalHeaders:t,authToken:o});throw OA.debug("No pubsub module applied for subscription"),new Error("No pubsub module applied for subscription")},e.prototype._ensureCredentials=function(){var e=this;return this.Credentials.get().then((function(t){if(!t)return!1;var n=e.Credentials.shear(t);return OA.debug("set credentials for api",n),!0})).catch((function(e){return OA.warn("ensure credentials error",e),!1}))},e}(),MA=new NA(null);ae.register(MA);var LA=function(){return LA=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},LA.apply(this,arguments)},RA=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},UA=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},DA=new ie("API"),BA=function(){function e(e){this.Auth=rl,this.Cache=pl,this.Credentials=Ka,this._options=e,this._restApi=new SS(e),this._graphqlApi=new NA(e),DA.debug("API Options",this._options)}return e.prototype.getModuleName=function(){return"API"},e.prototype.configure=function(e){this._options=Object.assign({},this._options,e),this._restApi.Credentials=this.Credentials,this._graphqlApi.Auth=this.Auth,this._graphqlApi.Cache=this.Cache,this._graphqlApi.Credentials=this.Credentials;var t=this._restApi.configure(this._options),n=this._graphqlApi.configure(this._options);return LA(LA({},t),n)},e.prototype.get=function(e,t,n){return this._restApi.get(e,t,n)},e.prototype.post=function(e,t,n){return this._restApi.post(e,t,n)},e.prototype.put=function(e,t,n){return this._restApi.put(e,t,n)},e.prototype.patch=function(e,t,n){return this._restApi.patch(e,t,n)},e.prototype.del=function(e,t,n){return this._restApi.del(e,t,n)},e.prototype.head=function(e,t,n){return this._restApi.head(e,t,n)},e.prototype.isCancel=function(e){return this._restApi.isCancel(e)},e.prototype.cancel=function(e,t){return this._restApi.cancel(e,t)},e.prototype.endpoint=function(e){return RA(this,void 0,void 0,(function(){return UA(this,(function(t){return[2,this._restApi.endpoint(e)]}))}))},e.prototype.getGraphqlOperationType=function(e){return this._graphqlApi.getGraphqlOperationType(e)},e.prototype.graphql=function(e,t){return this._graphqlApi.graphql(e,t)},e}(),jA=new BA(null);ae.register(jA);var FA=jA;function zA(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=PC[e],o=i?"function"==typeof i?i.apply(null,n):i:"unknown error nr: "+e;throw Error("[Immer] "+o)}function KA(e){return!!e&&!!e[TC]}function qA(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===kC}(e)||Array.isArray(e)||!!e[IC]||!!e.constructor[IC]||ZA(e)||QA(e))}function HA(e,t,n){void 0===n&&(n=!1),0===VA(e)?(n?Object.keys:OC)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function VA(e){var t=e[TC];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ZA(e)?2:QA(e)?3:0}function WA(e,t){return 2===VA(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function GA(e,t){return 2===VA(e)?e.get(t):e[t]}function JA(e,t,n){var r=VA(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function ZA(e){return AC&&e instanceof Map}function QA(e){return CC&&e instanceof Set}function YA(e){return e.o||e.t}function XA(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=NC(e);delete t[TC];for(var n=OC(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function $A(e,t){return void 0===t&&(t=!1),tC(e)||KA(e)||!qA(e)||(VA(e)>1&&(e.set=e.add=e.clear=e.delete=eC),Object.freeze(e),t&&HA(e,(function(e,t){return $A(t,!0)}),!0)),e}function eC(){zA(2)}function tC(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function nC(e){var t=MC[e];return t||zA(18,e),t}function rC(){return SC||zA(0),SC}function iC(e,t){t&&(nC("Patches"),e.u=[],e.s=[],e.v=t)}function oC(e){sC(e),e.p.forEach(uC),e.p=null}function sC(e){e===SC&&(SC=e.l)}function aC(e){return SC={p:[],l:SC,h:e,m:!0,_:0}}function uC(e){var t=e[TC];0===t.i||1===t.i?t.j():t.O=!0}function cC(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||nC("ES5").S(t,e,r),r?(n[TC].P&&(oC(t),zA(4)),qA(e)&&(e=lC(t,e),t.l||dC(t,e)),t.u&&nC("Patches").M(n[TC],e,t.u,t.s)):e=lC(t,n,[]),oC(t),t.u&&t.v(t.u,t.s),e!==xC?e:void 0}function lC(e,t,n){if(tC(t))return t;var r=t[TC];if(!r)return HA(t,(function(i,o){return fC(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return dC(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=XA(r.k):r.o;HA(3===r.i?new Set(i):i,(function(t,o){return fC(e,r,i,t,o,n)})),dC(e,i,!1),n&&e.u&&nC("Patches").R(r,n,e.u,e.s)}return r.o}function fC(e,t,n,r,i,o){if(i===n&&zA(5),KA(i)){var s=lC(e,i,o&&t&&3!==t.i&&!WA(t.D,r)?o.concat(r):void 0);if(JA(n,r,s),!KA(s))return;e.m=!1}if(qA(i)&&!tC(i)){if(!e.h.F&&e._<1)return;lC(e,i),t&&t.A.l||dC(e,i)}}function dC(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&$A(t,n)}function hC(e,t){var n=e[TC];return(n?YA(n):e)[t]}function pC(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function gC(e){e.P||(e.P=!0,e.l&&gC(e.l))}function vC(e){e.o||(e.o=XA(e.t))}function yC(e,t,n){var r=ZA(t)?nC("MapSet").N(t,n):QA(t)?nC("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:rC(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=LC;n&&(i=[r],o=RC);var s=Proxy.revocable(i,o),a=s.revoke,u=s.proxy;return r.k=u,r.j=a,u}(t,n):nC("ES5").J(t,n);return(n?n.A:rC()).p.push(r),r}function mC(e){return KA(e)||zA(22,e),function e(t){if(!qA(t))return t;var n,r=t[TC],i=VA(t);if(r){if(!r.P&&(r.i<4||!nC("ES5").K(r)))return r.t;r.I=!0,n=bC(t,i),r.I=!1}else n=bC(t,i);return HA(n,(function(t,i){r&&GA(r.t,t)===i||JA(n,t,e(i))})),3===i?new Set(n):n}(e)}function bC(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return XA(e)}var wC,SC,EC="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),AC="undefined"!=typeof Map,CC="undefined"!=typeof Set,_C="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,xC=EC?Symbol.for("immer-nothing"):((wC={})["immer-nothing"]=!0,wC),IC=EC?Symbol.for("immer-draftable"):"__$immer_draftable",TC=EC?Symbol.for("immer-state"):"__$immer_state",PC={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},kC=""+Object.prototype.constructor,OC="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,NC=Object.getOwnPropertyDescriptors||function(e){var t={};return OC(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},MC={},LC={get:function(e,t){if(t===TC)return e;var n=YA(e);if(!WA(n,t))return function(e,t,n){var r,i=pC(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!qA(r)?r:r===hC(e.t,t)?(vC(e),e.o[t]=yC(e.A.h,r,e)):r},has:function(e,t){return t in YA(e)},ownKeys:function(e){return Reflect.ownKeys(YA(e))},set:function(e,t,n){var r=pC(YA(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=hC(YA(e),t),o=null==i?void 0:i[TC];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,i)&&(void 0!==n||WA(e.t,t)))return!0;vC(e),gC(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==hC(e.t,t)||t in e.t?(e.D[t]=!1,vC(e),gC(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=YA(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){zA(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){zA(12)}},RC={};HA(LC,(function(e,t){RC[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),RC.deleteProperty=function(e,t){return isNaN(parseInt(t))&&zA(13),LC.deleteProperty.call(this,e[0],t)},RC.set=function(e,t,n){return"length"!==t&&isNaN(parseInt(t))&&zA(14),LC.set.call(this,e[0],t,n,e[0])};var UC=function(){function e(e){var t=this;this.g=_C,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&zA(6),void 0!==r&&"function"!=typeof r&&zA(7),qA(e)){var a=aC(t),u=yC(t,e,void 0),c=!0;try{s=n(u),c=!1}finally{c?oC(a):sC(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return iC(a,r),cC(e,a)}),(function(e){throw oC(a),e})):(iC(a,r),cC(s,a))}if(!e||"object"!=typeof e){if((s=n(e))===xC)return;return void 0===s&&(s=e),t.F&&$A(s,!0),s}zA(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){qA(e)||zA(8),KA(e)&&(e=mC(e));var t=aC(this),n=yC(this,e,void 0);return n[TC].C=!0,sC(t),n},t.finishDraft=function(e,t){var n=e&&e[TC];n&&n.C||zA(9),n.I&&zA(10);var r=n.A;return iC(r,t),cC(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!_C&&zA(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var i=nC("Patches").$;return KA(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}(),DC=new UC,BC=DC.produce;DC.produceWithPatches.bind(DC);var jC=DC.setAutoFreeze.bind(DC);DC.setUseProxies.bind(DC),DC.applyPatches.bind(DC),DC.createDraft.bind(DC),DC.finishDraft.bind(DC);for(var FC=Fe((function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}})),zC=[],KC=0;KC<256;++KC)zC[KC]=(KC+256).toString(16).substr(1);var qC,HC,VC=function(e,t){var n=t||0,r=zC;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")},WC=0,GC=0;var JC=function(e,t,n){var r=t&&n||0,i=t||[],o=(e=e||{}).node||qC,s=void 0!==e.clockseq?e.clockseq:HC;if(null==o||null==s){var a=FC();null==o&&(o=qC=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==s&&(s=HC=16383&(a[6]<<8|a[7]))}var u=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:GC+1,l=u-WC+(c-GC)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||u>WC)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");WC=u,GC=c,HC=s;var f=(1e4*(268435455&(u+=122192928e5))+c)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=255&f;var d=u/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=255&d,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var h=0;h<6;++h)i[r+h]=o[h];return t||VC(i)};var ZC=function(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||FC)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||VC(i)},QC=ZC;QC.v1=JC,QC.v4=ZC;var YC=QC,XC=function(){return[]};function $C(e){var t=new Error(e);return t.source="ulid",t}var e_,t_="0123456789ABCDEFGHJKMNPQRSTVWXYZ",n_=t_.length,r_=Math.pow(2,48)-1;function i_(e,t,n){return t>e.length-1?e:e.substr(0,t)+n+e.substr(t+1)}function o_(e){var t=Math.floor(e()*n_);return t===n_&&(t=n_-1),t_.charAt(t)}function s_(e,t){if(isNaN(e))throw new Error(e+" must be a number");if(e>r_)throw $C("cannot encode time greater than "+r_);if(e<0)throw $C("time must be positive");if(!1===Number.isInteger(e))throw $C("time must be an integer");for(var n=void 0,r="";t>0;t--)r=t_.charAt(n=e%n_)+r,e=(e-n)/n_;return r}function a_(e,t){for(var n="";e>0;e--)n=o_(t)+n;return n}function u_(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];t||(t="undefined"!=typeof window?window:null);var n=t&&(t.crypto||t.msCrypto);if(n)return function(){var e=new Uint8Array(1);return n.getRandomValues(e),e[0]/255};try{var r=require("crypto");return function(){return r.randomBytes(1).readUInt8()/255}}catch(e){}if(e){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch(e){}return function(){return Math.random()}}throw $C("secure crypto unusable, insecure Math.random not allowed")}function c_(e){e||(e=u_());var t=0,n=void 0;return function(r){if(isNaN(r)&&(r=Date.now()),r<=t){var i=n=function(e){for(var t=void 0,n=e.length,r=void 0,i=void 0,o=n_-1;!t&&n-- >=0;){if(r=e[n],-1===(i=t_.indexOf(r)))throw $C("incorrectly encoded string");i!==o?t=i_(e,n,t_[i+1]):e=i_(e,n,t_[0])}if("string"==typeof t)return t;throw $C("cannot increment this string")}(n);return s_(t,10)+i}t=r;var o=n=a_(16,e);return s_(r,10)+o}}e_||(e_=u_());var l_=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f_=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},d_=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},h_=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d_(arguments[t]));return e},p_=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},g_=function(e,t){if(void 0===t&&(t=!0),t)throw new Error("Invalid "+e)},v_=function(e){return void 0===e||null==e},y_=function(e,t,n){var r,i=!1;if(0===n.length)return!0;switch(t){case"not":r="every",i=!0;break;case"and":r="every";break;case"or":r="some";break;default:g_(t)}var o=n[r]((function(t){if(lx(t)){var n=t.field,r=t.operator,i=t.operand,o=e[n];return m_(o,r,i)}if((u=t)&&void 0!==u.type){var s=t.type,a=t.predicates;return y_(e,s,a)}var u;throw new Error("Not a predicate or group")}));return i?!o:o},m_=function(e,t,n){switch(t){case"ne":return e!==n;case"eq":return e===n;case"le":return e<=n;case"lt":return e<n;case"ge":return e>=n;case"gt":return e>n;case"between":var r=d_(n,2),i=r[0],o=r[1];return e>=i&&e<=o;case"beginsWith":return!v_(e)&&e.startsWith(n);case"contains":return!v_(e)&&e.indexOf(n)>-1;case"notContains":return v_(e)||-1===e.indexOf(n);default:return g_(t,!1),!1}},b_=function(e){return e&&"function"==typeof e.copyOf},w_=new WeakSet;var S_,E_=function(e){var t={},n={};return Object.keys(e.models).forEach((function(r){var i,o,s,a;t[r]={indexes:[],relationTypes:[]},n[r]={};var u,c,l,f=e.models[r];if(Object.keys(f.fields).forEach((function(e){var n=f.fields[e];if("object"==typeof n.type&&"model"in n.type){var i=n.association.connectionType;t[r].relationTypes.push({fieldName:n.name,modelName:n.type.model,relationType:i,targetName:n.association.targetName,associatedWith:n.association.associatedWith}),"BELONGS_TO"===i&&t[r].indexes.push(n.association.targetName)}})),f.attributes){n[r].compositeKeys=(u=f.attributes,c=function(e){return e.reduce((function(e,t){var n=new Set(t);if(0===e.length)return e.push(n),e;var r=e.findIndex((function(e){return h_(e).some((function(e){return n.has(e)}))}));if(r>-1){var i=new Set(h_(e[r],n));e[r]=i}else e.push(n);return e}),[])},l=c(u.filter(sx).map((function(e){return d_(e.properties.fields).slice(1)}))),c(l));try{for(var d=p_(f.attributes),h=d.next();!h.done;h=d.next()){var p=h.value;if(ix(p)){ox(p)&&(n[r].primaryKey=p.properties.fields);var g=p.properties.fields;try{for(var v=(s=void 0,p_(g)),y=v.next();!y.done;y=v.next()){var m=y.value;t[r].indexes.includes(m)||t[r].indexes.push(m)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}}}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}}})),[t,n]},A_=new WeakMap,C_=function(e,t,n,r,i){var o=n.relationships,s=i(n.name,e),a=o[e],u=[],c=s.copyOf(t,(function(e){a.relationTypes.forEach((function(o){var s=i(n.name,o.modelName);switch(o.relationType){case"HAS_ONE":if(t[o.fieldName]){var a=void 0;try{a=r(s,t[o.fieldName])}catch(e){console.log(e)}u.push({modelName:o.modelName,item:t[o.fieldName],instance:a}),o.targetName?(e[o.targetName]=e[o.fieldName].id,delete e[o.fieldName]):e[o.fieldName]=e[o.fieldName].id}break;case"BELONGS_TO":if(t[o.fieldName]){a=void 0;try{a=r(s,t[o.fieldName])}catch(e){}e[o.fieldName]._deleted||u.push({modelName:o.modelName,item:t[o.fieldName],instance:a})}e[o.fieldName]&&(e[o.targetName]=e[o.fieldName].id,delete e[o.fieldName]);break;case"HAS_MANY":break;default:g_(o.relationType)}}))}));u.unshift({modelName:e,item:c,instance:c}),A_.has(n)||A_.set(n,Array.from(n.modelTopologicalOrdering.keys()));var l=A_.get(n);return u.sort((function(e,t){return l.indexOf(e.modelName)-l.indexOf(t.modelName)})),u},__=function(e,t){var n="";return e.some((function(e){e.modelName===t&&(n=e.targetName)})),n},x_=function(e,t){return e.find((function(e){return e===t}))};!function(e){e.DATASTORE="datastore",e.USER="user",e.SYNC="sync",e.STORAGE="storage"}(S_||(S_={}));var I_,T_=S_.DATASTORE,P_=S_.USER,k_=S_.SYNC,O_=S_.STORAGE,N_=function(){return(e=1,sA.Buffer.from((new Uu).random(e).toString(),"hex")).readUInt8(0)/255;var e};function M_(e){var t=c_(N_);return function(){return t(e)}}function L_(){return"undefined"!=typeof performance&&performance&&"function"==typeof performance.now?0|performance.now():Date.now()}function R_(e){return function(t,n){var r,i;try{for(var o=p_(e),s=o.next();!s.done;s=o.next()){var a=s.value,u=a.field,c=a.sortDirection===K_.ASCENDING?1:-1;if(t[u]<n[u])return-1*c;if(t[u]>n[u])return 1*c}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return 0}}function U_(e,t,n){var r,i;void 0===n&&(n=!1);var o,s,a=e,u=t;if(a instanceof Object&&!(u instanceof Object)||!(a instanceof Object)&&u instanceof Object)return!1;if(!(a instanceof Object))return!(!n||(o=a,s=u,null!=o||null!=s))||a===u;if(Array.isArray(a)&&!Array.isArray(u)||Array.isArray(u)&&!Array.isArray(a))return!1;a instanceof Set&&u instanceof Set&&(a=h_(a),u=h_(u)),a instanceof Map&&u instanceof Map&&(a=Object.fromEntries(a),u=Object.fromEntries(u));var c=Object.keys(a),l=Object.keys(u);if(c.length!==l.length&&(!n||Array.isArray(a)))return!1;var f=c.length>=l.length?c:l;try{for(var d=p_(f),h=d.next();!h.done;h=d.next()){var p=h.value;if(!U_(a[p],u[p],n))return!1}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}return!0}var D_,B_,j_,F_,z_,K_,q_,H_,V_=function(e){return!!/^\d{4}-\d{2}-\d{2}(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},W_=function(e){return!!/^\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},G_=function(e){return!!/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}(:\d{2}(.\d+)?)?(Z|[+-]\d{2}:\d{2}($|:\d{2}))?$/.exec(e)},J_=function(e){return!!/^\d+$/.exec(String(e))},Z_=function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.exec(e)},Q_=function(e){try{return JSON.parse(e),!0}catch(e){return!1}},Y_=function(e){try{return!!new URL(e)}catch(e){return!1}},X_=function(e){return!!/^\+?\d[\d\s-]+$/.exec(e)},$_=function(e){return!!/((^((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))$)|(^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$))$/.exec(e)},ex=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},tx=function(){function e(e){this.limitPromise=new ex,this.raceInFlight=!1,this.callback=function(){},this.defaultErrorHandler=function(e){throw void 0===e&&(e="DeferredCallbackResolver error"),new Error(e)},this.callback=e.callback,this.errorHandler=e.errorHandler||this.defaultErrorHandler,this.maxInterval=e.maxInterval||2e3}return e.prototype.startTimer=function(){var e=this;this.timerPromise=new Promise((function(t,n){e.timer=setTimeout((function(){t(fx.TIMER)}),e.maxInterval)}))},e.prototype.racePromises=function(){return l_(this,void 0,void 0,(function(){var e,t;return f_(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),this.raceInFlight=!0,this.startTimer(),[4,Promise.race([this.timerPromise,this.limitPromise.promise])];case 1:return e=n.sent(),this.callback(),[3,4];case 2:return t=n.sent(),this.errorHandler(t),[3,4];case 3:return this.clear(),this.raceInFlight=!1,this.limitPromise=new ex,[2,e];case 4:return[2]}}))}))},e.prototype.start=function(){this.raceInFlight||this.racePromises()},e.prototype.clear=function(){clearTimeout(this.timer)},e.prototype.resolve=function(){this.limitPromise.resolve(fx.LIMIT)},e}();function nx(e){return e&&void 0!==e.pluralName}function rx(e){return e&&e.targetName}function ix(e){return"key"===e.type&&e.properties&&e.properties.fields&&e.properties.fields.length>0}function ox(e){return ix(e)&&void 0===e.properties.name}function sx(e){return ix(e)&&void 0!==e.properties.name&&e.properties.fields.length>2}function ax(e){return e&&void 0!==j_[e]}function ux(e){return!(!e||!e.model)}function cx(e){return!(!e||!e.nonModel)}function lx(e){return e&&void 0!==e.field}!function(e){e.CUSTOM="custom",e.OWNER="owner",e.GROUPS="groups",e.PRIVATE="private",e.PUBLIC="public"}(D_||(D_={})),function(e){e.FUNCTION="function",e.USER_POOLS="userPools",e.OIDC="oidc",e.IAM="iam",e.API_KEY="apiKey"}(B_||(B_={})),function(e){e[e.ID=0]="ID",e[e.String=1]="String",e[e.Int=2]="Int",e[e.Float=3]="Float",e[e.Boolean=4]="Boolean",e[e.AWSDate=5]="AWSDate",e[e.AWSTime=6]="AWSTime",e[e.AWSDateTime=7]="AWSDateTime",e[e.AWSTimestamp=8]="AWSTimestamp",e[e.AWSEmail=9]="AWSEmail",e[e.AWSJSON=10]="AWSJSON",e[e.AWSURL=11]="AWSURL",e[e.AWSPhone=12]="AWSPhone",e[e.AWSIPAddress=13]="AWSIPAddress"}(j_||(j_={})),function(e){e.getJSType=function(e){switch(e){case"Boolean":return"boolean";case"ID":case"String":case"AWSDate":case"AWSTime":case"AWSDateTime":case"AWSEmail":case"AWSURL":case"AWSPhone":case"AWSIPAddress":return"string";case"Int":case"Float":case"AWSTimestamp":return"number";case"AWSJSON":return"object";default:g_(e)}},e.getValidationFunction=function(e){switch(e){case"AWSDate":return V_;case"AWSTime":return W_;case"AWSDateTime":return G_;case"AWSTimestamp":return J_;case"AWSEmail":return Z_;case"AWSJSON":return Q_;case"AWSURL":return Y_;case"AWSPhone":return X_;case"AWSIPAddress":return $_;default:return}}}(j_||(j_={})),function(e){e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(F_||(F_={})),function(e){e[e.FIRST=0]="FIRST",e[e.LAST=1]="LAST"}(z_||(z_={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(K_||(K_={})),function(e){e.DEFAULT="DEFAULT",e.MULTI_AUTH="MULTI_AUTH"}(q_||(q_={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(H_||(H_={}));var fx,dx=Symbol("DISCARD");!function(e){e.LIMIT="LIMIT",e.TIMER="TIMER"}(fx||(fx={}));var hx=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},px=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},gx=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},vx=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gx(arguments[t]));return e};function yx(e){return"private"!==e.allow||e.provider?"public"!==e.allow||e.provider?e.provider:B_.API_KEY:B_.USER_POOLS}function mx(e){var t=e.rules,n=e.currentUser,r=new Set;return t.forEach((function(e){switch(e.allow){case D_.CUSTOM:e.provider&&e.provider!==B_.FUNCTION||r.add($a.AWS_LAMBDA);break;case D_.GROUPS:case D_.OWNER:n&&(e.provider===B_.USER_POOLS?r.add($a.AMAZON_COGNITO_USER_POOLS):e.provider===B_.OIDC&&r.add($a.OPENID_CONNECT));break;case D_.PRIVATE:n&&(e.provider&&e.provider!==B_.USER_POOLS?e.provider===B_.IAM&&r.add($a.AWS_IAM):r.add($a.AMAZON_COGNITO_USER_POOLS));break;case D_.PUBLIC:e.provider===B_.IAM?r.add($a.AWS_IAM):e.provider&&e.provider!==B_.API_KEY||r.add($a.API_KEY)}})),Array.from(r)}var bx=function(e){var t=e.schema,n=e.modelName;return hx(void 0,void 0,void 0,(function(){var e,r,i,o;return px(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,rl.currentAuthenticatedUser()];case 1:return e=s.sent(),[3,3];case 2:return s.sent(),[3,3];case 3:return(r=t.namespaces.user.models[n].attributes)&&(i=r.find((function(e){return"auth"===e.type})),i.properties&&i.properties.rules)?(a=i.properties.rules,u=[D_.CUSTOM,D_.OWNER,D_.GROUPS,D_.PRIVATE,D_.PUBLIC],c=[B_.FUNCTION,B_.USER_POOLS,B_.OIDC,B_.IAM,B_.API_KEY],o=vx(a).sort((function(e,t){return e.allow===t.allow?c.indexOf(yx(e))-c.indexOf(yx(t)):u.indexOf(e.allow)-u.indexOf(t.allow)})),[2,mx({currentUser:e,rules:o})]):[2,[]]}var a,u,c}))}))},wx=function(){function e(){}return e.createPredicateBuilder=function(t){var n=t.name,r=new Set(Object.keys(t.fields)),i=new Proxy({},{get:function(t,i,o){var s=i;if(!r.has(s))throw new Error("Invalid field for model. field: "+s+", model: "+n);return function(t){return e.sortPredicateGroupsMap.get(o).push({field:s,sortDirection:t}),o}}});return e.sortPredicateGroupsMap.set(i,[]),i},e.isValidPredicate=function(t){return e.sortPredicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.sortPredicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.sortPredicateGroupsMap=new WeakMap,e}(),Sx=new WeakSet;function Ex(e){return Sx.has(e)}!function(){function e(){}Object.defineProperty(e,"ALL",{get:function(){var e=function(e){return e};return Sx.add(e),e},enumerable:!0,configurable:!0})}();var Ax,Cx,_x=function(){function e(){}return e.createPredicateBuilder=function(t){var n,r=t.name,i=new Set(Object.keys(t.fields)),o=new Proxy({},n={get:function(t,o,s){var a=o;switch(a){case"and":case"or":case"not":return function(t){var r={type:a,predicates:[]},i=new Proxy({},n);return e.predicateGroupsMap.set(i,r),t(i),e.predicateGroupsMap.get(s).predicates.push(r),s};default:g_(a,!1)}var u=o;if(!i.has(u))throw new Error("Invalid field for model. field: "+u+", model: "+r);return function(t,n){return e.predicateGroupsMap.get(s).predicates.push({field:u,operator:t,operand:n}),s}}});return e.predicateGroupsMap.set(o,{type:"and",predicates:[]}),o},e.isValidPredicate=function(t){return e.predicateGroupsMap.has(t)},e.getPredicates=function(t,n){if(void 0===n&&(n=!0),n&&!e.isValidPredicate(t))throw new Error("The predicate is not valid");return e.predicateGroupsMap.get(t)},e.createFromExisting=function(t,n){if(n&&t)return n(e.createPredicateBuilder(t))},e.createForId=function(t,n){return e.createPredicateBuilder(t).id("eq",n)},e.predicateGroupsMap=new WeakMap,e}(),xx=Fe((function(e,t){!function(e,t){function n(e){return"function"==typeof Symbol&&Boolean(Symbol[e])}function r(e){return n(e)?Symbol[e]:"@@"+e}function i(e){setTimeout((function(){throw e}))}function o(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function s(e){var t=e.constructor;return void 0!==t&&null===(t=t[r("species")])&&(t=void 0),void 0!==t?t:p}function a(e,t){Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);r.enumerable=!1,Object.defineProperty(e,n,r)}))}function u(e){var t=e._cleanup;if(t){e._cleanup=void 0;try{t()}catch(e){i(e)}}}function c(e){return void 0===e._observer}function l(e){c(e)||(e._observer=void 0,u(e))}function f(e){return function(){e.unsubscribe()}}function d(e,t){if(Object(e)!==e)throw new TypeError("Observer must be an object");this._cleanup=void 0,this._observer=e;try{var n=o(e,"start");n&&n.call(e,this)}catch(e){i(e)}if(!c(this)){e=new h(this);try{var r=t.call(void 0,e);if(null!=r){if("function"==typeof r.unsubscribe)r=f(r);else if("function"!=typeof r)throw new TypeError(r+" is not a function");this._cleanup=r}}catch(t){return void e.error(t)}c(this)&&u(this)}}function h(e){this._subscription=e}function p(e){if(!(this instanceof p))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}"function"!=typeof Symbol||Symbol.observable||(Symbol.observable=Symbol("observable")),a(d.prototype={},{get closed(){return c(this)},unsubscribe:function(){l(this)}}),a(h.prototype={},{get closed(){return c(this._subscription)},next:function(e){var t=this._subscription;if(!c(t)){var n=t._observer;try{var r=o(n,"next");r&&r.call(n,e)}catch(e){i(e)}}},error:function(e){var t=this._subscription;if(c(t))i(e);else{var n=t._observer;t._observer=void 0;try{var r=o(n,"error");if(!r)throw e;r.call(n,e)}catch(e){i(e)}u(t)}},complete:function(){var e=this._subscription;if(!c(e)){var t=e._observer;e._observer=void 0;try{var n=o(t,"complete");n&&n.call(t)}catch(e){i(e)}u(e)}}}),a(p.prototype,{subscribe:function(e){for(var t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return"function"==typeof e?e={next:e,error:t[0],complete:t[1]}:"object"==typeof e&&null!==e||(e={}),new d(e,this._subscriber)},forEach:function(e){var t=this;return new Promise((function(n,r){if("function"!=typeof e)return Promise.reject(new TypeError(e+" is not a function"));t.subscribe({_subscription:null,start:function(e){if(Object(e)!==e)throw new TypeError(e+" is not an object");this._subscription=e},next:function(t){var n=this._subscription;if(!n.closed)try{e(t)}catch(e){r(e),n.unsubscribe()}},error:r,complete:n})}))},map:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{t=e(t)}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},filter:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))((function(n){return t.subscribe({next:function(t){if(!n.closed){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)}},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},reduce:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=s(this),r=arguments.length>1,i=!1,o=arguments[1];return new n((function(n){return t.subscribe({next:function(t){if(!n.closed){var s=!i;if(i=!0,!s||r)try{o=e(o,t)}catch(e){return n.error(e)}else o=t}},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(o),n.complete()}})}))}}),Object.defineProperty(p.prototype,r("observable"),{value:function(){return this},writable:!0,configurable:!0}),a(p,{from:function(e){var t="function"==typeof this?this:p;if(null==e)throw new TypeError(e+" is not an object");var i=o(e,r("observable"));if(i){var s=i.call(e);if(Object(s)!==s)throw new TypeError(s+" is not an object");return s.constructor===t?s:new t((function(e){return s.subscribe(e)}))}if(n("iterator")&&(i=o(e,r("iterator"))))return new t((function(t){for(var n,r=i.call(e)[Symbol.iterator]();!(n=r.next()).done;){var o=n.value;if(t.next(o),t.closed)return}t.complete()}));if(Array.isArray(e))return new t((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}));throw new TypeError(e+" is not observable")},of:function(){for(var e=[],t=0;t<arguments.length;++t)e.push(arguments[t]);return new("function"==typeof this?this:p)((function(t){for(var n=0;n<e.length;++n)if(t.next(e[n]),t.closed)return;t.complete()}))}}),Object.defineProperty(p,r("species"),{get:function(){return this},configurable:!0}),Object.defineProperty(p,"extensions",{value:{observableSymbol:r("observable"),setHostReportError:function(e){i=e}}}),e.Observable=p}(t)})),Ix=xx.Observable;function Tx(e,t,n){if(e._observer)Px(e._observer,t,n);else if(e._observers){var r=[];e._observers.forEach((function(e){r.push(e)})),r.forEach((function(e){Px(e,t,n)}))}}function Px(e,t,n){if(!e.closed)switch(t){case"next":return e.next(n);case"error":return e.error(n);case"complete":return e.complete(n)}}function kx(e){return e._observer||e._observers&&e._observers.size>0}function Ox(e){var t=this;this._observer=null,this._observers=null,this._observable=new Ix((function(n){return function(e,t){!kx(e)&&t&&t.start&&t.start()}(t,e),function(e,t){e._observers?e._observers.add(t):e._observer?(e._observers=new Set,e._observers.add(e._observer),e._observers.add(t),e._observer=null):e._observer=t}(t,n),function(){!function(e,t){e._observers?e._observers.delete(t):e._observer===t&&(e._observer=null)}(t,n),function(e,t){!kx(e)&&t&&t.pause&&t.pause()}(t,e)}}))}Ax=Ox.prototype,Cx={get observable(){return this._observable},get observed(){return kx(this)},next:function(e){Tx(this,"next",e)},error:function(e){Tx(this,"error",e)},complete:function(e){Tx(this,"complete",e)}},Object.keys(Cx).forEach((function(e){var t=Object.getOwnPropertyDescriptor(Cx,e);t.enumerable=!1,Object.defineProperty(Ax,e,t)}));var Nx=Ox;let Mx,Lx;const Rx=new WeakMap,Ux=new WeakMap,Dx=new WeakMap,Bx=new WeakMap,jx=new WeakMap;let Fx={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ux.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Dx.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qx(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zx(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Hx(this),t),qx(Rx.get(this))}:function(...t){return qx(e.apply(Hx(this),t))}:function(t,...n){const r=e.call(Hx(this),t,...n);return Dx.set(r,t.sort?t.sort():[t]),qx(r)}}function Kx(e){return"function"==typeof e?zx(e):(e instanceof IDBTransaction&&function(e){if(Ux.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Ux.set(e,t)}(e),t=e,(Mx||(Mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Fx):e);var t}function qx(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(qx(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Rx.set(t,e)})).catch((()=>{})),jx.set(t,e),t}(e);if(Bx.has(e))return Bx.get(e);const t=Kx(e);return t!==e&&(Bx.set(e,t),jx.set(t,e)),t}const Hx=e=>jx.get(e);function Vx(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=qx(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(qx(s.result),e.oldVersion,e.newVersion,qx(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}function Wx(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),qx(n).then((()=>{}))}const Gx=["get","getKey","getAll","getAllKeys","count"],Jx=["put","add","delete","clear"],Zx=new Map;function Qx(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Zx.get(t))return Zx.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Jx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Gx.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;r&&(s=s.index(t.shift()));const a=await s[n](...t);return i&&await o.done,a};return Zx.set(t,o),o}var Yx;Yx=e=>({...e,get:(t,n,r)=>Qx(t,n)||e.get(t,n,r),has:(t,n)=>!!Qx(t,n)||e.has(t,n)}),Fx=Yx(Fx);var Xx=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},$x=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},eI=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof tI?tI(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},tI=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},nI=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},rI=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(nI(arguments[t]));return e},iI=new ie("DataStore"),oI="amplify-datastore",sI=function(){function e(){this.dbName=oI}return e.prototype.checkPrivate=function(){return Xx(this,void 0,void 0,(function(){return $x(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e){var t,n=YC.v4(),r=function(){I_=!1,e(!0)},i=function(){return l_(void 0,void 0,void 0,(function(){return f_(this,(function(r){switch(r.label){case 0:return t&&t.result&&"function"==typeof t.result.close?[4,t.result.close()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[4,indexedDB.deleteDatabase(n)];case 3:return r.sent(),I_=!0,[2,e(!1)]}}))}))};return!0===I_?i():!1===I_||null===indexedDB?r():((t=indexedDB.open(n)).onerror=r,void(t.onsuccess=i))})).then((function(e){return e}))];case 1:return e.sent()?(iI.error("IndexedDB not supported in this browser's private mode"),[2,Promise.reject("IndexedDB not supported in this browser's private mode")]):[2,Promise.resolve()]}}))}))},e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r,i){return Xx(this,void 0,void 0,(function(){var o,s,a=this;return $x(this,(function(u){switch(u.label){case 0:return[4,this.checkPrivate()];case 1:return u.sent(),this.initPromise?[3,2]:(this.initPromise=new Promise((function(e,t){a.resolve=e,a.reject=t})),[3,4]);case 2:return[4,this.initPromise];case 3:u.sent(),u.label=4;case 4:i&&(this.dbName=oI+"-"+i),this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,u.label=5;case 5:return u.trys.push([5,8,,9]),this.db?[3,7]:(2,o=this,[4,Vx(this.dbName,2,{upgrade:function(t,n,r,i){return Xx(a,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h,p,g,v,y=this;return $x(this,(function(m){switch(m.label){case 0:if(0===n)return Object.keys(e.namespaces).forEach((function(n){var r=e.namespaces[n];Object.keys(r.models).forEach((function(e){var r=y.getStorename(n,e),i=t.createObjectStore(r,{autoIncrement:!0});y.schema.namespaces[n].relationships[e].indexes.forEach((function(e){return i.createIndex(e,e)})),i.createIndex("byId","id",{unique:!0})}))})),[2];if(1!==n||2!==r)return[3,16];m.label=1;case 1:m.trys.push([1,14,,15]),m.label=2;case 2:m.trys.push([2,11,12,13]),o=tI(i.objectStoreNames),s=o.next(),m.label=3;case 3:return s.done?[3,10]:(a=s.value,u=i.objectStore(a),c="tmp_"+a,u.name=c,(l=t.createObjectStore(a,{keyPath:void 0,autoIncrement:!0})).createIndex("byId","id",{unique:!0}),[4,u.openCursor()]);case 4:f=m.sent(),d=0,m.label=5;case 5:return f&&f.value?[4,l.put(f.value)]:[3,8];case 6:return m.sent(),[4,f.continue()];case 7:return f=m.sent(),d++,[3,5];case 8:t.deleteObjectStore(c),iI.debug(d+" "+a+" records migrated"),m.label=9;case 9:return s=o.next(),[3,3];case 10:return[3,13];case 11:return h=m.sent(),g={error:h},[3,13];case 12:try{s&&!s.done&&(v=o.return)&&v.call(o)}finally{if(g)throw g.error}return[7];case 13:return[3,15];case 14:throw p=m.sent(),iI.error("Error migrating IndexedDB data",p),i.abort(),p;case 15:case 16:return[2]}}))}))}})]);case 6:o.db=u.sent(),this.resolve(),u.label=7;case 7:return[3,9];case 8:return s=u.sent(),this.reject(s),[3,9];case 9:return[2]}}))}))},e.prototype._get=function(e,t){return Xx(this,void 0,void 0,(function(){var n,r;return $x(this,(function(i){switch(i.label){case 0:return"string"==typeof e?(r=e,n=this.db.transaction(r,"readonly").store.index("byId")):n=e.index("byId"),[4,n.get(t)];case 1:return[2,i.sent()]}}))}))},e.prototype.save=function(e,t){var n,r;return Xx(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T,P,k=this;return $x(this,(function(O){switch(O.label){case 0:return[4,this.checkPrivate()];case 1:return O.sent(),i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),s=C_(i.name,e,this.schema.namespaces[this.namespaceResolver(i)],this.modelInstanceCreator,this.getModelConstructorByModelName),a=this.namespaceResolver(i),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=k.getStorename(a,t);return u.add(i),{storeName:i,item:n,instance:r}})),l=this.db.transaction(rI([o],Array.from(u.values())),"readwrite"),f=l.objectStore(o),[4,this._get(f,e.id)];case 2:if(d=O.sent(),t&&d&&(h=_x.getPredicates(t),p=h.predicates,g=h.type,!y_(d,g,p)))throw v="Conditional update failed",iI.error(v,{model:d,condition:p}),new Error(v);y=[],O.label=3;case 3:O.trys.push([3,11,12,17]),m=eI(c),O.label=4;case 4:return[4,m.next()];case 5:return(b=O.sent()).done?[3,10]:(w=b.value,S=w.storeName,E=w.item,A=w.instance,C=l.objectStore(S),_=E.id,[4,this._get(C,_)]);case 6:return x=O.sent(),I=void 0===x?F_.INSERT:F_.UPDATE,_!==e.id&&I!==F_.INSERT?[3,9]:[4,C.index("byId").getKey(E.id)];case 7:return T=O.sent(),[4,C.put(E,T)];case 8:O.sent(),y.push([A,I]),O.label=9;case 9:return[3,4];case 10:return[3,17];case 11:return P=O.sent(),n={error:P},[3,17];case 12:return O.trys.push([12,,15,16]),b&&!b.done&&(r=m.return)?[4,r.call(m)]:[3,14];case 13:O.sent(),O.label=14;case 14:return[3,16];case 15:if(n)throw n.error;return[7];case 16:return[7];case 17:return[4,l.done];case 18:return O.sent(),[2,y]}}))}))},e.prototype.load=function(e,t,n){var r,i,o,s,a,u,c,l,f,d;return Xx(this,void 0,void 0,(function(){var h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T,P,k,O,N,M=this;return $x(this,(function(L){switch(L.label){case 0:if(h=this.schema.namespaces[e],p=h.relationships[t].relationTypes,g=p.map((function(t){var n=t.modelName;return M.getStorename(e,n)})),v=this.getModelConstructorByModelName(e,t),0===g.length)return[2,n.map((function(e){return M.modelInstanceCreator(v,e)}))];y=this.db.transaction(rI(g),"readonly"),L.label=1;case 1:L.trys.push([1,34,35,40]),m=eI(p),L.label=2;case 2:return[4,m.next()];case 3:if((b=L.sent()).done)return[3,33];switch(w=b.value,S=w.fieldName,E=w.modelName,A=w.targetName,C=this.getStorename(e,E),_=y.objectStore(C),x=this.getModelConstructorByModelName(e,E),w.relationType){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:L.trys.push([4,10,11,16]),r=eI(n),L.label=5;case 5:return[4,r.next()];case 6:return(i=L.sent()).done?[3,9]:(P=i.value,I=P[A]?A:S,P[I]?[4,this._get(_,P[I])]:[3,9]);case 7:k=L.sent(),P[S]=k&&this.modelInstanceCreator(x,k),L.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return T=L.sent(),c={error:T},[3,16];case 11:return L.trys.push([11,,14,15]),i&&!i.done&&(l=r.return)?[4,l.call(r)]:[3,13];case 12:L.sent(),L.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:L.trys.push([17,23,24,29]),o=eI(n),L.label=18;case 18:return[4,o.next()];case 19:return(s=L.sent()).done?[3,22]:(P=s.value)[A]?[4,this._get(_,P[A])]:[3,21];case 20:k=L.sent(),P[S]=k&&this.modelInstanceCreator(x,k),delete P[A],L.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return O=L.sent(),f={error:O},[3,29];case 24:return L.trys.push([24,,27,28]),s&&!s.done&&(d=o.return)?[4,d.call(o)]:[3,26];case 25:L.sent(),L.label=26;case 26:return[3,28];case 27:if(f)throw f.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return g_(w.relationType),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return N=L.sent(),a={error:N},[3,40];case 35:return L.trys.push([35,,38,39]),b&&!b.done&&(u=m.return)?[4,u.call(m)]:[3,37];case 36:L.sent(),L.label=37;case 37:return[3,39];case 38:if(a)throw a.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return M.modelInstanceCreator(v,e)}))]}}))}))},e.prototype.query=function(e,t,n){return Xx(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l=this;return $x(this,(function(f){switch(f.label){case 0:return[4,this.checkPrivate()];case 1:return f.sent(),r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&_x.getPredicates(t),s=o&&this.idFromPredicate(o),a=n&&n.sort,u=n&&n.limit,[4,Xx(l,void 0,void 0,(function(){var e,t,i;return $x(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a?[4,this.getAll(r)]:[3,6];case 5:return i=c.sent(),[2,this.inMemoryPagination(i,n)];case 6:return u?[2,this.enginePagination(r,n)]:[2,this.getAll(r)]}}))}))];case 2:return c=f.sent(),[4,this.load(i,e.name,c)];case 3:return[2,f.sent()]}}))}))},e.prototype.getById=function(e,t){return Xx(this,void 0,void 0,(function(){return $x(this,(function(n){switch(n.label){case 0:return[4,this._get(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return Xx(this,void 0,void 0,(function(){return $x(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return lx(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return Xx(this,void 0,void 0,(function(){var n,r,i,o;return $x(this,(function(s){switch(s.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=s.sent(),o=n?i.filter((function(e){return y_(e,r,n)})):i,[2,o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=wx.getPredicates(t.sort);if(n.length){var r=R_(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,s=t.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:e.length;return e.slice(u,c)}return e},e.prototype.enginePagination=function(e,t){return Xx(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l;return $x(this,(function(f){switch(f.label){case 0:return t?(r=t.page,i=void 0===r?0:r,o=t.limit,s=void 0===o?0:o,a=Math.max(0,i*s)||0,[4,this.db.transaction(e).objectStore(e).openCursor()]):[3,7];case 1:return(u=f.sent())&&a>0?[4,u.advance(a)]:[3,3];case 2:f.sent(),f.label=3;case 3:c=[],l="number"==typeof s&&s>0,f.label=4;case 4:return u&&u.value?(c.push(u.value),l&&c.length===s?[3,6]:[4,u.continue()]):[3,6];case 5:return u=f.sent(),[3,4];case 6:return n=c,[3,9];case 7:return[4,this.db.getAll(e)];case 8:n=f.sent(),f.label=9;case 9:return[2,n]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=z_.FIRST),Xx(this,void 0,void 0,(function(){var n,r,i;return $x(this,(function(o){switch(o.label){case 0:return[4,this.checkPrivate()];case 1:return o.sent(),n=this.getStorenameForModel(e),[4,this.db.transaction([n],"readonly").objectStore(n).openCursor(void 0,t===z_.FIRST?"next":"prev")];case 2:return r=o.sent(),[2,(i=r?r.value:void 0)&&this.modelInstanceCreator(e,i)]}}))}))},e.prototype.delete=function(e,t){return Xx(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v;return $x(this,(function(y){switch(y.label){case 0:return[4,this.checkPrivate()];case 1:return y.sent(),n=[],b_(e)?(o=e,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),[4,this.query(o,t)]):[3,9];case 2:return r=y.sent(),g=this.schema.namespaces[s].relationships[o.name].relationTypes,void 0===t?[3,5]:[4,this.deleteTraverse(g,r,o.name,s,n)];case 3:return y.sent(),[4,this.deleteItem(n)];case 4:return y.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,v]];case 5:return[4,this.deleteTraverse(g,r,o.name,s,n)];case 6:return y.sent(),[4,this.db.transaction([a],"readwrite").objectStore(a).clear()];case 7:return y.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,v]];case 8:return[3,17];case 9:return i=e,o=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),t?(u=this.db.transaction([a],"readwrite"),c=u.objectStore(a),[4,this._get(c,i.id)]):[3,13];case 10:if(void 0===(l=y.sent()))return p="Model instance not found in storage",iI.warn(p,{model:i}),[2,[[i],[]]];if(f=_x.getPredicates(t),d=f.predicates,h=f.type,!y_(l,h,d))throw p="Conditional update failed",iI.error(p,{model:l,condition:d}),new Error(p);return[4,u.done];case 11:return y.sent(),g=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(g,[i],o.name,s,n)];case 12:return y.sent(),[3,15];case 13:return g=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(g,[i],o.name,s,n)];case 14:y.sent(),y.label=15;case 15:return[4,this.deleteItem(n)];case 16:return y.sent(),v=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],v]];case 17:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i,o,s;return Xx(this,void 0,void 0,(function(){var a,u,c,l,f,d,h,p,g,v,y,m;return $x(this,(function(b){switch(b.label){case 0:a=e.map((function(e){return e.storeName})),u=this.db.transaction(rI(a),"readwrite"),b.label=1;case 1:b.trys.push([1,22,23,28]),t=eI(e),b.label=2;case 2:return[4,t.next()];case 3:if((n=b.sent()).done)return[3,21];c=n.value,l=c.storeName,f=c.items,d=u.objectStore(l),b.label=4;case 4:b.trys.push([4,14,15,20]),h=eI(f),b.label=5;case 5:return[4,h.next()];case 6:return(p=b.sent()).done?[3,13]:(g=p.value)?(v=void 0,"object"!=typeof g?[3,8]:[4,d.index("byId").getKey(g.id)]):[3,12];case 7:return v=b.sent(),[3,10];case 8:return[4,d.index("byId").getKey(g.toString())];case 9:v=b.sent(),b.label=10;case 10:return void 0===v?[3,12]:[4,d.delete(v)];case 11:b.sent(),b.label=12;case 12:return[3,5];case 13:return[3,20];case 14:return y=b.sent(),o={error:y},[3,20];case 15:return b.trys.push([15,,18,19]),p&&!p.done&&(s=h.return)?[4,s.call(h)]:[3,17];case 16:b.sent(),b.label=17;case 17:return[3,19];case 18:if(o)throw o.error;return[7];case 19:return[7];case 20:return[3,2];case 21:return[3,28];case 22:return m=b.sent(),r={error:m},[3,28];case 23:return b.trys.push([23,,26,27]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,25];case 24:b.sent(),b.label=25;case 25:return[3,27];case 26:if(r)throw r.error;return[7];case 27:return[7];case 28:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,s,a,u,c,l,f,d,h,p,g,v;return Xx(this,void 0,void 0,(function(){var y,m,b,w,S,E,A,C,_,x,I,T,P,k,O=this;return $x(this,(function(N){switch(N.label){case 0:N.trys.push([0,35,36,41]),o=eI(e),N.label=1;case 1:return[4,o.next()];case 2:if((s=N.sent()).done)return[3,34];switch(y=s.value,m=y.relationType,b=y.modelName,w=y.targetName,S=this.getStorename(r,b),E=__(this.schema.namespaces[r].relationships[b].relationTypes,n)||x_(this.schema.namespaces[r].relationships[b].indexes,y.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:N.trys.push([3,10,11,16]),a=eI(t),N.label=4;case 4:return[4,a.next()];case 5:return(u=N.sent()).done?[3,9]:(I=u.value,A=E||"byId",(C=w in I?I[w]:I.id)?[4,this.db.transaction(S,"readwrite").objectStore(S).index(A).get(C)]:[3,9]);case 6:return _=N.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,_?[_]:[],b,r,i)];case 7:N.sent(),N.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return x=N.sent(),h={error:x},[3,16];case 11:return N.trys.push([11,,14,15]),u&&!u.done&&(p=a.return)?[4,p.call(a)]:[3,13];case 12:N.sent(),N.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:N.trys.push([17,24,25,30]),c=eI(t),N.label=18;case 18:return[4,c.next()];case 19:return(l=N.sent()).done?[3,23]:(I=l.value,[4,this.db.transaction(S,"readwrite").objectStore(S).index(E).getAll(I.id)]);case 20:return T=N.sent(),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,T,b,r,i)];case 21:N.sent(),N.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return P=N.sent(),g={error:P},[3,30];case 25:return N.trys.push([25,,28,29]),l&&!l.done&&(v=c.return)?[4,v.call(c)]:[3,27];case 26:N.sent(),N.label=27;case 27:return[3,29];case 28:if(g)throw g.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return g_(m),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return k=N.sent(),f={error:k},[3,41];case 36:return N.trys.push([36,,39,40]),s&&!s.done&&(d=o.return)?[4,d.call(o)]:[3,38];case 37:N.sent(),N.label=38;case 38:return[3,40];case 39:if(f)throw f.error;return[7];case 40:return[7];case 41:return i.push({storeName:this.getStorename(r,n),items:t.map((function(e){return O.modelInstanceCreator(O.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return Xx(this,void 0,void 0,(function(){return $x(this,(function(e){switch(e.label){case 0:return[4,this.checkPrivate()];case 1:return e.sent(),this.db.close(),[4,Wx(this.dbName)];case 2:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return Xx(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h;return $x(this,(function(p){switch(p.label){case 0:return 0===t.length?[2,[]]:[4,this.checkPrivate()];case 1:p.sent(),n=[],r=this.getStorenameForModel(e),i=this.db.transaction(r,"readwrite"),o=i.store,s=function(t){var r,i,s,u,c;return $x(this,(function(l){switch(l.label){case 0:return r=C_(e.name,a.modelInstanceCreator(e,t),a.schema.namespaces[a.namespaceResolver(e)],a.modelInstanceCreator,a.getModelConstructorByModelName),i=t.id,s=t._deleted,[4,o.index("byId").getKey(i)];case 1:return u=l.sent(),s?[3,3]:(c=r.find((function(e){return e.instance.id===i})).instance,n.push([c,u?F_.UPDATE:F_.INSERT]),[4,o.put(c,u)]);case 2:return l.sent(),[3,5];case 3:return n.push([t,F_.DELETE]),u?[4,o.delete(u)]:[3,5];case 4:l.sent(),l.label=5;case 5:return[2]}}))},a=this,p.label=2;case 2:p.trys.push([2,7,8,9]),u=tI(t),c=u.next(),p.label=3;case 3:return c.done?[3,6]:(l=c.value,[5,s(l)]);case 4:p.sent(),p.label=5;case 5:return c=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{c&&!c.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[4,i.done];case 10:return p.sent(),[2,n]}}))}))},e}(),aI=new sI,uI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},cI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},lI=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},fI=function(){var e=this;this.db=new Map,this.getAllKeys=function(){return uI(e,void 0,void 0,(function(){return cI(this,(function(e){return[2,Array.from(this.db.keys())]}))}))},this.multiGet=function(t){return uI(e,void 0,void 0,(function(){var e=this;return cI(this,(function(n){return[2,t.reduce((function(t,n){return t.push([n,e.db.get(n)]),t}),[])]}))}))},this.multiRemove=function(t,n){return uI(e,void 0,void 0,(function(){var e=this;return cI(this,(function(r){return t.forEach((function(t){return e.db.delete(t)})),n(),[2]}))}))},this.multiSet=function(t,n){return uI(e,void 0,void 0,(function(){var e=this;return cI(this,(function(r){return t.forEach((function(t){var n=lI(t,2),r=n[0],i=n[1];e.setItem(r,i)})),n(),[2]}))}))},this.setItem=function(t,n){return uI(e,void 0,void 0,(function(){return cI(this,(function(e){return[2,this.db.set(t,n)]}))}))},this.removeItem=function(t){return uI(e,void 0,void 0,(function(){return cI(this,(function(e){return[2,this.db.delete(t)]}))}))},this.getItem=function(t){return uI(e,void 0,void 0,(function(){return cI(this,(function(e){return[2,this.db.get(t)]}))}))}};var dI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},hI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},pI=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gI=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},vI="@AmplifyDatastore",yI="Data",mI=new Map,bI=function(){function e(){this._collectionInMemoryIndex=new Map,this.storage=new fI}return e.prototype.getCollectionIndex=function(e){return this._collectionInMemoryIndex.has(e)||this._collectionInMemoryIndex.set(e,new Map),this._collectionInMemoryIndex.get(e)},e.prototype.getMonotonicFactory=function(e){return mI.has(e)||mI.set(e,M_()),mI.get(e)},e.prototype.init=function(){return dI(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b;return hI(this,(function(w){switch(w.label){case 0:return this._collectionInMemoryIndex.clear(),[4,this.storage.getAllKeys()];case 1:e=w.sent(),t=[],w.label=2;case 2:w.trys.push([2,12,13,14]),n=pI(e),r=n.next(),w.label=3;case 3:return r.done?[3,11]:(i=r.value,o=gI(i.split("::"),5),s=o[0],a=o[1],u=o[2],c=o[3],l=o[4],s!==vI?[3,10]:u!==yI?[3,9]:(f=void 0,void 0!==l?[3,7]:(d=c,h=this.getMonotonicFactory(a)(),p=this.getLegacyKeyForItem(a,d),g=this.getKeyForItem(a,d,h),[4,this.storage.getItem(p)])));case 4:return v=w.sent(),[4,this.storage.setItem(g,v)];case 5:return w.sent(),[4,this.storage.removeItem(p)];case 6:return w.sent(),f=h,[3,8];case 7:f=c,w.label=8;case 8:return this.getCollectionIndex(a).set(l,f),[3,10];case 9:"Collection"===u&&t.push(i),w.label=10;case 10:return r=n.next(),[3,3];case 11:return[3,14];case 12:return y=w.sent(),m={error:y},[3,14];case 13:try{r&&!r.done&&(b=n.return)&&b.call(n)}finally{if(m)throw m.error}return[7];case 14:return t.length>0?[4,this.storage.multiRemove(t)]:[3,16];case 15:w.sent(),w.label=16;case 16:return[2]}}))}))},e.prototype.save=function(e,t){return dI(this,void 0,void 0,(function(){var n,r;return hI(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e.id)||this.getMonotonicFactory(t)(),r=this.getKeyForItem(t,e.id,n),this.getCollectionIndex(t).set(e.id,n),[4,this.storage.setItem(r,JSON.stringify(e))];case 1:return i.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return dI(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A=this;return hI(this,(function(C){switch(C.label){case 0:if(0===t.length)return[2,[]];n=[],r=this.getCollectionIndex(e),i=new Set,o=new Set,s=[],a={};try{for(u=pI(t),c=u.next();!c.done;c=u.next())l=c.value,f=l.id,d=l._deleted,h=r.get(f)||this.getMonotonicFactory(e)(),m=this.getKeyForItem(e,f,h),s.push(m),a[m]={ulid:h,model:l},d?i.add(m):o.add(m)}catch(e){b={error:e}}finally{try{c&&!c.done&&(w=u.return)&&w.call(u)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(s)];case 1:return p=C.sent(),g=p.filter((function(e){return!!gI(e,2)[1]})).reduce((function(e,t){var n=gI(t,1)[0];return e.add(n)}),new Set),[4,new Promise((function(e,t){if(0!==i.size){var n=Array.from(i);n.forEach((function(e){return r.delete(a[e].model.id)})),A.storage.multiRemove(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 2:return C.sent(),[4,new Promise((function(e,t){if(0!==o.size){var n=Array.from(o).map((function(e){return[e,JSON.stringify(a[e].model)]}));o.forEach((function(e){var t=a[e],n=t.model.id,i=t.ulid;r.set(n,i)})),A.storage.multiSet(n,(function(n){n&&n.length>0?t(n):e()}))}else e()}))];case 3:C.sent();try{for(v=pI(s),y=v.next();!y.done;y=v.next())m=y.value,i.has(m)&&g.has(m)?n.push([a[m].model,F_.DELETE]):o.has(m)&&n.push([a[m].model,g.has(m)?F_.UPDATE:F_.INSERT])}catch(e){S={error:e}}finally{try{y&&!y.done&&(E=v.return)&&E.call(v)}finally{if(S)throw S.error}}return[2,n]}}))}))},e.prototype.get=function(e,t){return dI(this,void 0,void 0,(function(){var n,r,i;return hI(this,(function(o){switch(o.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),[4,this.storage.getItem(r)];case 1:return i=o.sent(),[2,i&&JSON.parse(i)]}}))}))},e.prototype.getOne=function(e,t){return dI(this,void 0,void 0,(function(){var n,r,i,o,s,a,u;return hI(this,(function(c){switch(c.label){case 0:return n=this.getCollectionIndex(t),r=gI(e===z_.FIRST?function(){var e,t,r,i,o;try{for(var s=pI(n),a=s.next();!a.done;a=s.next()){i=(r=gI(a.value,2))[0],o=r[1];break}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,o]}():function(){var e,t,r,i,o;try{for(var s=pI(n),a=s.next();!a.done;a=s.next())i=(r=gI(a.value,2))[0],o=r[1]}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return[i,o]}(),2),i=r[0],o=r[1],s=this.getKeyForItem(t,i,o),(u=s)?[4,this.storage.getItem(s)]:[3,2];case 1:u=c.sent(),c.label=2;case 2:return[2,(a=u)&&JSON.parse(a)||void 0]}}))}))},e.prototype.getAll=function(e,t){return dI(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w;return hI(this,(function(S){switch(S.label){case 0:n=this.getCollectionIndex(e),i=(r=t||{}).page,o=void 0===i?0:i,s=r.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:void 0,l=[],f=0;try{for(d=pI(n),h=d.next();!h.done&&(p=gI(h.value,2),g=p[0],v=p[1],++f<=u||(l.push(this.getKeyForItem(e,g,v)),f!==c));h=d.next());}catch(e){b={error:e}}finally{try{h&&!h.done&&(w=d.return)&&w.call(d)}finally{if(b)throw b.error}}return[4,this.storage.multiGet(l)];case 1:return y=S.sent(),m=y.filter((function(e){return gI(e,2)[1]})).map((function(e){var t=gI(e,2)[1];return JSON.parse(t)})),[2,m]}}))}))},e.prototype.delete=function(e,t){return dI(this,void 0,void 0,(function(){var n,r;return hI(this,(function(i){switch(i.label){case 0:return n=this.getCollectionIndex(t).get(e),r=this.getKeyForItem(t,e,n),this.getCollectionIndex(t).delete(e),[4,this.storage.removeItem(r)];case 1:return i.sent(),[2]}}))}))},e.prototype.clear=function(){return dI(this,void 0,void 0,(function(){var e,t;return hI(this,(function(n){switch(n.label){case 0:return[4,this.storage.getAllKeys()];case 1:return e=n.sent(),t=e.filter((function(e){return e.startsWith(vI)})),[4,this.storage.multiRemove(t)];case 2:return n.sent(),this._collectionInMemoryIndex.clear(),[2]}}))}))},e.prototype.getKeyForItem=function(e,t,n){return this.getKeyPrefixForStoreItems(e)+"::"+n+"::"+t},e.prototype.getLegacyKeyForItem=function(e,t){return this.getKeyPrefixForStoreItems(e)+"::"+t},e.prototype.getKeyPrefixForStoreItems=function(e){return vI+"::"+e+"::"+yI},e}(),wI=bI,SI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},EI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},AI=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof CI?CI(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},CI=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_I=new ie("DataStore"),xI=function(){function e(){}return e.prototype.getStorenameForModel=function(e){var t=this.namespaceResolver(e),n=e.name;return this.getStorename(t,n)},e.prototype.getStorename=function(e,t){return e+"_"+t},e.prototype.setUp=function(e,t,n,r){return SI(this,void 0,void 0,(function(){var i,o=this;return EI(this,(function(s){switch(s.label){case 0:return this.initPromise?[3,1]:(this.initPromise=new Promise((function(e,t){o.resolve=e,o.reject=t})),[3,3]);case 1:return[4,this.initPromise];case 2:return s.sent(),[2];case 3:this.schema=e,this.namespaceResolver=t,this.modelInstanceCreator=n,this.getModelConstructorByModelName=r,s.label=4;case 4:return s.trys.push([4,7,,8]),this.db?[3,6]:(this.db=new wI,[4,this.db.init()]);case 5:s.sent(),this.resolve(),s.label=6;case 6:return[3,8];case 7:return i=s.sent(),this.reject(i),[3,8];case 8:return[2]}}))}))},e.prototype.save=function(e,t){var n,r;return SI(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x=this;return EI(this,(function(I){switch(I.label){case 0:return i=Object.getPrototypeOf(e).constructor,o=this.getStorenameForModel(i),s=C_(i.name,e,this.schema.namespaces[this.namespaceResolver(i)],this.modelInstanceCreator,this.getModelConstructorByModelName),a=this.namespaceResolver(i),u=new Set,c=Object.values(s).map((function(e){var t=e.modelName,n=e.item,r=e.instance,i=x.getStorename(a,t);return u.add(i),{storeName:i,item:n,instance:r}})),[4,this.db.get(e.id,o)];case 1:if(l=I.sent(),t&&l&&(f=_x.getPredicates(t),d=f.predicates,h=f.type,!y_(l,h,d)))throw p="Conditional update failed",_I.error(p,{model:l,condition:d}),new Error(p);g=[],I.label=2;case 2:I.trys.push([2,9,10,15]),v=AI(c),I.label=3;case 3:return[4,v.next()];case 4:return(y=I.sent()).done?[3,8]:(m=y.value,b=m.storeName,w=m.item,S=m.instance,E=w.id,[4,this.db.get(E,b)]);case 5:return A=I.sent(),C=A?F_.UPDATE:F_.INSERT,E!==e.id&&C!==F_.INSERT?[3,7]:[4,this.db.save(w,b)];case 6:I.sent(),g.push([S,C]),I.label=7;case 7:return[3,3];case 8:return[3,15];case 9:return _=I.sent(),n={error:_},[3,15];case 10:return I.trys.push([10,,13,14]),y&&!y.done&&(r=v.return)?[4,r.call(v)]:[3,12];case 11:I.sent(),I.label=12;case 12:return[3,14];case 13:if(n)throw n.error;return[7];case 14:return[7];case 15:return[2,g]}}))}))},e.prototype.load=function(e,t,n){var r,i,o,s,a,u,c,l,f,d;return SI(this,void 0,void 0,(function(){var h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T,P,k,O,N=this;return EI(this,(function(M){switch(M.label){case 0:if(h=this.schema.namespaces[e],p=h.relationships[t].relationTypes,g=p.map((function(t){var n=t.modelName;return N.getStorename(e,n)})),v=this.getModelConstructorByModelName(e,t),0===g.length)return[2,n.map((function(e){return N.modelInstanceCreator(v,e)}))];M.label=1;case 1:M.trys.push([1,34,35,40]),y=AI(p),M.label=2;case 2:return[4,y.next()];case 3:if((m=M.sent()).done)return[3,33];switch(b=m.value,w=b.fieldName,S=b.modelName,E=b.targetName,A=b.relationType,C=this.getStorename(e,S),_=this.getModelConstructorByModelName(e,S),A){case"HAS_ONE":return[3,4];case"BELONGS_TO":return[3,17];case"HAS_MANY":return[3,30]}return[3,31];case 4:M.trys.push([4,10,11,16]),r=AI(n),M.label=5;case 5:return[4,r.next()];case 6:return(i=M.sent()).done?[3,9]:(T=i.value,x=T[E]?E:w,T[x]?[4,this.db.get(T[x],C)]:[3,9]);case 7:P=M.sent(),T[w]=P&&this.modelInstanceCreator(_,P),M.label=8;case 8:return[3,5];case 9:return[3,16];case 10:return I=M.sent(),c={error:I},[3,16];case 11:return M.trys.push([11,,14,15]),i&&!i.done&&(l=r.return)?[4,l.call(r)]:[3,13];case 12:M.sent(),M.label=13;case 13:return[3,15];case 14:if(c)throw c.error;return[7];case 15:return[7];case 16:return[3,32];case 17:M.trys.push([17,23,24,29]),o=AI(n),M.label=18;case 18:return[4,o.next()];case 19:return(s=M.sent()).done?[3,22]:(T=s.value)[E]?[4,this.db.get(T[E],C)]:[3,21];case 20:P=M.sent(),T[w]=P&&this.modelInstanceCreator(_,P),delete T[E],M.label=21;case 21:return[3,18];case 22:return[3,29];case 23:return k=M.sent(),f={error:k},[3,29];case 24:return M.trys.push([24,,27,28]),s&&!s.done&&(d=o.return)?[4,d.call(o)]:[3,26];case 25:M.sent(),M.label=26;case 26:return[3,28];case 27:if(f)throw f.error;return[7];case 28:return[7];case 29:case 30:return[3,32];case 31:return g_(A),[3,32];case 32:return[3,2];case 33:return[3,40];case 34:return O=M.sent(),a={error:O},[3,40];case 35:return M.trys.push([35,,38,39]),m&&!m.done&&(u=y.return)?[4,u.call(y)]:[3,37];case 36:M.sent(),M.label=37;case 37:return[3,39];case 38:if(a)throw a.error;return[7];case 39:return[7];case 40:return[2,n.map((function(e){return N.modelInstanceCreator(v,e)}))]}}))}))},e.prototype.query=function(e,t,n){return SI(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l=this;return EI(this,(function(f){switch(f.label){case 0:return r=this.getStorenameForModel(e),i=this.namespaceResolver(e),o=t&&_x.getPredicates(t),s=o&&this.idFromPredicate(o),a=n&&n.sort,u=n&&n.limit,[4,SI(l,void 0,void 0,(function(){var e,t,i;return EI(this,(function(c){switch(c.label){case 0:return s?[4,this.getById(r,s)]:[3,2];case 1:return[2,(e=c.sent())?[e]:[]];case 2:return o?[4,this.filterOnPredicate(r,o)]:[3,4];case 3:return t=c.sent(),[2,this.inMemoryPagination(t,n)];case 4:return a||u?[4,this.getAll(r)]:[3,6];case 5:return i=c.sent(),[2,this.inMemoryPagination(i,n)];case 6:return[2,this.getAll(r)]}}))}))];case 1:return c=f.sent(),[4,this.load(i,e.name,c)];case 2:return[2,f.sent()]}}))}))},e.prototype.getById=function(e,t){return SI(this,void 0,void 0,(function(){return EI(this,(function(n){switch(n.label){case 0:return[4,this.db.get(t,e)];case 1:return[2,n.sent()]}}))}))},e.prototype.getAll=function(e){return SI(this,void 0,void 0,(function(){return EI(this,(function(t){switch(t.label){case 0:return[4,this.db.getAll(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.idFromPredicate=function(e){var t=e.predicates,n=1===t.length&&t.find((function(e){return lx(e)&&"id"===e.field&&"eq"===e.operator}));return n&&n.operand},e.prototype.filterOnPredicate=function(e,t){return SI(this,void 0,void 0,(function(){var n,r,i,o;return EI(this,(function(s){switch(s.label){case 0:return n=t.predicates,r=t.type,[4,this.getAll(e)];case 1:return i=s.sent(),o=n?i.filter((function(e){return y_(e,r,n)})):i,[2,o]}}))}))},e.prototype.inMemoryPagination=function(e,t){if(t&&e.length>1){if(t.sort){var n=wx.getPredicates(t.sort);if(n.length){var r=R_(n);e.sort(r)}}var i=t.page,o=void 0===i?0:i,s=t.limit,a=void 0===s?0:s,u=Math.max(0,o*a)||0,c=a>0?u+a:e.length;return e.slice(u,c)}return e},e.prototype.queryOne=function(e,t){return void 0===t&&(t=z_.FIRST),SI(this,void 0,void 0,(function(){var n,r;return EI(this,(function(i){switch(i.label){case 0:return n=this.getStorenameForModel(e),[4,this.db.getOne(t,n)];case 1:return[2,(r=i.sent())&&this.modelInstanceCreator(e,r)]}}))}))},e.prototype.delete=function(e,t){return SI(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d,h,p;return EI(this,(function(g){switch(g.label){case 0:return n=[],b_(e)?(o=e,s=this.namespaceResolver(o),[4,this.query(o,t)]):[3,8];case 1:return r=g.sent(),h=this.schema.namespaces[s].relationships[o.name].relationTypes,void 0===t?[3,4]:[4,this.deleteTraverse(h,r,o.name,s,n)];case 2:return g.sent(),[4,this.deleteItem(n)];case 3:return g.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,p]];case 4:return[4,this.deleteTraverse(h,r,o.name,s,n)];case 5:return g.sent(),[4,this.deleteItem(n)];case 6:return g.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[r,p]];case 7:return[3,15];case 8:return i=e,o=Object.getPrototypeOf(i).constructor,s=this.namespaceResolver(o),a=this.getStorenameForModel(o),t?[4,this.db.get(i.id,a)]:[3,11];case 9:if(void 0===(u=g.sent()))return d="Model instance not found in storage",_I.warn(d,{model:i}),[2,[[i],[]]];if(c=_x.getPredicates(t),l=c.predicates,f=c.type,!y_(u,f,l))throw d="Conditional update failed",_I.error(d,{model:u,condition:l}),new Error(d);return h=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(h,[i],o.name,s,n)];case 10:return g.sent(),[3,13];case 11:return h=this.schema.namespaces[s].relationships[o.name].relationTypes,[4,this.deleteTraverse(h,[i],o.name,s,n)];case 12:g.sent(),g.label=13;case 13:return[4,this.deleteItem(n)];case 14:return g.sent(),p=n.reduce((function(e,t){var n=t.items;return e.concat(n)}),[]),[2,[[i],p]];case 15:return[2]}}))}))},e.prototype.deleteItem=function(e){var t,n,r,i,o,s;return SI(this,void 0,void 0,(function(){var a,u,c,l,f,d,h,p,g;return EI(this,(function(v){switch(v.label){case 0:v.trys.push([0,17,18,23]),t=AI(e),v.label=1;case 1:return[4,t.next()];case 2:if((n=v.sent()).done)return[3,16];a=n.value,u=a.storeName,c=a.items,v.label=3;case 3:v.trys.push([3,9,10,15]),l=AI(c),v.label=4;case 4:return[4,l.next()];case 5:return(f=v.sent()).done?[3,8]:(d=f.value)?"object"!=typeof d?[3,7]:(h=d.id,[4,this.db.delete(h,u)]):[3,7];case 6:v.sent(),v.label=7;case 7:return[3,4];case 8:return[3,15];case 9:return p=v.sent(),o={error:p},[3,15];case 10:return v.trys.push([10,,13,14]),f&&!f.done&&(s=l.return)?[4,s.call(l)]:[3,12];case 11:v.sent(),v.label=12;case 12:return[3,14];case 13:if(o)throw o.error;return[7];case 14:return[7];case 15:return[3,1];case 16:return[3,23];case 17:return g=v.sent(),r={error:g},[3,23];case 18:return v.trys.push([18,,21,22]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,20];case 19:v.sent(),v.label=20;case 20:return[3,22];case 21:if(r)throw r.error;return[7];case 22:return[7];case 23:return[2]}}))}))},e.prototype.deleteTraverse=function(e,t,n,r,i){var o,s,a,u,c,l,f,d,h,p,g,v;return SI(this,void 0,void 0,(function(){var y,m,b,w,S,E,A,C,_,x,I,T,P,k,O,N=this;return EI(this,(function(M){switch(M.label){case 0:M.trys.push([0,35,36,41]),o=AI(e),M.label=1;case 1:return[4,o.next()];case 2:if((s=M.sent()).done)return[3,34];switch(y=s.value,m=y.relationType,b=y.modelName,w=y.targetName,S=this.getStorename(r,b),E=__(this.schema.namespaces[r].relationships[b].relationTypes,n)||x_(this.schema.namespaces[r].relationships[b].indexes,y.associatedWith),m){case"HAS_ONE":return[3,3];case"HAS_MANY":return[3,17];case"BELONGS_TO":return[3,31]}return[3,32];case 3:M.trys.push([3,10,11,16]),a=AI(t),M.label=4;case 4:return[4,a.next()];case 5:return(u=M.sent()).done?[3,9]:(I=u.value,A=E||"byId",(C=w in I?I[w]:I.id)?[4,this.db.getAll(S)]:[3,9]);case 6:return T=M.sent(),_=T.filter((function(e){return e[A]===C})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,_,b,r,i)];case 7:M.sent(),M.label=8;case 8:return[3,4];case 9:return[3,16];case 10:return x=M.sent(),h={error:x},[3,16];case 11:return M.trys.push([11,,14,15]),u&&!u.done&&(p=a.return)?[4,p.call(a)]:[3,13];case 12:M.sent(),M.label=13;case 13:return[3,15];case 14:if(h)throw h.error;return[7];case 15:return[7];case 16:return[3,33];case 17:M.trys.push([17,24,25,30]),c=AI(t),M.label=18;case 18:return[4,c.next()];case 19:return(l=M.sent()).done?[3,23]:(I=l.value,[4,this.db.getAll(S)]);case 20:return T=M.sent(),P=T.filter((function(e){return e[E]===I.id})),[4,this.deleteTraverse(this.schema.namespaces[r].relationships[b].relationTypes,P,b,r,i)];case 21:M.sent(),M.label=22;case 22:return[3,18];case 23:return[3,30];case 24:return k=M.sent(),g={error:k},[3,30];case 25:return M.trys.push([25,,28,29]),l&&!l.done&&(v=c.return)?[4,v.call(c)]:[3,27];case 26:M.sent(),M.label=27;case 27:return[3,29];case 28:if(g)throw g.error;return[7];case 29:return[7];case 30:case 31:return[3,33];case 32:return g_(m),[3,33];case 33:return[3,1];case 34:return[3,41];case 35:return O=M.sent(),f={error:O},[3,41];case 36:return M.trys.push([36,,39,40]),s&&!s.done&&(d=o.return)?[4,d.call(o)]:[3,38];case 37:M.sent(),M.label=38;case 38:return[3,40];case 39:if(f)throw f.error;return[7];case 40:return[7];case 41:return i.push({storeName:this.getStorename(r,n),items:t.map((function(e){return N.modelInstanceCreator(N.getModelConstructorByModelName(r,n),e)}))}),[2]}}))}))},e.prototype.clear=function(){return SI(this,void 0,void 0,(function(){return EI(this,(function(e){switch(e.label){case 0:return[4,this.db.clear()];case 1:return e.sent(),this.db=void 0,this.initPromise=void 0,[2]}}))}))},e.prototype.batchSave=function(e,t){return SI(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,d;return EI(this,(function(h){switch(h.label){case 0:n=e.name,r=this.namespaceResolver(e),i=this.getStorename(r,n),o=[],s=function(t){var n=t.id,r=C_(e.name,a.modelInstanceCreator(e,t),a.schema.namespaces[a.namespaceResolver(e)],a.modelInstanceCreator,a.getModelConstructorByModelName).find((function(e){return e.instance.id===n})).instance;o.push(r)},a=this;try{for(u=CI(t),c=u.next();!c.done;c=u.next())l=c.value,s(l)}catch(e){f={error:e}}finally{try{c&&!c.done&&(d=u.return)&&d.call(u)}finally{if(f)throw f.error}}return[4,this.db.batchSave(i,o)];case 1:return[2,h.sent()]}}))}))},e}(),II=new xI,TI=function(){return Ne().isBrowser&&window.indexedDB||Oe()&&self.indexedDB?aI:II},PI=function(){return PI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},PI.apply(this,arguments)},kI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},OI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},NI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MI=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},LI=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},RI=new ie("DataStore"),UI=function(){function e(e,t,n,r,i,o){this.schema=e,this.namespaceResolver=t,this.getModelConstructorByModelName=n,this.modelInstanceCreator=r,this.adapter=i,this.sessionId=o,this.adapter=this.adapter||TI(),this.pushStream=new Nx}return e.getNamespace=function(){return{name:O_,relationships:{},enums:{},models:{},nonModels:{}}},e.prototype.init=function(){return kI(this,void 0,void 0,(function(){var e,t;return OI(this,(function(n){switch(n.label){case 0:return void 0===this.initialized?[3,2]:[4,this.initialized];case 1:case 3:return n.sent(),[2];case 2:return RI.debug("Starting Storage"),this.initialized=new Promise((function(n,r){e=n,t=r})),this.adapter.setUp(this.schema,this.namespaceResolver,this.modelInstanceCreator,this.getModelConstructorByModelName,this.sessionId).then(e,t),[4,this.initialized]}}))}))},e.prototype.save=function(e,t,n,r){return kI(this,void 0,void 0,(function(){var i,o=this;return OI(this,(function(s){switch(s.label){case 0:return[4,this.init()];case 1:return s.sent(),[4,this.adapter.save(e,t)];case 2:return(i=s.sent()).forEach((function(s){var a,u=MI(s,2),c=u[0],l=u[1],f=!!n;if(l===F_.UPDATE&&!f&&null===(a=o.getUpdateMutationInput(e,c,r)))return i;var d=a||c,h=Object.getPrototypeOf(c).constructor;o.pushStream.next({model:h,opType:l,element:d,mutator:n,condition:_x.getPredicates(t,!1)})})),[2,i]}}))}))},e.prototype.delete=function(e,t,n){return kI(this,void 0,void 0,(function(){var r,i,o,s,a=this;return OI(this,(function(u){switch(u.label){case 0:return[4,this.init()];case 1:return u.sent(),[4,this.adapter.delete(e,t)];case 2:return s=MI.apply(void 0,[u.sent(),2]),i=s[0],r=s[1],o=new Set(i.map((function(e){return e.id}))),b_(e)||Array.isArray(r)||(r=[r]),r.forEach((function(r){var i,s=Object.getPrototypeOf(r).constructor;b_(e)||(i=o.has(r.id)?_x.getPredicates(t,!1):void 0),a.pushStream.next({model:s,opType:F_.DELETE,element:r,mutator:n,condition:i})})),[2,[i,r]]}}))}))},e.prototype.query=function(e,t,n){return kI(this,void 0,void 0,(function(){return OI(this,(function(r){switch(r.label){case 0:return[4,this.init()];case 1:return r.sent(),[4,this.adapter.query(e,t,n)];case 2:return[2,r.sent()]}}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=z_.FIRST),kI(this,void 0,void 0,(function(){return OI(this,(function(n){switch(n.label){case 0:return[4,this.init()];case 1:return n.sent(),[4,this.adapter.queryOne(e,t)];case 2:return[2,n.sent()]}}))}))},e.prototype.observe=function(e,t,n){var r=!e,i=_x.getPredicates(t,!1)||{},o=i.predicates,s=i.type,a=!!o,u=this.pushStream.observable.filter((function(e){var t=e.mutator;return!n||t!==n})).map((function(e){return e.mutator,NI(e,["mutator"])}));return r||(u=u.filter((function(t){var n=t.model,r=t.element;return e===n&&(!a||y_(r,s,o))}))),u},e.prototype.clear=function(e){return void 0===e&&(e=!0),kI(this,void 0,void 0,(function(){return OI(this,(function(t){switch(t.label){case 0:return this.initialized=void 0,[4,this.adapter.clear()];case 1:return t.sent(),e&&this.pushStream.complete(),[2]}}))}))},e.prototype.batchSave=function(e,t,n){return kI(this,void 0,void 0,(function(){var r,i=this;return OI(this,(function(o){switch(o.label){case 0:return[4,this.init()];case 1:return o.sent(),[4,this.adapter.batchSave(e,t)];case 2:return(r=o.sent()).forEach((function(t){var r=MI(t,2),o=r[0],s=r[1];i.pushStream.next({model:e,opType:s,element:o,mutator:n,condition:void 0})})),[2,r]}}))}))},e.prototype.getUpdateMutationInput=function(e,t,n){var r,i;if(!(n&&n.length))return null;var o=MI(n,2),s=o[0],a=o[1],u={},c=s.map((function(e){return e.path&&e.path[0]})),l=Object.getPrototypeOf(e).constructor,f=this.namespaceResolver(l),d=this.schema.namespaces[f].models[l.name].fields,h=this.schema.namespaces[f].keys[l.name],p=h.primaryKey,g=h.compositeKeys,v=void 0===g?[]:g;if(c.forEach((function(e){var n,r,i,o,s,c=rx(null===(s=d[e])||void 0===s?void 0:s.association)||e;if(!U_(a[c],t[c])){u[c]=void 0===t[c]?null:t[c];try{for(var l=LI(v),f=l.next();!f.done;f=l.next()){var h=f.value;if(h.has(c))try{for(var p=(i=void 0,LI(h)),g=p.next();!g.done;g=p.next()){var y=g.value;u[y]=t[y]}}catch(e){i={error:e}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}})),p&&p.length)try{for(var y=LI(p),m=y.next();!m.done;m=y.next()){var b=m.value;u[b]=t[b]}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}if(0===Object.keys(u).length)return null;var w=t.id,S=t._version,E=t._lastChangedAt,A=t._deleted;return PI(PI({},u),{id:w,_version:S,_lastChangedAt:E,_deleted:A})},e}(),DI=function(){function e(e,t,n,r,i,o){this.mutex=new rn,this.storage=new UI(e,t,n,r,i,o)}return e.prototype.runExclusive=function(e){return this.mutex.runExclusive(e.bind(this,this.storage))},e.prototype.save=function(e,t,n,r){return kI(this,void 0,void 0,(function(){return OI(this,(function(i){return[2,this.runExclusive((function(i){return i.save(e,t,n,r)}))]}))}))},e.prototype.delete=function(e,t,n){return kI(this,void 0,void 0,(function(){return OI(this,(function(r){return[2,this.runExclusive((function(r){if(b_(e)){var i=e;return r.delete(i,t,n)}var o=e;return r.delete(o,t,n)}))]}))}))},e.prototype.query=function(e,t,n){return kI(this,void 0,void 0,(function(){return OI(this,(function(r){return[2,this.runExclusive((function(r){return r.query(e,t,n)}))]}))}))},e.prototype.queryOne=function(e,t){return void 0===t&&(t=z_.FIRST),kI(this,void 0,void 0,(function(){return OI(this,(function(n){return[2,this.runExclusive((function(n){return n.queryOne(e,t)}))]}))}))},e.getNamespace=function(){return UI.getNamespace()},e.prototype.observe=function(e,t,n){return this.storage.observe(e,t,n)},e.prototype.clear=function(){return kI(this,void 0,void 0,(function(){return OI(this,(function(e){switch(e.label){case 0:return[4,this.storage.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.batchSave=function(e,t){return this.storage.batchSave(e,t)},e.prototype.init=function(){return kI(this,void 0,void 0,(function(){return OI(this,(function(e){return[2,this.storage.init()]}))}))},e}(),BI=(new un).networkMonitor(),jI=function(){return jI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jI.apply(this,arguments)};new ie("DataStore");var FI,zI,KI=function(){function e(){this.connectionStatus={online:!1}}return e.prototype.status=function(){var e=this;if(this.observer)throw new Error("Subscriber already exists");return new sn((function(t){return e.observer=t,e.subscription=BI.subscribe((function(n){var r=n.online;e.connectionStatus.online=r;var i=jI({},e.connectionStatus);t.next(i)})),function(){clearTimeout(e.timeout),e.unsubscribe()}}))},e.prototype.unsubscribe=function(){this.subscription&&(clearTimeout(this.timeout),this.subscription.unsubscribe())},e.prototype.socketDisconnected=function(){var e=this;this.observer&&"function"==typeof this.observer.next&&(this.observer.next({online:!1}),this.timeout=setTimeout((function(){var t=jI({},e.connectionStatus);e.observer.next(t)}),5e3))},e}(),qI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},HI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},VI=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},WI=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},GI=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VI(arguments[t]));return e},JI=function(){function e(e,t){this.outbox=e,this.ownSymbol=t}return e.prototype.merge=function(e,t){return qI(this,void 0,void 0,(function(){var n,r,i,o,s;return HI(this,(function(a){switch(a.label){case 0:return[4,this.outbox.getForModel(e,t)];case 1:return r=a.sent(),i=t._deleted,0!==r.length?[3,5]:i?(n=F_.DELETE,[4,e.delete(t,void 0,this.ownSymbol)]):[3,3];case 2:return a.sent(),[3,5];case 3:return[4,e.save(t,void 0,this.ownSymbol)];case 4:o=VI.apply(void 0,[a.sent(),1]),s=VI(o[0],2),n=s[1],a.label=5;case 5:return[2,n]}}))}))},e.prototype.mergePage=function(e,t,n){return qI(this,void 0,void 0,(function(){var r,i,o,s,a,u,c;return HI(this,(function(l){switch(l.label){case 0:r=new Map;try{for(i=WI(n),o=i.next();!o.done;o=i.next())s=o.value,r.set(s.id,s)}catch(e){u={error:e}}finally{try{o&&!o.done&&(c=i.return)&&c.call(i)}finally{if(u)throw u.error}}return a=GI(r.values()),[4,e.batchSave(t,a,this.ownSymbol)];case 1:return[2,l.sent()]}}))}))},e}(),ZI=function(){return ZI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ZI.apply(this,arguments)},QI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},YI=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},XI=new ie("DataStore");!function(e){e.LIST="query",e.CREATE="mutation",e.UPDATE="mutation",e.DELETE="mutation",e.GET="query"}(FI||(FI={})),function(e){e.CREATE="Create",e.UPDATE="Update",e.DELETE="Delete",e.GET="Get"}(zI||(zI={}));var $I={_version:void 0,_lastChangedAt:void 0,_deleted:void 0},eT=Object.keys($I);function tT(e,t){var n=nT(t),r=function(e,t){var n=[];return Object.values(t.fields).forEach((function(t){var r=t.name,i=t.type;if(cx(i)){var o=e.nonModels[i.nonModel],s=Object.values(nT(o)).map((function(e){return e.name})),a=[];Object.values(o.fields).forEach((function(t){var n=t.type,r=t.name;if(cx(n)){var i=e.nonModels[n.nonModel];a.push(r+" { "+tT(e,i)+" }")}})),n.push(r+" { "+s.join(" ")+" "+a.join(" ")+" }")}})),n}(e,t),i=function(e,t){var n=function(e){var t=[];nx(e)&&e.attributes&&e.attributes.forEach((function(e){if(e.properties&&e.properties.rules){var n=e.properties.rules.find((function(e){return"owner"===e.allow}));n&&n.ownerField&&t.push(n.ownerField)}}));return t}(e);if(!t.owner&&n.includes("owner"))return["owner"];return[]}(t,n),o=Object.values(n).map((function(e){return e.name})).concat(i).concat(r);return nx(t)&&(o=o.concat(eT).concat(function(e){var t=[];return Object.values(e.fields).filter((function(e){var t=e.association;return t&&Object.keys(t).length})).forEach((function(e){var n=e.name,r=e.association,i=r.connectionType;switch(i){case"HAS_ONE":case"HAS_MANY":break;case"BELONGS_TO":rx(r)&&t.push(n+" { id _deleted }");break;default:g_(i)}})),t}(t))),o.join("\n")}function nT(e){var t=e.fields;return Object.values(t).filter((function(e){return!!(ax(e.type)||(t=e.type,t&&t.enum));var t})).reduce((function(e,t){return e[t.name]=t,e}),{})}function rT(e,t,n){var r,i,o=tT(e,t),s=t.name,a=t.pluralName,u=" ",c=" ";switch(n){case"LIST":r="sync"+a,u="($limit: Int, $nextToken: String, $lastSync: AWSTimestamp, $filter: Model"+s+"FilterInput)",c="(limit: $limit, nextToken: $nextToken, lastSync: $lastSync, filter: $filter)",o="items {\n\t\t\t\t\t\t\t"+o+"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextToken\n\t\t\t\t\t\tstartedAt";break;case"CREATE":r="create"+s,u="($input: Create"+s+"Input!)",c="(input: $input)",i=zI.CREATE;break;case"UPDATE":r="update"+s,u="($input: Update"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",i=zI.UPDATE;break;case"DELETE":r="delete"+s,u="($input: Delete"+s+"Input!, $condition: Model"+s+"ConditionInput)",c="(input: $input, condition: $condition)",i=zI.DELETE;break;case"GET":r="get"+s,u="($id: ID!)",c="(id: $id)",i=zI.GET;break;default:g_(n)}return[[i,r,FI[n]+" operation"+u+"{\n\t\t"+r+c+"{\n\t\t\t"+o+"\n\t\t}\n\t}"]]}function iT(e,t,n,r,i,o,s,a,u){var c;switch(n){case F_.INSERT:c=zI.CREATE;break;case F_.UPDATE:c=zI.UPDATE;break;case F_.DELETE:c=zI.DELETE;break;default:g_(n)}var l=a(s,ZI(ZI({},u?{id:u}:{}),{data:JSON.stringify(i,(function(e,n){return e&&null!==n&&"object"==typeof n&&t.fields[e]&&"AWSJSON"===t.fields[e].type?JSON.stringify(n):n})),modelId:i.id,model:r.name,operation:c,condition:JSON.stringify(o)}));return l}function oT(e){var t={};return e&&Array.isArray(e.predicates)?(e.predicates.forEach((function(e){var n;if(lx(e)){var r=e.field,i=e.operator,o=e.operand;if("id"===r)return;t[r]=((n={})[i]=o,n)}else t[e.type]=oT(e)})),t):t}function sT(e){var t={};if(!e||!Array.isArray(e.predicates))return t;var n=e.type,r=e.predicates,i="and"===n||"or"===n;t[n]=i?[]:{};var o=function(e){return i?t[n].push(e):t[n]=e};return r.forEach((function(e){var t,n;if(lx(e)){var r=e.field,i=e.operator,s=e.operand,a=((t={})[r]=((n={})[i]=s,n),t);o(a)}else o(sT(e))})),t}function aT(e,t){var n=e[t.groupClaim]||[];if("string"==typeof n){var r=void 0;try{r=JSON.parse(n)}catch(e){r=n}n=[].concat(r)}return n}function uT(e){var t=e.authModeStrategy,n=e.defaultAuthMode,r=e.modelName,i=e.schema;return QI(this,void 0,void 0,(function(){var e,o,s,a=this;return YI(this,(function(u){switch(u.label){case 0:e=Object.values(H_),o={CREATE:[],READ:[],UPDATE:[],DELETE:[]},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(e.map((function(e){return QI(a,void 0,void 0,(function(){var s;return YI(this,(function(a){switch(a.label){case 0:return[4,t({schema:i,modelName:r,operation:e})];case 1:return"string"==typeof(s=a.sent())?o[e]=[s]:Array.isArray(s)&&s.length?o[e]=s:o[e]=[n],[2]}}))}))})))];case 2:return u.sent(),[3,4];case 3:return s=u.sent(),XI.debug("Error getting auth modes for model: "+r,s),[3,4];case 4:return[2,o]}}))}))}function cT(e){var t,n=["Request failed with status code 401","Request failed with status code 403"];return e&&e.errors?t=e.errors.find((function(e){return n.includes(e.message)})):e&&e.message&&(t=e),t?t.message:null}function lT(e){var t=Object.values(vA);return e&&e.message&&t.find((function(t){return e.message.includes(t)}))||null}function fT(e,t){return void 0===t&&(t={}),QI(this,void 0,void 0,(function(){var n,r,i;return YI(this,(function(o){switch(o.label){case 0:if(e!==$a.AWS_LAMBDA)return[3,6];if(n=t.authProviders,!(r=(void 0===n?{functionAuthProvider:null}:n).functionAuthProvider)||"function"!=typeof r)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,r()];case 2:return[2,o.sent().token];case 3:throw i=o.sent(),new Error("Error retrieving token from `functionAuthProvider`: "+i);case 4:return[3,6];case 5:throw new Error("You must provide a `functionAuthProvider` function to `DataStore.configure` when using "+$a.AWS_LAMBDA);case 6:return[2]}}))}))}var dT,hT,pT=function(){return pT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},pT.apply(this,arguments)},gT=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},vT=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},yT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},mT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},bT=function(){function e(e,t,n,r){this.schema=e,this.MutationEvent=t,this.modelInstanceCreator=n,this.ownSymbol=r}return e.prototype.enqueue=function(e,t){return gT(this,void 0,void 0,(function(){var n=this;return vT(this,(function(r){return e.runExclusive((function(e){return gT(n,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f=this;return vT(this,(function(d){switch(d.label){case 0:return n=this.schema.namespaces[k_].models.MutationEvent,r=_x.createFromExisting(n,(function(e){return e.modelId("eq",t.modelId).id("ne",f.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,r)];case 1:return i=mT.apply(void 0,[d.sent(),1]),void 0!==(o=i[0])?[3,3]:[4,e.save(t,void 0,this.ownSymbol)];case 2:return d.sent(),[2];case 3:return s=t.operation,o.operation!==zI.CREATE?[3,8]:s!==zI.DELETE?[3,5]:[4,e.delete(this.MutationEvent,r)];case 4:return d.sent(),[3,7];case 5:return a=this.mergeUserFields(o,t),[4,e.save(this.MutationEvent.copyOf(o,(function(e){e.data=a.data})),void 0,this.ownSymbol)];case 6:d.sent(),d.label=7;case 7:return[3,12];case 8:return u=t.condition,c=JSON.parse(u),l=void 0,0!==Object.keys(c).length?[3,10]:(l=this.mergeUserFields(o,t),[4,e.delete(this.MutationEvent,r)]);case 9:d.sent(),d.label=10;case 10:return l=l||t,[4,e.save(l,void 0,this.ownSymbol)];case 11:d.sent(),d.label=12;case 12:return[2]}}))}))})),[2]}))}))},e.prototype.dequeue=function(e,t,n){return gT(this,void 0,void 0,(function(){var r;return vT(this,(function(i){switch(i.label){case 0:return[4,this.peek(e)];case 1:return r=i.sent(),t?[4,this.syncOutboxVersionsOnDequeue(e,t,r,n)]:[3,3];case 2:i.sent(),i.label=3;case 3:return[4,e.delete(r)];case 4:return i.sent(),this.inProgressMutationEventId=void 0,[2,r]}}))}))},e.prototype.peek=function(e){return gT(this,void 0,void 0,(function(){var t;return vT(this,(function(n){switch(n.label){case 0:return[4,e.queryOne(this.MutationEvent,z_.FIRST)];case 1:return t=n.sent(),this.inProgressMutationEventId=t?t.id:void 0,[2,t]}}))}))},e.prototype.getForModel=function(e,t){return gT(this,void 0,void 0,(function(){var n;return vT(this,(function(r){switch(r.label){case 0:return n=this.schema.namespaces[k_].models.MutationEvent,[4,e.query(this.MutationEvent,_x.createFromExisting(n,(function(e){return e.modelId("eq",t.id)})))];case 1:return[2,r.sent()]}}))}))},e.prototype.getModelIds=function(e){return gT(this,void 0,void 0,(function(){var t,n;return vT(this,(function(r){switch(r.label){case 0:return[4,e.query(this.MutationEvent)];case 1:return t=r.sent(),n=new Set,t.forEach((function(e){var t=e.modelId;return n.add(t)})),[2,n]}}))}))},e.prototype.syncOutboxVersionsOnDequeue=function(e,t,n,r){return gT(this,void 0,void 0,(function(){var i,o,s,a,u,c,l,f,d,h,p,g=this;return vT(this,(function(v){switch(v.label){case 0:return n.operation!==r?[2]:(i=t._version,o=t._lastChangedAt,s=yT(t,["_version","_lastChangedAt","_deleted"]),a=this.removeTimestampFields(n.model,s),(u=JSON.parse(n.data))?(c=yT(u,["_version","_lastChangedAt","_deleted"]),l=this.removeTimestampFields(n.model,c),U_(a,l,!0)?(f=this.schema.namespaces[k_].models.MutationEvent,d=_x.createFromExisting(f,(function(e){return e.modelId("eq",t.id).id("ne",g.inProgressMutationEventId)})),[4,e.query(this.MutationEvent,d)]):[2]):[2]);case 1:return(h=v.sent()).length?(p=h.map((function(e){var t=JSON.parse(e.data),n=pT(pT({},t),{_version:i,_lastChangedAt:o});return g.MutationEvent.copyOf(e,(function(e){e.data=JSON.stringify(n)}))})),[4,e.delete(this.MutationEvent,d)]):[2];case 2:return v.sent(),[4,Promise.all(p.map((function(t){return gT(g,void 0,void 0,(function(){return vT(this,(function(n){switch(n.label){case 0:return[4,e.save(t,void 0,this.ownSymbol)];case 1:return[2,n.sent()]}}))}))})))];case 3:return v.sent(),[2]}}))}))},e.prototype.mergeUserFields=function(e,t){var n=JSON.parse(e.data),r=n._version,i=n.id,o=n._lastChangedAt,s=n._deleted,a=yT(n,["_version","id","_lastChangedAt","_deleted"]),u=JSON.parse(t.data);u.id,u._version,u._lastChangedAt,u._deleted;var c=yT(u,["id","_version","_lastChangedAt","_deleted"]),l=JSON.stringify(pT(pT({id:i,_version:r,_lastChangedAt:o,_deleted:s},a),c));return this.modelInstanceCreator(this.MutationEvent,pT(pT({},t),{data:l}))},e.prototype.removeTimestampFields=function(e,t){var n,r,i="createdAt",o="updatedAt",s=i,a=o,u=null===(n=this.schema.namespaces[P_].models[e].attributes)||void 0===n?void 0:n.find((function(e){return"model"===e.type})),c=null===(r=null==u?void 0:u.properties)||void 0===r?void 0:r.timestamps;return c&&(s=c.createdAt,a=c.updatedAt),delete t[s],delete t[a],t},e}(),wT=function(){return wT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wT.apply(this,arguments)},ST=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},ET=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},AT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},CT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},_T=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},xT=new ie("DataStore"),IT=function(){function e(e,t,n,r,i,o,s,a,u,c){void 0===s&&(s={}),this.schema=e,this.storage=t,this.userClasses=n,this.outbox=r,this.modelInstanceCreator=i,this.MutationEvent=o,this.amplifyConfig=s,this.authModeStrategy=a,this.conflictHandler=u,this.errorHandler=c,this.typeQuery=new WeakMap,this.processing=!1,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=CT(rT(t,n,"CREATE"),1)[0],i=CT(rT(t,n,"UPDATE"),1)[0],o=CT(rT(t,n,"DELETE"),1)[0];e.typeQuery.set(n,[r,i,o])}))}))},e.prototype.isReady=function(){return void 0!==this.observer},e.prototype.start=function(){var e=this;return new sn((function(t){return e.observer=t,e.resume(),function(){e.pause()}}))},e.prototype.resume=function(){return ST(this,void 0,void 0,(function(){var e,t,n,r,i,o=this;return ET(this,(function(s){switch(s.label){case 0:if(this.processing||!this.isReady())return[2];this.processing=!0,t=P_,n=function(){var n,i,s,a,u,c,l,f,d,h,p,g,v,y,m,b;return ET(this,(function(w){switch(w.label){case 0:n=e.model,i=e.operation,s=e.data,a=e.condition,u=r.userClasses[n],c=void 0,l=void 0,f=void 0,w.label=1;case 1:return w.trys.push([1,4,,5]),[4,uT({authModeStrategy:r.authModeStrategy,defaultAuthMode:r.amplifyConfig.aws_appsync_authenticationType,modelName:n,schema:r.schema})];case 2:return d=w.sent(),h=d[i.toUpperCase()],p=0,g=function(){return ST(o,void 0,void 0,(function(){var r,o;return ET(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,4]),xT.debug("Attempting mutation with authMode: "+h[p]),[4,this.jitteredRetry(t,n,i,s,a,u,this.MutationEvent,e,h[p])];case 1:return r=c.sent(),xT.debug("Mutation sent successfully with authMode: "+h[p]),[2,r];case 2:if(o=c.sent(),++p>=h.length)throw xT.debug("Mutation failed with authMode: "+h[p-1]),o;return xT.debug("Mutation failed with authMode: "+h[p-1]+". Retrying with authMode: "+h[p]),[4,g()];case 3:return[2,c.sent()];case 4:return[2]}}))}))},[4,g()];case 3:return b=CT.apply(void 0,[w.sent(),3]),c=b[0],l=b[1],f=b[2],[3,5];case 4:return"Offline"===(v=w.sent()).message||"RetryMutation"===v.message?[2,"continue"]:[3,5];case 5:return void 0!==c?[3,7]:(xT.debug("done retrying"),[4,r.storage.runExclusive((function(e){return ST(o,void 0,void 0,(function(){return ET(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e)];case 1:return t.sent(),[2]}}))}))}))]);case 6:return w.sent(),[2,"continue"];case 7:return y=c.data[l],m=!1,[4,r.storage.runExclusive((function(e){return ST(o,void 0,void 0,(function(){return ET(this,(function(t){switch(t.label){case 0:return[4,this.outbox.dequeue(e,y,i)];case 1:return t.sent(),[4,this.outbox.peek(e)];case 2:return m=void 0!==t.sent(),[2]}}))}))}))];case 8:return w.sent(),r.observer.next({operation:i,modelDefinition:f,model:y,hasMore:m}),[2]}}))},r=this,s.label=1;case 1:return(i=this.processing)?[4,this.outbox.peek(this.storage)]:[3,3];case 2:i=void 0!==(e=s.sent()),s.label=3;case 3:return i?[5,n()]:[3,5];case 4:return s.sent(),[3,1];case 5:return this.pause(),[2]}}))}))},e.prototype.jitteredRetry=function(e,t,n,r,i,o,s,a,u){return ST(this,void 0,void 0,(function(){var c=this;return ET(this,(function(l){switch(l.label){case 0:return[4,Xt((function(t,n,r,i,o,s,a){return ST(c,void 0,void 0,(function(){var c,l,f,d,h,p,g,v,y,m,b,w,S,E,A,C,_,x,I,T,P,k,O,N,M,L,R;return ET(this,(function(U){switch(U.label){case 0:return c=CT(this.createQueryVariables(e,t,n,r,i),5),l=c[0],f=c[1],d=c[2],h=c[3],p=c[4],[4,fT(u,this.amplifyConfig)];case 1:g=U.sent(),v={query:l,variables:f,authMode:u,authToken:g},y=0,m=this.opTypeFromTransformerOperation(n),U.label=2;case 2:return U.trys.push([2,4,,20]),[4,FA.graphql(v)];case 3:return[2,[U.sent(),h,p]];case 4:if(!((b=U.sent()).errors&&b.errors.length>0))return[3,18];if(w=CT(b.errors,1),S=w[0],E=S.originalError,A=(void 0===E?{}:E).code,C=void 0===A?null:A,"Unauthorized"===S.errorType)throw new Yt("Unauthorized");if("Network Error"===S.message||"ECONNABORTED"===C){if(!this.processing)throw new Yt("Offline");throw new Error("Network Error")}return"ConflictUnhandled"!==S.errorType?[3,13]:(y++,_=void 0,y>10?(_=dx,[3,8]):[3,5]);case 5:return U.trys.push([5,7,,8]),[4,this.conflictHandler({modelConstructor:o,localModel:this.modelInstanceCreator(o,f.input),remoteModel:this.modelInstanceCreator(o,S.data),operation:m,attempts:y})];case 6:return _=U.sent(),[3,8];case 7:return x=U.sent(),xT.warn("conflict trycatch",x),[3,20];case 8:return _!==dx?[3,11]:(I=CT(rT(this.schema.namespaces[e],p,"GET"),1),T=CT(I[0],3),P=T[1],k=T[2],[4,fT(u,this.amplifyConfig)]);case 9:return O=U.sent(),[4,FA.graphql({query:k,variables:{id:f.input.id},authMode:u,authToken:O})];case 10:return[2,[U.sent(),P,p]];case 11:return N=this.schema.namespaces[e],M=iT(N.relationships,p,m,o,_,d,s,this.modelInstanceCreator,a.id),[4,this.storage.save(M)];case 12:throw U.sent(),new Yt("RetryMutation");case 13:return U.trys.push([13,15,16,17]),[4,this.errorHandler({localModel:this.modelInstanceCreator(o,f.input),message:S.message,operation:n,errorType:S.errorType,errorInfo:S.errorInfo,remoteModel:S.data?this.modelInstanceCreator(o,S.data):null})];case 14:return U.sent(),[3,17];case 15:return L=U.sent(),xT.warn("failed to execute errorHandler",L),[3,17];case 16:return[2,S.data?[{data:(R={},R[h]=S.data,R)},h,p]:[]];case 17:return[3,19];case 18:throw new Yt(b);case 19:return[3,20];case 20:if(v)return[3,2];U.label=21;case 21:return[2]}}))}))}),[t,n,r,i,o,s,a],kT)];case 1:return[2,l.sent()]}}))}))},e.prototype.createQueryVariables=function(e,t,n,r,i){var o,s,a=this.schema.namespaces[e].models[t],u=this.schema.namespaces[e].keys[t].primaryKey,c=this.typeQuery.get(a),l=CT(c.find((function(e){return CT(e,1)[0]===n})),3),f=l[1],d=l[2],h=JSON.parse(r),p=h._version,g=AT(h,["_version"]),v={};if(u&&u.length)try{for(var y=_T(u),m=y.next();!m.done;m=y.next()){var b=m.value;v[b]=g[b]}}catch(e){o={error:e}}finally{try{m&&!m.done&&(s=y.return)&&s.call(y)}finally{if(o)throw o.error}}else v.id=g.id;var w=n===zI.DELETE?v:Object.values(a.fields).filter((function(e){var t=e.name,r=e.type,i=e.association;return ux(r)?!(!rx(i)||"BELONGS_TO"!==i.connectionType):n!==zI.UPDATE||g.hasOwnProperty(t)})).map((function(e){var t=e.name,n=e.type,r=e.association,i=t,o=g[t];return ux(n)&&rx(r)&&(i=r.targetName,o=g[i]),[i,o]})).reduce((function(e,t){var n=CT(t,2),r=n[0],i=n[1];return e[r]=i,e}),{}),S=wT(wT({},w),{_version:p}),E=JSON.parse(i);return[d,wT({input:S},n===zI.CREATE?{}:{condition:Object.keys(E).length>0?E:null}),E,f,a]},e.prototype.opTypeFromTransformerOperation=function(e){switch(e){case zI.CREATE:return F_.INSERT;case zI.DELETE:return F_.DELETE;case zI.UPDATE:return F_.UPDATE;case zI.GET:break;default:g_(e)}},e.prototype.pause=function(){this.processing=!1},e}(),TT=3e5,PT=en(TT),kT=function(e,t,n){var r=PT(e);return!1===r&&"Network Error"===(null==n?void 0:n.message)?TT:r},OT=function(){return OT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},OT.apply(this,arguments)},NT=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},MT=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},LT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},RT=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(LT(arguments[t]));return e},UT=new ie("DataStore");!function(e){e.CONNECTED="CONNECTED"}(dT||(dT={})),function(e){e[e.none=0]="none",e[e.unauth=1]="unauth",e[e.auth=2]="auth"}(hT||(hT={}));var DT,BT=function(){function e(e,t,n,r){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.typeQuery=new WeakMap,this.buffer=[]}return e.prototype.buildSubscription=function(e,t,n,r,i,o,s){var a=this.amplifyConfig.aws_appsync_authenticationType,u=this.getAuthorizationInfo(t,r,a,i,o,s)||{},c=u.isOwner,l=u.ownerField,f=u.ownerValue,d=LT(function(e,t,n,r,i){var o=tT(e,t),s=t.name;t.pluralName;var a="on"+n+s,u="",c="";return r&&(u="($"+i+": String!)",c="("+i+": $"+i+")"),[n,a,"subscription operation"+u+"{\n\t\t\t"+a+c+"{\n\t\t\t\t"+o+"\n\t\t\t}\n\t\t}"]}(e,t,n,c,l),3);return{authMode:s,opType:d[0],opName:d[1],query:d[2],isOwner:c,ownerField:l,ownerValue:f}},e.prototype.getAuthorizationInfo=function(e,t,n,r,i,o){void 0===r&&(r={}),void 0===i&&(i={});var s,a,u,c,l,f=(a=[].concat((s=e).attributes).find((function(e){return e&&"auth"===e.type})),u=(a||{}).properties,c=(void 0===u?{}:u).rules,l=[],(void 0===c?[]:c).forEach((function(e){var t=e.identityClaim,n=void 0===t?"cognito:username":t,r=e.ownerField,i=void 0===r?"owner":r,o=e.operations,a=void 0===o?["create","update","delete","read"]:o,u=e.provider,c=void 0===u?"userPools":u,f=e.groupClaim,d=void 0===f?"cognito:groups":f,h=e.allow,p=void 0===h?"iam":h,g=e.groups,v=void 0===g?[]:g,y="owner"===p;if(a.includes("read")||y){var m={identityClaim:n,ownerField:i,provider:c,groupClaim:d,authStrategy:p,groups:v,areSubscriptionsPublic:!1};if(y){var b=[].concat(s.attributes).find((function(e){return e&&"model"===e.type})),w=(b||{}).properties,S=(void 0===w?{}:w).subscriptions,E=(void 0===S?{}:S).level,A=void 0===E?"on":E;m.areSubscriptionsPublic=!a.includes("read")||"public"===A}y?l.push(m):l.unshift(m)}})),l);if(o===$a.AWS_IAM&&f.find((function(e){return"private"===e.authStrategy&&"iam"===e.provider}))&&t===hT.unauth)return null;var d,h=f.filter((function(e){return"groups"===e.authStrategy&&["userPools","oidc"].includes(e.provider)}));return o!==$a.AMAZON_COGNITO_USER_POOLS&&o!==$a.OPENID_CONNECT||!h.find((function(e){var t=aT(r,e),n=aT(i,e);return RT(t,n).find((function(t){return e.groups.find((function(e){return e===t}))}))}))?((o===$a.AMAZON_COGNITO_USER_POOLS?f.filter((function(e){return"owner"===e.authStrategy&&"userPools"===e.provider})):[]).forEach((function(e){var t=r[e.identityClaim];t&&(d={authMode:$a.AMAZON_COGNITO_USER_POOLS,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),d||((o===$a.OPENID_CONNECT?f.filter((function(e){return"owner"===e.authStrategy&&"oidc"===e.provider})):[]).forEach((function(e){var t=i[e.identityClaim];t&&(d={authMode:$a.OPENID_CONNECT,isOwner:!e.areSubscriptionsPublic,ownerField:e.ownerField,ownerValue:t})})),d||{authMode:o||n,isOwner:!1})):{authMode:o,isOwner:!1}},e.prototype.hubQueryCompletionListener=function(e,t){t.payload.event===gA.SUBSCRIPTION_ACK&&e()},e.prototype.start=function(){var e=this,t=new sn((function(t){var n,r,i=[],o={},s=hT.none;return NT(e,void 0,void 0,(function(){var e,a,u,c,l,f,d,h,p,g,v=this;return MT(this,(function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),[4,rl.currentCredentials()];case 1:return e=y.sent(),s=e.authenticated?hT.auth:hT.unauth,[3,3];case 2:return y.sent(),[3,3];case 3:return y.trys.push([3,5,,6]),[4,rl.currentSession()];case 4:return a=y.sent(),n=a.getIdToken().decodePayload(),[3,6];case 5:return y.sent(),[3,6];case 6:if(y.trys.push([6,11,,12]),u=this.amplifyConfig,c=u.aws_cognito_region,l=u.Auth,!c||l&&!l.region)throw"Auth is not configured";return f=void 0,[4,pl.getItem("federatedInfo")];case 7:return(d=y.sent())?(f=d.token,[3,10]):[3,8];case 8:return[4,rl.currentAuthenticatedUser()];case 9:(h=y.sent())&&(f=h.token),y.label=10;case 10:return f&&(p=f.split(".")[1],r=JSON.parse(Buffer.from(p,"base64").toString("utf8"))),[3,12];case 11:return g=y.sent(),UT.debug("error getting OIDC JWT",g),[3,12];case 12:return Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(a){return NT(v,void 0,void 0,(function(){var u,c,l,f,d,h,p,g,v=this;return MT(this,(function(y){switch(y.label){case 0:return[4,uT({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:a.name,schema:this.schema})];case 1:return u=y.sent(),c=u.READ,o=OT(OT({},o),((h={})[a.name]=((p={})[zI.CREATE]=[],p[zI.UPDATE]=[],p[zI.DELETE]=[],p),h)),l=[zI.CREATE,zI.UPDATE,zI.DELETE],(g={})[zI.CREATE]=0,g[zI.UPDATE]=0,g[zI.DELETE]=0,f=g,d=function(u){return NT(v,void 0,void 0,(function(){var l,h,p,g,v,y,m,b,w,S,E,A,C=this;return MT(this,(function(_){switch(_.label){case 0:return l=this.buildSubscription(e,a,u,s,n,r,c[f[u]]),h=l.opType,p=l.opName,g=l.query,v=l.isOwner,y=l.ownerField,m=l.ownerValue,[4,fT(b=l.authMode,this.amplifyConfig)];case 1:if(w=_.sent(),S={},v){if(!m)return t.error("Owner field required, sign in is needed in order to perform this operation"),[2];S[y]=m}return UT.debug("Attempting "+u+" subscription with authMode: "+c[f[u]]),E=FA.graphql(OT(OT({query:g,variables:S},{authMode:b}),{authToken:w})),o[a.name][h].push(E.map((function(e){return e.value})).subscribe({next:function(e){var t=e.data,n=e.errors;if(Array.isArray(n)&&n.length>0){var r=n.map((function(e){return e.message}));return UT.warn("Skipping incoming subscription. Messages: "+r.join("\n")),void C.drainBuffer()}var i=_x.getPredicates(C.syncPredicates.get(a),!1),o=t[p];C.passesPredicateValidation(o,i)&&C.pushToBuffer(h,a,o),C.drainBuffer()},error:function(e){var n=e.error,r=LT((void 0===n?{errors:[]}:n).errors,1)[0],i=(void 0===r?{}:r).message,s=void 0===i?"":i;if(s.includes(gA.REALTIME_SUBSCRIPTION_INIT_ERROR)||s.includes(gA.CONNECTION_FAILED))return o[a.name][h].forEach((function(e){return e.unsubscribe()})),o[a.name][h]=[],f[u]++,f[u]>=c.length?(UT.debug(u+" subscription failed with authMode: "+c[f[u]-1]),void UT.warn("subscriptionError",s)):(UT.debug(u+" subscription failed with authMode: "+c[f[u]-1]+". Retrying with authMode: "+c[f[u]]),void d(u));UT.warn("subscriptionError",s),"function"==typeof A&&A(),s.includes('"errorType":"Unauthorized"')||s.includes('"errorType":"OperationDisabled"')||t.error(s)}})),i.push(NT(C,void 0,void 0,(function(){var e,t=this;return MT(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){A=n,e=t.hubQueryCompletionListener.bind(t,n),ve.listen("api",e)}))];case 1:return n.sent(),ve.remove("api",e),[2]}}))}))),[2]}}))}))},l.forEach((function(e){return d(e)})),[2]}}))}))}))})),Promise.all(i).then((function(){return t.next(dT.CONNECTED)})),[2]}}))})),function(){Object.keys(o).forEach((function(e){o[e][zI.CREATE].forEach((function(e){return e.unsubscribe()})),o[e][zI.UPDATE].forEach((function(e){return e.unsubscribe()})),o[e][zI.DELETE].forEach((function(e){return e.unsubscribe()}))}))}}));return[t,new sn((function(t){return e.dataObserver=t,e.drainBuffer(),function(){e.dataObserver=null}}))]},e.prototype.passesPredicateValidation=function(e,t){if(!t)return!0;var n=t.predicates,r=t.type;return y_(e,r,n)},e.prototype.pushToBuffer=function(e,t,n){this.buffer.push([e,t,n])},e.prototype.drainBuffer=function(){var e=this;this.dataObserver&&(this.buffer.forEach((function(t){return e.dataObserver.next(t)})),this.buffer=[])},e}(),jT=function(){return jT=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},jT.apply(this,arguments)},FT=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},zT=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},KT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},qT=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},HT={items:[],nextToken:null,startedAt:null},VT=new ie("DataStore"),WT=function(){function e(e,t,n,r){void 0===n&&(n={}),this.schema=e,this.syncPredicates=t,this.amplifyConfig=n,this.authModeStrategy=r,this.typeQuery=new WeakMap,this.generateQueries()}return e.prototype.generateQueries=function(){var e=this;Object.values(this.schema.namespaces).forEach((function(t){Object.values(t.models).filter((function(e){return e.syncable})).forEach((function(n){var r=KT(rT(t,n,"LIST"),1),i=KT(r[0]).slice(1);e.typeQuery.set(n,i)}))}))},e.prototype.graphqlFilterFromPredicate=function(e){if(!this.syncPredicates)return null;var t=_x.getPredicates(this.syncPredicates.get(e),!1);return t?sT(t):null},e.prototype.retrievePage=function(e,t,n,r,i){return void 0===r&&(r=null),FT(this,void 0,void 0,(function(){var o,s,a,u,c,l,f,d,h,p,g,v,y,m=this;return zT(this,(function(b){switch(b.label){case 0:return o=KT(this.typeQuery.get(e),2),s=o[0],a=o[1],u={limit:r,nextToken:n,lastSync:t,filter:i},[4,uT({authModeStrategy:this.authModeStrategy,defaultAuthMode:this.amplifyConfig.aws_appsync_authenticationType,modelName:e.name,schema:this.schema})];case 1:return c=b.sent(),l=c.READ,f=0,d=function(){return FT(m,void 0,void 0,(function(){var t,n,r,i;return zT(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,4]),VT.debug("Attempting sync with authMode: "+l[f]),[4,this.jitteredRetry({query:a,variables:u,opName:s,modelDefinition:e,authMode:l[f]})];case 1:return t=o.sent(),VT.debug("Sync successful with authMode: "+l[f]),[2,t];case 2:if(n=o.sent(),++f>=l.length){if(r=l[f-1],VT.debug("Sync failed with authMode: "+r,n),lT(n)||cT(n))return VT.warn("User is unauthorized to query "+s+" with auth mode "+r+". No data could be returned."),[2,{data:(i={},i[s]=HT,i)}];throw n}return VT.debug("Sync failed with authMode: "+l[f-1]+". Retrying with authMode: "+l[f]),[4,d()];case 3:return[2,o.sent()];case 4:return[2]}}))}))},[4,d()];case 2:return h=b.sent().data,p=h[s],g=p.items,v=p.nextToken,y=p.startedAt,[2,{nextToken:v,startedAt:y,items:g}]}}))}))},e.prototype.partialDataFeatureFlagEnabled=function(){try{var e=sessionStorage.getItem("datastorePartialData");return Boolean(e)}catch(e){return!1}},e.prototype.jitteredRetry=function(e){var t=e.query,n=e.variables,r=e.opName,i=e.modelDefinition,o=e.authMode;return FT(this,void 0,void 0,(function(){var e=this;return zT(this,(function(s){switch(s.label){case 0:return[4,tn((function(t,n){return FT(e,void 0,void 0,(function(){var e,s,a,u,c;return zT(this,(function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,fT(o,this.amplifyConfig)];case 1:return e=l.sent(),[4,FA.graphql({query:t,variables:n,authMode:o,authToken:e})];case 2:return[2,l.sent()];case 3:if(s=l.sent(),a=lT(s)||cT(s))throw new Yt(a);if(u=Boolean(s&&s.data&&s.data[r]&&s.data[r].items),this.partialDataFeatureFlagEnabled()){if(u)return(c=s).data[r].items=c.data[r].items.filter((function(e){return null!==e})),s.errors&&ve.dispatch("datastore",{event:"syncQueriesPartialSyncError",data:{errors:s.errors,modelName:i.name}}),[2,c];throw s}if(s&&s.errors&&s.errors.some((function(e){return"Unauthorized"===e.errorType})))return c=s,u?c.data[r].items=c.data[r].items.filter((function(e){return null!==e})):c.data[r]=jT(jT({},HT),c.data[r]),VT.warn("queryError","User is unauthorized to query "+r+", some items could not be returned."),[2,c];throw s;case 4:return[2]}}))}))}),[t,n])];case 1:return[2,s.sent()]}}))}))},e.prototype.start=function(e){var t=this,n=!0,r=this.amplifyConfig,i=r.maxRecordsToSync,o=r.syncPageSize,s=new Map,a=new sn((function(r){var a=Object.values(t.schema.namespaces).reduce((function(t,n){var r,i;try{for(var o=qT(Array.from(n.modelTopologicalOrdering.keys())),s=o.next();!s.done;s=o.next()){var a=s.value,u=e.get(n.models[a]);t.set(n.models[a],u)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return t}),new Map),u=Array.from(a.entries()).filter((function(e){return KT(e,1)[0].syncable})).map((function(e){var a=KT(e,2),u=a[0],c=KT(a[1],2),l=c[0],f=c[1];return FT(t,void 0,void 0,(function(){var e,t,a,c,d,h,p,g,v,y=this;return zT(this,(function(m){switch(m.label){case 0:return e=!1,t=null,a=null,c=null,d=0,h=this.graphqlFilterFromPredicate(u),p=this.schema.namespaces[l].modelTopologicalOrdering.get(u.name),g=p.map((function(e){return s.get(l+"_"+e)})),v=new Promise((function(s){return FT(y,void 0,void 0,(function(){var p,v;return zT(this,(function(y){switch(y.label){case 0:return[4,Promise.all(g)];case 1:y.sent(),y.label=2;case 2:return n?(p=Math.min(i-d,o),[4,this.retrievePage(u,f,t,p,h)]):[2];case 3:v=y.sent(),c=v.items,t=v.nextToken,a=v.startedAt,d+=c.length,e=null===t||d>=i,r.next({namespace:l,modelDefinition:u,items:c,done:e,startedAt:a,isFullSync:!f}),y.label=4;case 4:if(!e)return[3,2];y.label=5;case 5:return s(),[2]}}))}))})),s.set(l+"_"+u.name,v),[4,v];case 1:return m.sent(),[2]}}))}))}));return Promise.all(u).then((function(){r.complete()})),function(){n=!1}}));return a},e}(),GT=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},JT=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ZT=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},QT=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},YT=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ZT(arguments[t]));return e},XT=Ne().isNode,$T=new ie("DataStore"),eP=Symbol("sync");!function(e){e.SYNC_ENGINE_STORAGE_SUBSCRIBED="storageSubscribed",e.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED="subscriptionsEstablished",e.SYNC_ENGINE_SYNC_QUERIES_STARTED="syncQueriesStarted",e.SYNC_ENGINE_SYNC_QUERIES_READY="syncQueriesReady",e.SYNC_ENGINE_MODEL_SYNCED="modelSynced",e.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED="outboxMutationEnqueued",e.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED="outboxMutationProcessed",e.SYNC_ENGINE_OUTBOX_STATUS="outboxStatus",e.SYNC_ENGINE_NETWORK_STATUS="networkStatus",e.SYNC_ENGINE_READY="ready"}(DT||(DT={}));var tP=function(){function e(e,t,n,r,i,o,s,a,u,c,l){void 0===c&&(c={}),this.schema=e,this.namespaceResolver=t,this.modelClasses=n,this.userModelClasses=r,this.storage=i,this.modelInstanceCreator=o,this.syncPredicates=u,this.amplifyConfig=c,this.authModeStrategy=l,this.online=!1,this.modelSyncedStatus=new WeakMap;var f=this.modelClasses.MutationEvent;this.outbox=new bT(this.schema,f,o,eP),this.modelMerger=new JI(this.outbox,eP),this.syncQueriesProcessor=new WT(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.subscriptionsProcessor=new BT(this.schema,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),this.mutationsProcessor=new IT(this.schema,this.storage,this.userModelClasses,this.outbox,this.modelInstanceCreator,f,this.amplifyConfig,this.authModeStrategy,s,a),this.datastoreConnectivity=new KI}return e.prototype.getModelSyncedStatus=function(e){return this.modelSyncedStatus.get(e)},e.prototype.start=function(e){var t=this;return new sn((function(n){$T.log("starting sync engine...");var r=[];return GT(t,void 0,void 0,(function(){var t,i,o,s=this;return JT(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.setupModels(e)];case 1:return a.sent(),[3,3];case 2:return t=a.sent(),n.error(t),[2];case 3:return i=new Promise((function(e){s.datastoreConnectivity.status().subscribe((function(t){var i=t.online;return GT(s,void 0,void 0,(function(){var t,o,s,a,u,c=this;return JT(this,(function(l){switch(l.label){case 0:return!i||this.online?[3,10]:(this.online=i,n.next({type:DT.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),o=void 0,XT?($T.warn("Realtime disabled when in a server-side environment"),[3,6]):[3,1]);case 1:u=ZT(this.subscriptionsProcessor.start(),2),t=u[0],o=u[1],l.label=2;case 2:return l.trys.push([2,4,,5]),[4,new Promise((function(e,n){var i=t.subscribe({next:function(t){t===dT.CONNECTED&&e()},error:function(e){n(e),c.disconnectionHandler()(e)}});r.push(i)}))];case 3:return l.sent(),[3,5];case 4:return s=l.sent(),n.error(s),[2];case 5:$T.log("Realtime ready"),n.next({type:DT.SYNC_ENGINE_SUBSCRIPTIONS_ESTABLISHED}),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,new Promise((function(e,t){var i=c.syncQueriesObservable().subscribe({next:function(t){t.type===DT.SYNC_ENGINE_SYNC_QUERIES_READY&&e(),n.next(t)},complete:function(){e()},error:function(e){t(e)}});i&&r.push(i)}))];case 7:return l.sent(),[3,9];case 8:return a=l.sent(),n.error(a),[2];case 9:return r.push(this.mutationsProcessor.start().subscribe((function(e){var t=e.modelDefinition,r=e.model,i=e.hasMore,o=c.userModelClasses[t.name],s=c.modelInstanceCreator(o,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,s)})),n.next({type:DT.SYNC_ENGINE_OUTBOX_MUTATION_PROCESSED,data:{model:o,element:s}}),n.next({type:DT.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!i}})}))),XT||r.push(o.subscribe((function(e){var t=ZT(e,3);t[0];var n=t[1],r=t[2],i=c.userModelClasses[n.name],o=c.modelInstanceCreator(i,r);c.storage.runExclusive((function(e){return c.modelMerger.merge(e,o)}))}))),[3,11];case 10:i||(this.online=i,n.next({type:DT.SYNC_ENGINE_NETWORK_STATUS,data:{active:this.online}}),r.forEach((function(e){return e.unsubscribe()})),r=[]),l.label=11;case 11:return e(),[2]}}))}))}))})),this.storage.observe(null,null,eP).filter((function(e){var t=e.model;return!0===s.getModelDefinition(t).syncable})).subscribe({next:function(e){var t=e.opType,r=e.model,o=e.element,a=e.condition;return GT(s,void 0,void 0,(function(){var e,s,u,c;return JT(this,(function(l){switch(l.label){case 0:return e=this.schema.namespaces[this.namespaceResolver(r)],s=this.modelClasses.MutationEvent,u=oT(a),c=iT(e.relationships,this.getModelDefinition(r),t,r,o,u,s,this.modelInstanceCreator),[4,this.outbox.enqueue(this.storage,c)];case 1:return l.sent(),n.next({type:DT.SYNC_ENGINE_OUTBOX_MUTATION_ENQUEUED,data:{model:r,element:o}}),n.next({type:DT.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:!1}}),[4,i];case 2:return l.sent(),this.online&&this.mutationsProcessor.resume(),[2]}}))}))}}),n.next({type:DT.SYNC_ENGINE_STORAGE_SUBSCRIBED}),[4,this.outbox.peek(this.storage)];case 4:return o=void 0===a.sent(),n.next({type:DT.SYNC_ENGINE_OUTBOX_STATUS,data:{isEmpty:o}}),[4,i];case 5:return a.sent(),n.next({type:DT.SYNC_ENGINE_READY}),[2]}}))})),function(){r.forEach((function(e){return e.unsubscribe()}))}}))},e.prototype.getModelsMetadataWithNextFullSync=function(e){return GT(this,void 0,void 0,(function(){var t,n=this;return JT(this,(function(r){switch(r.label){case 0:return t=Map.bind,[4,this.getModelsMetadata()];case 1:return[2,new(t.apply(Map,[void 0,r.sent().map((function(t){var r=t.namespace,i=t.model,o=t.lastSync,s=t.lastFullSync,a=t.fullSyncInterval;t.lastSyncPredicate;var u=!s||s+a<e?0:o;return[n.schema.namespaces[r].models[i],[r,u]]}))]))]}}))}))},e.prototype.syncQueriesObservable=function(){var e=this;return this.online?new sn((function(t){var n,r;return GT(e,void 0,void 0,(function(){var e,i,o=this;return JT(this,(function(s){switch(s.label){case 0:e=function(){var e,s,a,u,c,l,f,d,h;return JT(this,(function(p){switch(p.label){case 0:return e=new WeakMap,[4,i.getModelsMetadataWithNextFullSync(Date.now())];case 1:return s=p.sent(),a=new Set(s.keys()),[4,new Promise((function(r){n=o.syncQueriesProcessor.start(s).subscribe({next:function(i){var s=i.namespace,h=i.modelDefinition,p=i.items,g=i.done,v=i.startedAt,y=i.isFullSync;return GT(o,void 0,void 0,(function(){var i,o,m,b,w,S,E=this;return JT(this,(function(A){switch(A.label){case 0:return i=this.userModelClasses[h.name],e.has(i)||(e.set(i,{new:0,updated:0,deleted:0}),l=L_(),d=void 0===d?v:Math.max(d,v)),[4,this.storage.runExclusive((function(t){return GT(E,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f,d,h,g,v,y,m;return JT(this,(function(b){switch(b.label){case 0:return[4,this.outbox.getModelIds(t)];case 1:n=b.sent(),r=[],o=p.filter((function(e){return!n.has(e.id)||(r.push(e),!1)})),s=[],b.label=2;case 2:b.trys.push([2,7,8,9]),a=QT(r),u=a.next(),b.label=3;case 3:return u.done?[3,6]:(c=u.value,[4,this.modelMerger.merge(t,c)]);case 4:void 0!==(l=b.sent())&&s.push([c,l]),b.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return f=b.sent(),y={error:f},[3,9];case 8:try{u&&!u.done&&(m=a.return)&&m.call(a)}finally{if(y)throw y.error}return[7];case 9:return h=(d=s.push).apply,g=[s],[4,this.modelMerger.mergePage(t,i,o)];case 10:return h.apply(d,g.concat([YT.apply(void 0,[b.sent()])])),v=e.get(i),s.forEach((function(e){var t=ZT(e,2)[1];switch(t){case F_.INSERT:v.new++;break;case F_.UPDATE:v.updated++;break;case F_.DELETE:v.deleted++;break;default:g_(t)}})),[2]}}))}))}))];case 1:return A.sent(),g?(o=h.name,[4,this.getModelMetadata(s,o)]):[3,4];case 2:return m=A.sent(),b=m.lastFullSync,w=m.fullSyncInterval,c=w,u=void 0===u?b:Math.max(u,y?v:b),m=this.modelClasses.ModelMetadata.copyOf(m,(function(e){e.lastSync=v,e.lastFullSync=y?v:m.lastFullSync})),[4,this.storage.save(m,void 0,eP)];case 3:A.sent(),S=e.get(i),this.modelSyncedStatus.set(i,!0),t.next({type:DT.SYNC_ENGINE_MODEL_SYNCED,data:{model:i,isFullSync:y,isDeltaSync:!y,counts:S}}),a.delete(h),0===a.size&&(f=L_()-l,r(),t.next({type:DT.SYNC_ENGINE_SYNC_QUERIES_READY}),n.unsubscribe()),A.label=4;case 4:return[2]}}))}))},error:function(e){t.error(e)}}),t.next({type:DT.SYNC_ENGINE_SYNC_QUERIES_STARTED,data:{models:Array.from(a).map((function(e){return e.name}))}})}))];case 2:return p.sent(),h=u+c-(d+f),$T.debug("Next fullSync in "+h/1e3+" seconds. ("+new Date(Date.now()+h)+")"),[4,new Promise((function(e){r=setTimeout(e,h)}))];case 3:return p.sent(),[2]}}))},i=this,s.label=1;case 1:return t.closed?[3,3]:[5,e()];case 2:return s.sent(),[3,1];case 3:return[2]}}))})),function(){n&&n.unsubscribe(),r&&clearTimeout(r)}})):sn.of()},e.prototype.disconnectionHandler=function(){var e=this;return function(t){gA.CONNECTION_CLOSED!==t&&gA.TIMEOUT_DISCONNECT!==t||e.datastoreConnectivity.socketDisconnected()}},e.prototype.unsubscribeConnectivity=function(){this.datastoreConnectivity.unsubscribe()},e.prototype.setupModels=function(e){return GT(this,void 0,void 0,(function(){var t,n,r,i,o,s,a,u,c,l,f,d,h,p=this;return JT(this,(function(g){switch(g.label){case 0:t=e.fullSyncInterval,n=this.modelClasses.ModelMetadata,r=[],Object.values(this.schema.namespaces).forEach((function(e){Object.values(e.models).filter((function(e){return e.syncable})).forEach((function(t){if(r.push([e.name,t]),e.name===P_){var n=p.userModelClasses[t.name];p.modelSyncedStatus.set(n,!1)}}))})),o=r.map((function(e){var r=ZT(e,2),o=r[0],s=r[1];return GT(p,void 0,void 0,(function(){var e,r,a,u,c,l,f,d,h;return JT(this,(function(p){switch(p.label){case 0:return[4,this.getModelMetadata(o,s.name)];case 1:return e=p.sent(),r=_x.getPredicates(this.syncPredicates.get(s),!1),a=r?JSON.stringify(r):null,void 0!==e?[3,3]:[4,this.storage.save(this.modelInstanceCreator(n,{model:s.name,namespace:o,lastSync:null,fullSyncInterval:t,lastFullSync:null,lastSyncPredicate:a}),void 0,eP)];case 2:return l=ZT.apply(void 0,[p.sent(),1]),f=ZT(l[0],1),i=f[0],[3,5];case 3:return u=e.lastSyncPredicate?e.lastSyncPredicate:null,c=u!==a,[4,this.storage.save(this.modelClasses.ModelMetadata.copyOf(e,(function(e){e.fullSyncInterval=t,c&&(e.lastSync=null,e.lastFullSync=null,e.lastSyncPredicate=a)})))];case 4:d=ZT.apply(void 0,[p.sent(),1]),h=ZT(d[0],1),i=h[0],p.label=5;case 5:return[2,i]}}))}))})),s={},g.label=1;case 1:return g.trys.push([1,6,7,8]),[4,Promise.all(o)];case 2:a=QT.apply(void 0,[g.sent()]),u=a.next(),g.label=3;case 3:if(u.done)return[3,5];c=u.value,l=c.model,s[l]=c,g.label=4;case 4:return u=a.next(),[3,3];case 5:return[3,8];case 6:return f=g.sent(),d={error:f},[3,8];case 7:try{u&&!u.done&&(h=a.return)&&h.call(a)}finally{if(d)throw d.error}return[7];case 8:return[2,s]}}))}))},e.prototype.getModelsMetadata=function(){return GT(this,void 0,void 0,(function(){var e;return JT(this,(function(t){switch(t.label){case 0:return e=this.modelClasses.ModelMetadata,[4,this.storage.query(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.getModelMetadata=function(e,t){return GT(this,void 0,void 0,(function(){var n,r,i;return JT(this,(function(o){switch(o.label){case 0:return n=this.modelClasses.ModelMetadata,r=_x.createFromExisting(this.schema.namespaces[k_].models[n.name],(function(n){return n.namespace("eq",e).model("eq",t)})),[4,this.storage.query(n,r,{page:0,limit:1})];case 1:return i=ZT.apply(void 0,[o.sent(),1]),[2,i[0]]}}))}))},e.prototype.getModelDefinition=function(e){var t=this.namespaceResolver(e);return this.schema.namespaces[t].models[e.name]},e.getNamespace=function(){return{name:k_,relationships:{},enums:{OperationType:{name:"OperationType",values:["CREATE","UPDATE","DELETE"]}},nonModels:{},models:{MutationEvent:{name:"MutationEvent",pluralName:"MutationEvents",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},data:{name:"data",type:"String",isRequired:!0,isArray:!1},modelId:{name:"modelId",type:"String",isRequired:!0,isArray:!1},operation:{name:"operation",type:{enum:"Operationtype"},isArray:!1,isRequired:!0},condition:{name:"condition",type:"String",isArray:!1,isRequired:!0}}},ModelMetadata:{name:"ModelMetadata",pluralName:"ModelsMetadata",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},namespace:{name:"namespace",type:"String",isRequired:!0,isArray:!1},model:{name:"model",type:"String",isRequired:!0,isArray:!1},lastSync:{name:"lastSync",type:"Int",isRequired:!1,isArray:!1},lastFullSync:{name:"lastFullSync",type:"Int",isRequired:!1,isArray:!1},fullSyncInterval:{name:"fullSyncInterval",type:"Int",isRequired:!0,isArray:!1},lastSyncPredicate:{name:"lastSyncPredicate",type:"String",isRequired:!1,isArray:!1}}}}}},e}(),nP=function(){return nP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},nP.apply(this,arguments)},rP=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},iP=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},oP=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},sP=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},aP=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},uP=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sP(arguments[t]));return e};jC(!0),function(){function e(t){if(!qA(t))return t;if(Array.isArray(t))return t.map(e);if(ZA(t))return new Map(Array.from(t.entries()).map((function(t){return[t[0],e(t[1])]})));if(QA(t))return new Set(Array.from(t).map(e));var n=Object.create(Object.getPrototypeOf(t));for(var r in t)n[r]=e(t[r]);return WA(t,IC)&&(n[IC]=t[IC]),n}function t(t){return KA(t)?e(t):t}var n="add";!function(e,t){MC[e]||(MC[e]=t)}("Patches",{$:function(t,r){return r.forEach((function(r){for(var i=r.path,o=r.op,s=t,a=0;a<i.length-1;a++){var u=VA(s),c=""+i[a];0!==u&&1!==u||"__proto__"!==c&&"constructor"!==c||zA(24),"function"==typeof s&&"prototype"===c&&zA(24),"object"!=typeof(s=GA(s,c))&&zA(15,i.join("/"))}var l=VA(s),f=e(r.value),d=i[i.length-1];switch(o){case"replace":switch(l){case 2:return s.set(d,f);case 3:zA(16);default:return s[d]=f}case n:switch(l){case 1:return s.splice(d,0,f);case 2:return s.set(d,f);case 3:return s.add(f);default:return s[d]=f}case"remove":switch(l){case 1:return s.splice(d,1);case 2:return s.delete(d);case 3:return s.delete(r.value);default:return delete s[d]}default:zA(17,o)}})),t},R:function(e,r,i,o){switch(e.i){case 0:case 4:case 2:return function(e,r,i,o){var s=e.t,a=e.o;HA(e.D,(function(e,u){var c=GA(s,e),l=GA(a,e),f=u?WA(s,e)?"replace":n:"remove";if(c!==l||"replace"!==f){var d=r.concat(e);i.push("remove"===f?{op:f,path:d}:{op:f,path:d,value:l}),o.push(f===n?{op:"remove",path:d}:"remove"===f?{op:n,path:d,value:t(c)}:{op:"replace",path:d,value:t(c)})}}))}(e,r,i,o);case 5:case 1:return function(e,r,i,o){var s=e.t,a=e.D,u=e.o;if(u.length<s.length){var c=[u,s];s=c[0],u=c[1];var l=[o,i];i=l[0],o=l[1]}for(var f=0;f<s.length;f++)if(a[f]&&u[f]!==s[f]){var d=r.concat([f]);i.push({op:"replace",path:d,value:t(u[f])}),o.push({op:"replace",path:d,value:t(s[f])})}for(var h=s.length;h<u.length;h++){var p=r.concat([h]);i.push({op:n,path:p,value:t(u[h])})}s.length<u.length&&o.push({op:"replace",path:r.concat(["length"]),value:s.length})}(e,r,i,o);case 3:return function(e,t,r,i){var o=e.t,s=e.o,a=0;o.forEach((function(e){if(!s.has(e)){var o=t.concat([a]);r.push({op:"remove",path:o,value:e}),i.unshift({op:n,path:o,value:e})}a++})),a=0,s.forEach((function(e){if(!o.has(e)){var s=t.concat([a]);r.push({op:n,path:s,value:e}),i.unshift({op:"remove",path:s,value:e})}a++}))}(e,r,i,o)}},M:function(e,t,n,r){n.push({op:"replace",path:[],value:t===xC?void 0:t}),r.push({op:"replace",path:[],value:e.t})}})}();var cP,lP,fP,dP,hP,pP=new ie("DataStore"),gP=M_(Date.now()),vP=Ue.browserOrNode().isNode,yP="schemaVersion",mP=new WeakMap,bP=new WeakMap,wP=function(e){var t=mP.get(e);return cP.namespaces[t].models[e.name]},SP=function(e){return b_(e)&&mP.has(e)},EP=function(e){return mP.get(e)},AP=function(e){var t={};return Object.entries(e.models).forEach((function(n){var r=sP(n,2),i=r[0],o=r[1],s=kP(o);t[i]=s,mP.set(s,e.name)})),Object.entries(e.nonModels||{}).forEach((function(e){var n=sP(e,2),r=n[0],i=n[1],o=MP(i);t[r]=o})),t},CP=new WeakSet;function _P(e,t){return CP.add(t),new e(t)}var xP,IP=function(e){return function(t,n){var r=e.fields[t];if(void 0!==r){var i=r.type,o=r.isRequired,s=r.isArrayNullable,a=r.name,u=r.isArray;if((!u&&o||u&&!s)&&null==n)throw new Error("Field "+a+" is required");if(ax(i)){var c=j_.getJSType(i),l=j_.getValidationFunction(i);if("AWSJSON"===i){if(typeof n===c)return;if("string"==typeof n)try{return void JSON.parse(n)}catch(e){throw new Error("Field "+a+" is an invalid JSON object. "+n)}}if(u){var f=c;if(o||(f=c+" | null | undefined"),!Array.isArray(n)&&!s)throw new Error("Field "+a+" should be of type ["+f+"], "+typeof n+" received. "+n);if(!v_(n)&&n.some((function(e){return v_(e)?o:typeof e!==c}))){var d=n.map((function(e){return null===e?"null":typeof e})).join(",");throw new Error("All elements in the "+a+" array should be of type "+f+", ["+d+"] received. "+n)}if(l&&!v_(n))if(!n.map((function(e){return v_(e)?!(!v_(e)||o):l(e)})).every((function(e){return e})))throw new Error("All elements in the "+a+" array should be of type "+i+", validation failed for one or more elements. "+n)}else{if(!o&&void 0===n)return;if(typeof n!==c&&null!==n)throw new Error("Field "+a+" should be of type "+c+", "+typeof n+" received. "+n);if(!v_(n)&&l&&!l(n))throw new Error("Field "+a+" should be of type "+i+", validation failed. "+n)}}}}},TP=function(e,t,n){var r=e.fields[t]||{},i=r.isArray,o=r.type;if("string"==typeof n&&(i||"AWSJSON"===o||cx(o)||ux(o)))try{return JSON.parse(n)}catch(e){}return"number"==typeof n&&"Boolean"===o?Boolean(n):n},PP=function(e,t,n){var r=IP(t);Object.entries(e).forEach((function(e){var i=sP(e,2),o=i[0],s=i[1],a=TP(t,o,s);r(o,a),n[o]=a}))},kP=function(e){var t=function(){function n(t){return BC(this,(function(n){PP(t,e,n);var r=CP.has(t)?t:{},i=r.id,o=r._version,s=r._lastChangedAt,a=r._deleted,u=null!=i,c=u?i:e.syncable?YC.v4():gP();u||OP(n,e),n.id=c,e.syncable&&(n._version=o,n._lastChangedAt=s,n._deleted=a)}))}return n.copyOf=function(t,n){var r,i=Object.getPrototypeOf(t||{}).constructor;if(!SP(i)){var o="The source object is not a valid model";throw pP.error(o,{source:t}),new Error(o)}var s=BC(t,(function(r){n(r),r.id=t.id;var i=IP(e);Object.entries(r).forEach((function(t){var n=sP(t,2),r=n[0],o=n[1],s=TP(e,r,o);i(r,s)}))}),(function(e){return r=e}));return r.length&&(bP.set(s,[r,t]),NP(r,e)),s},n.fromJSON=function(n){var r=this;if(Array.isArray(n))return n.map((function(e){return r.fromJSON(e)}));var i=_P(t,n),o=IP(e);return Object.entries(i).forEach((function(e){var t=sP(e,2),n=t[0],r=t[1];o(n,r)})),i},n}();return t[IC]=!0,Object.defineProperty(t,"name",{value:e.name}),t},OP=function(e,t){var n=Object.keys(e),r=t.fields;n.forEach((function(e){if(r[e]&&r[e].isReadOnly)throw new Error(e+" is read-only.")}))},NP=function(e,t){var n=e.map((function(e){return[e.path[0],e.value]})),r=t.fields;n.forEach((function(e){var t=sP(e,2),n=t[0];if(t[1]&&r[n]&&r[n].isReadOnly)throw new Error(n+" is read-only.")}))},MP=function(e){var t=function(t){return BC(this,(function(n){PP(t,e,n)}))};return t[IC]=!0,Object.defineProperty(t,"name",{value:e.name}),function(e){w_.add(e)}(t),t};function LP(e){return"string"==typeof e}function RP(e){var t=e.localModel,n=e.modelConstructor,r=e.remoteModel._version;return _P(n,nP(nP({},t),{_version:r}))}function UP(e){pP.warn(e)}function DP(e,t){var n;switch(e){case T_:n=dP[t];break;case P_:n=fP[t];break;case k_:n=lP[t];break;case O_:n=hP[t];break;default:g_(e)}if(SP(n))return n;var r="Model name is not valid for namespace. modelName: "+t+", namespace: "+e;throw pP.error(r),new Error(r)}function BP(e,t){return rP(this,void 0,void 0,(function(){var n,r,i=this;return iP(this,(function(o){switch(o.label){case 0:return n=dP.Setting,r=cP.namespaces[T_].models.Setting,[4,e.runExclusive((function(e){return rP(i,void 0,void 0,(function(){var i,o;return iP(this,(function(s){switch(s.label){case 0:return[4,e.query(n,_x.createFromExisting(r,(function(e){return e.key("eq",yP)})),{page:0,limit:1})];case 1:return i=sP.apply(void 0,[s.sent(),1]),void 0===(o=i[0])||void 0===o.value?[3,4]:JSON.parse(o.value)===t?[3,3]:[4,e.clear(!1)];case 2:s.sent(),s.label=3;case 3:return[3,6];case 4:return[4,e.save(_P(n,{key:yP,value:JSON.stringify(t)}))];case 5:s.sent(),s.label=6;case 6:return[2]}}))}))}))];case 1:return o.sent(),[2]}}))}))}var jP=function(){function e(){var e=this;this.amplifyConfig={},this.syncPredicates=new WeakMap,this.start=function(){return rP(e,void 0,void 0,(function(){var e,t,n,r=this;return iP(this,(function(i){switch(i.label){case 0:return void 0!==this.initialized?[3,1]:(pP.debug("Starting DataStore"),this.initialized=new Promise((function(e,t){r.initResolve=e,r.initReject=t})),[3,3]);case 1:return[4,this.initialized];case 2:return i.sent(),[2];case 3:return this.storage=new DI(cP,EP,DP,_P,this.storageAdapter,this.sessionId),[4,this.storage.init()];case 4:return i.sent(),[4,BP(this.storage,cP.version)];case 5:return i.sent(),(e=this.amplifyConfig.aws_appsync_graphqlEndpoint)?(pP.debug("GraphQL endpoint available",e),t=this,[4,this.processSyncExpressions()]):[3,7];case 6:return t.syncPredicates=i.sent(),this.sync=new tP(cP,EP,lP,fP,this.storage,_P,this.conflictHandler,this.errorHandler,this.syncPredicates,this.amplifyConfig,this.authModeStrategy),n=1e3*this.fullSyncInterval*60,xP=this.sync.start({fullSyncInterval:n}).subscribe({next:function(e){var t=e.type,n=e.data;t===(vP?DT.SYNC_ENGINE_SYNC_QUERIES_READY:DT.SYNC_ENGINE_STORAGE_SUBSCRIBED)&&r.initResolve(),ve.dispatch("datastore",{event:t,data:n})},error:function(e){pP.warn("Sync error",e),r.initReject()}}),[3,8];case 7:pP.warn("Data won't be synchronized. No GraphQL endpoint configured. Did you forget `Amplify.configure(awsconfig)`?",{config:this.amplifyConfig}),this.initResolve(),i.label=8;case 8:return[4,this.initialized];case 9:return i.sent(),[2]}}))}))},this.query=function(t,n,r){return rP(e,void 0,void 0,(function(){var e,i,o,s,a;return iP(this,(function(u){switch(u.label){case 0:return[4,this.start()];case 1:if(u.sent(),!SP(t))throw e="Constructor is not for a valid model",pP.error(e,{modelConstructor:t}),new Error(e);return"string"==typeof n&&void 0!==r&&pP.warn("Pagination is ignored when querying by id"),i=wP(t),o=LP(n)?_x.createForId(i,n):Ex(n)?void 0:_x.createFromExisting(i,n),s=this.processPagination(i,r),pP.debug("params ready",{modelConstructor:t,predicate:_x.getPredicates(o,!1),pagination:nP(nP({},s),{sort:wx.getPredicates(s&&s.sort,!1)})}),[4,this.storage.query(t,o,s)];case 2:return a=u.sent(),[2,LP(n)?a[0]:a]}}))}))},this.save=function(t,n){return rP(e,void 0,void 0,(function(){var e,r,i,o,s,a,u=this;return iP(this,(function(c){switch(c.label){case 0:return[4,this.start()];case 1:if(c.sent(),e=bP.get(t),r=t?t.constructor:void 0,!SP(r))throw i="Object is not an instance of a valid model",pP.error(i,{model:t}),new Error(i);return o=wP(r),s=_x.createFromExisting(o,n),[4,this.storage.runExclusive((function(n){return rP(u,void 0,void 0,(function(){return iP(this,(function(i){switch(i.label){case 0:return[4,n.save(t,s,void 0,e)];case 1:return i.sent(),[2,n.query(r,_x.createForId(o,t.id))]}}))}))}))];case 2:return a=sP.apply(void 0,[c.sent(),1]),[2,a[0]]}}))}))},this.setConflictHandler=function(t){var n=t.DataStore;return n&&n.conflictHandler?n.conflictHandler:e.conflictHandler===RP&&t.conflictHandler?t.conflictHandler:e.conflictHandler||RP},this.setErrorHandler=function(t){var n=t.DataStore;return n&&n.errorHandler?n.errorHandler:e.errorHandler===UP&&t.errorHandler?t.errorHandler:e.errorHandler||UP},this.delete=function(t,n){return rP(e,void 0,void 0,(function(){var e,r,i,o,s,a,u,c,l;return iP(this,(function(f){switch(f.label){case 0:return[4,this.start()];case 1:if(f.sent(),!t)throw u="Model or Model Constructor required",pP.error(u,{modelOrConstructor:t}),new Error(u);if(!SP(t))return[3,3];if(o=t,!n)throw u="Id to delete or criteria required. Do you want to delete all? Pass Predicates.ALL",pP.error(u,{idOrCriteria:n}),new Error(u);if("string"==typeof n)e=_x.createForId(wP(o),n);else if(!(e=_x.createFromExisting(wP(o),n))||!_x.isValidPredicate(e))throw u="Criteria required. Do you want to delete all? Pass Predicates.ALL",pP.error(u,{condition:e}),new Error(u);return[4,this.storage.delete(o,e)];case 2:return r=sP.apply(void 0,[f.sent(),1]),[2,r[0]];case 3:if(i=t,o=Object.getPrototypeOf(i||{}).constructor,!SP(o))throw u="Object is not an instance of a valid model",pP.error(u,{model:i}),new Error(u);if(s=wP(o),a=_x.createForId(s,i.id),n){if("function"!=typeof n)throw u="Invalid criteria",pP.error(u,{idOrCriteria:n}),new Error(u);e=n(a)}else e=a;return[4,this.storage.delete(i,e)];case 4:return c=sP.apply(void 0,[f.sent(),1]),l=sP(c[0],1),[2,l[0]]}}))}))},this.observe=function(t,n){var r,i=t&&SP(t)?t:void 0;if(t&&void 0===i){var o=t,s=o&&Object.getPrototypeOf(o).constructor;if(SP(s))return n&&pP.warn("idOrCriteria is ignored when using a model instance",{model:o,idOrCriteria:n}),e.observe(s,o.id);var a="The model is not an instance of a PersistentModelConstructor";throw pP.error(a,{model:o}),new Error(a)}if(void 0!==n&&void 0===i){a="Cannot provide criteria without a modelConstructor";throw pP.error(a,n),new Error(a)}if(i&&!SP(i)){a="Constructor is not for a valid model";throw pP.error(a,{modelConstructor:i}),new Error(a)}return r="string"==typeof n?_x.createForId(wP(i),n):i&&_x.createFromExisting(wP(i),n),new sn((function(t){var n;return rP(e,void 0,void 0,(function(){return iP(this,(function(e){switch(e.label){case 0:return[4,this.start()];case 1:return e.sent(),n=this.storage.observe(i,r).filter((function(e){var t=e.model;return EP(t)===P_})).subscribe(t),[2]}}))})),function(){n&&n.unsubscribe()}}))},this.observeQuery=function(t,n,r){return new sn((function(i){var o,s=new Map,a=new Map,u=[],c=function(){var e=h();p(e)},l=new tx({callback:c,errorHandler:i.error,maxInterval:2e3}),f=(r||{}).sort,d=f?{sort:f}:void 0;rP(e,void 0,void 0,(function(){var e,r=this;return iP(this,(function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,this.query(t,n,d)];case 1:return f.sent().forEach((function(e){return s.set(e.id,e)})),o=this.observe(t,n).subscribe((function(e){var t,n,i=e.element,o=e.model;"DELETE"===e.opType?u.push(i.id):a.set(i.id,i);var s=null!==(n=null===(t=r.sync)||void 0===t?void 0:t.getModelSyncedStatus(o))&&void 0!==n&&n;(a.size-u.length>=r.syncPageSize||s)&&l.resolve(),l.start()})),c(),[3,3];case 2:return e=f.sent(),i.error(e),[3,3];case 3:return[2]}}))}));var h=function(){var n,i,o=null!==(i=null===(n=e.sync)||void 0===n?void 0:n.getModelSyncedStatus(t))&&void 0!==i&&i,c=uP(Array.from(s.values()),Array.from(a.values()));return(null==r?void 0:r.sort)&&g(c),s.clear(),c.forEach((function(e){return s.set(e.id,e)})),u.forEach((function(e){return s.delete(e)})),{items:Array.from(s.values()),isSynced:o}},p=function(e){i.next(e),a.clear(),u=[]},g=function(n){var i=wP(t),o=e.processPagination(i,r),s=wx.getPredicates(o.sort);if(s.length){var a=R_(s);n.sort(a)}},v=function(e){var n,r=e.payload,i=r.event,o=r.data;i===DT.SYNC_ENGINE_MODEL_SYNCED&&(null===(n=null==o?void 0:o.model)||void 0===n?void 0:n.name)===t.name&&(c(),ve.remove("api",v))};return ve.listen("datastore",v),function(){o&&o.unsubscribe()}}))},this.configure=function(t){void 0===t&&(t={});var n=t.DataStore,r=t.authModeStrategyType;t.conflictHandler,t.errorHandler;var i=t.maxRecordsToSync,o=t.syncPageSize,s=t.fullSyncInterval,a=t.syncExpressions,u=t.authProviders,c=t.storageAdapter,l=oP(t,["DataStore","authModeStrategyType","conflictHandler","errorHandler","maxRecordsToSync","syncPageSize","fullSyncInterval","syncExpressions","authProviders","storageAdapter"]);switch(e.amplifyConfig=nP(nP({},l),e.amplifyConfig),e.conflictHandler=e.setConflictHandler(t),e.errorHandler=e.setErrorHandler(t),n&&n.authModeStrategyType||r||q_.DEFAULT){case q_.MULTI_AUTH:e.authModeStrategy=bx;break;case q_.DEFAULT:default:e.authModeStrategy=XC}e.amplifyConfig.authProviders=n&&n.authProviders||u,e.syncExpressions=n&&n.syncExpressions||a||e.syncExpressions,e.maxRecordsToSync=n&&n.maxRecordsToSync||i||e.maxRecordsToSync||1e4,e.amplifyConfig.maxRecordsToSync=e.maxRecordsToSync,e.syncPageSize=n&&n.syncPageSize||o||e.syncPageSize||1e3,e.amplifyConfig.syncPageSize=e.syncPageSize,e.fullSyncInterval=n&&n.fullSyncInterval||s||e.fullSyncInterval||1440,e.storageAdapter=n&&n.storageAdapter||c||e.storageAdapter||void 0,e.sessionId=e.retrieveSessionId()},this.clear=function(){return rP(this,void 0,void 0,(function(){return iP(this,(function(e){switch(e.label){case 0:return void 0===this.storage?[2]:(xP&&!xP.closed&&xP.unsubscribe(),[4,this.storage.clear()]);case 1:return e.sent(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.storage=void 0,this.sync=void 0,this.syncPredicates=new WeakMap,[2]}}))}))},this.stop=function(){return rP(this,void 0,void 0,(function(){return iP(this,(function(e){switch(e.label){case 0:return void 0===this.initialized?[3,2]:[4,this.start()];case 1:e.sent(),e.label=2;case 2:return xP&&!xP.closed&&xP.unsubscribe(),this.sync&&this.sync.unsubscribeConnectivity(),this.initialized=void 0,this.sync=void 0,[2]}}))}))}}return e.prototype.getModuleName=function(){return"DataStore"},e.prototype.processPagination=function(e,t){var n,r=t||{},i=r.limit,o=r.page,s=r.sort;if(void 0!==i||void 0!==o||void 0!==s){if(void 0!==o&&void 0===i)throw new Error("Limit is required when requesting a page");if(void 0!==o){if("number"!=typeof o)throw new Error("Page should be a number");if(o<0)throw new Error("Page can't be negative")}if(void 0!==i){if("number"!=typeof i)throw new Error("Limit should be a number");if(i<0)throw new Error("Limit can't be negative")}return s&&(n=wx.createFromExisting(e,t.sort)),{limit:i,page:o,sort:n}}},e.prototype.processSyncExpressions=function(){return rP(this,void 0,void 0,(function(){var e,t=this;return iP(this,(function(n){switch(n.label){case 0:return this.syncExpressions&&this.syncExpressions.length?[4,Promise.all(this.syncExpressions.map((function(e){return rP(t,void 0,void 0,(function(){var t,n,r,i,o,s;return iP(this,(function(a){switch(a.label){case 0:return[4,e];case 1:return t=a.sent(),n=t.modelConstructor,r=t.conditionProducer,i=wP(n),[4,this.unwrapPromise(r)];case 2:return Ex(o=a.sent())?[2,[i,null]]:(s=this.createFromCondition(i,o),[2,[i,s]])}}))}))})))]:[2,new WeakMap];case 1:return e=n.sent(),[2,this.weakMapFromEntries(e)]}}))}))},e.prototype.createFromCondition=function(e,t){try{return _x.createFromExisting(e,t)}catch(e){throw pP.error("Error creating Sync Predicate"),e}},e.prototype.unwrapPromise=function(e){return rP(this,void 0,void 0,(function(){var t;return iP(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,n.sent()];case 2:if((t=n.sent())instanceof TypeError)return[2,e];throw t;case 3:return[2]}}))}))},e.prototype.weakMapFromEntries=function(e){return e.reduce((function(e,t){var n=sP(t,2),r=n[0],i=n[1];if(e.has(r)){var o=r.name;return pP.warn("You can only utilize one Sync Expression per model.\n          Subsequent sync expressions for the "+o+" model will be ignored."),e}return i&&e.set(r,i),e}),new WeakMap)},e.prototype.retrieveSessionId=function(){try{var e=sessionStorage.getItem("datastoreSessionId");if(e){var t=this.amplifyConfig.aws_appsync_graphqlEndpoint.split("/")[2];return e+"-"+sP(t.split("."),1)[0]}}catch(e){return}},e}(),FP=new jP;ae.register(FP),Fe((function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(1)),r(n(2)),r(n(3)),r(n(4)),r(n(5)),r(n(6)),r(n(7)),r(n(8)),r(n(9)),r(n(10)),r(n(11)),r(n(12)),r(n(13))},function(e,t,n){e.exports={a:"Anchor__a___1_Iz8"}},function(e,t,n){e.exports={button:"Button__button___vS7Mv",signInButton:"Button__signInButton___3bUH-",googleSignInButton:"Button__googleSignInButton___1YiCu",signInButtonIcon:"Button__signInButtonIcon___ihN75",auth0SignInButton:"Button__auth0SignInButton___znnCj",facebookSignInButton:"Button__facebookSignInButton___34Txh",amazonSignInButton:"Button__amazonSignInButton___2EMtl",oAuthSignInButton:"Button__oAuthSignInButton___3UGOl",signInButtonContent:"Button__signInButtonContent___xqTXJ"}},function(e,t,n){e.exports={formContainer:"Form__formContainer___1GA3x",formSection:"Form__formSection___1PPvW",formField:"Form__formField___38Ikl",formRow:"Form__formRow___2mwRs"}},function(e,t,n){e.exports={hint:"Hint__hint___2XngB"}},function(e,t,n){e.exports={input:"Input__input___3e_bf",inputLabel:"Input__inputLabel___3VF0S",label:"Input__label___23sO8",radio:"Input__radio___2hllK"}},function(e,t,n){e.exports={navBar:"Nav__navBar___xtCFA",navRight:"Nav__navRight___1QG2J",nav:"Nav__nav___2Dx2Y",navItem:"Nav__navItem___1LtFQ"}},function(e,t,n){e.exports={photoPickerButton:"PhotoPicker__photoPickerButton___2XdVn",photoPlaceholder:"PhotoPicker__photoPlaceholder___2JXO4",photoPlaceholderIcon:"PhotoPicker__photoPlaceholderIcon___3Et71"}},function(e,t,n){e.exports={container:"Section__container___3YYTG",actionRow:"Section__actionRow___2LWSU",sectionHeader:"Section__sectionHeader___2djyg",sectionHeaderHint:"Section__sectionHeaderHint___3Wxdc",sectionBody:"Section__sectionBody___ihqqd",sectionHeaderContent:"Section__sectionHeaderContent___1UCqa",sectionFooter:"Section__sectionFooter___1T54C",sectionFooterPrimaryContent:"Section__sectionFooterPrimaryContent___2r9ZX",sectionFooterSecondaryContent:"Section__sectionFooterSecondaryContent___Nj41Q"}},function(e,t,n){e.exports={selectInput:"SelectInput__selectInput___3efO4"}},function(e,t,n){e.exports={strike:"Strike__strike___1XV1b",strikeContent:"Strike__strikeContent___10gLb"}},function(e,t,n){e.exports={toast:"Toast__toast___XXr3v",toastClose:"Toast__toastClose___18lU4"}},function(e,t,n){e.exports={totpQrcode:"Totp__totpQrcode___1crLx"}},function(e,t,n){e.exports={sumerianSceneContainer:"XR__sumerianSceneContainer___3nVMt",sumerianScene:"XR__sumerianScene___2Tt7-",loadingOverlay:"XR__loadingOverlay___IbqcI",loadingContainer:"XR__loadingContainer___2Itxb",loadingLogo:"XR__loadingLogo___Ub7xQ",loadingSceneName:"XR__loadingSceneName___3__ne",loadingBar:"XR__loadingBar___2vcke",loadingBarFill:"XR__loadingBarFill___3M-D9",sceneErrorText:"XR__sceneErrorText___2y0tp",sceneBar:"XR__sceneBar___2ShrP",sceneName:"XR__sceneName___1ApHr",sceneActions:"XR__sceneActions___7plGs",actionButton:"XR__actionButton___2poIM",tooltip:"XR__tooltip___UYyhn",actionIcon:"XR__actionIcon___2qnd2",autoShowTooltip:"XR__autoShowTooltip___V1QH7"}}])})),ae.Auth=rl,ae.Cache=pl,ae.ServiceWorker=qa;const zP=[];function KP(t,n=e){let r;const i=new Set;function s(e){if(o(t,e)&&(t=e,r)){const e=!zP.length;for(const e of i)e[1](),zP.push(e,t);if(e){for(let e=0;e<zP.length;e+=2)zP[e][0](zP[e+1]);zP.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,a=e){const u=[o,a];return i.add(u),1===i.size&&(r=n(s)||e),o(t),()=>{i.delete(u),0===i.size&&(r(),r=null)}}}}const qP=KP({}),HP=KP({name:""}),VP=KP(""),WP=KP(""),GP=async()=>{try{const e=await rl.currentAuthenticatedUser();return console.log("Current Sess: ",e),qP.set(e),!1}catch(e){return!0}},JP=e=>({style:2&e}),ZP=e=>({class:"input-rect-input",style:"width: "+e[1]+"px;"});function QP(e){let t,n,r;const i=e[3]["input-slot"],o=function(e,t,n,r){if(e){const i=a(e,t,n,r);return e[0](i)}}(i,e,e[2],ZP);return{c(){t=f("div"),n=f("div"),o&&o.c(),m(n,"class","input-slot"),S(n,"width",e[1]+"px"),m(t,"class","input-container"),S(t,"width",e[0]+"px")},m(e,i){c(e,t,i),u(t,n),o&&o.m(n,null),r=!0},p(e,[s]){o&&o.p&&(!r||6&s)&&function(e,t,n,r,i,o){if(i){const s=a(t,n,r,o);e.p(s,i)}}(o,i,e,e[2],r?function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(i,e[2],s,JP):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[2]),ZP),(!r||2&s)&&S(n,"width",e[1]+"px"),(!r||1&s)&&S(t,"width",e[0]+"px")},i(e){r||(q(o,e),r=!0)},o(e){H(o,e),r=!1},d(e){e&&l(t),o&&o.d(e)}}}function YP(e,t,n){let{$$slots:r={},$$scope:i}=t,{containerWidth:o=328}=t,{inputWidth:s=280}=t;return e.$$set=e=>{"containerWidth"in e&&n(0,o=e.containerWidth),"inputWidth"in e&&n(1,s=e.inputWidth),"$$scope"in e&&n(2,i=e.$$scope)},[o,s,i,r]}class XP extends X{constructor(e){super(),Y(this,e,YP,QP,o,{containerWidth:0,inputWidth:1})}}function $P(t){let n,r,i,o,s,a,d,h;return{c(){n=f("div"),r=f("div"),i=p(),o=f("div"),s=p(),a=f("div"),d=p(),h=f("div"),S(r,"border","8px solid "+(t[0]?"black":"#fff")),S(r,"border-color",(t[0]?"black":"#fff")+" transparent transparent transparent"),m(r,"class","svelte-1ancw6q"),S(o,"border","8px solid "+(t[0]?"black":"#fff")),S(o,"border-color",(t[0]?"black":"#fff")+" transparent transparent transparent"),m(o,"class","svelte-1ancw6q"),S(a,"border","8px solid "+(t[0]?"black":"#fff")),S(a,"border-color",(t[0]?"black":"#fff")+" transparent transparent transparent"),m(a,"class","svelte-1ancw6q"),S(h,"border","8px solid "+(t[0]?"black":"#fff")),S(h,"border-color",(t[0]?"black":"#fff")+" transparent transparent transparent"),m(h,"class","svelte-1ancw6q"),m(n,"class","lds-ring svelte-1ancw6q"),S(n,"margin",t[2]),S(n,"position",t[1]?"absolute":"relative"),S(n,"top","0"),S(n,"right","0"),S(n,"left","0"),S(n,"bottom","0"),E(n,"small",!t[1])},m(e,t){c(e,n,t),u(n,r),u(n,i),u(n,o),u(n,s),u(n,a),u(n,d),u(n,h)},p(e,[t]){1&t&&S(r,"border","8px solid "+(e[0]?"black":"#fff")),1&t&&S(r,"border-color",(e[0]?"black":"#fff")+" transparent transparent transparent"),1&t&&S(o,"border","8px solid "+(e[0]?"black":"#fff")),1&t&&S(o,"border-color",(e[0]?"black":"#fff")+" transparent transparent transparent"),1&t&&S(a,"border","8px solid "+(e[0]?"black":"#fff")),1&t&&S(a,"border-color",(e[0]?"black":"#fff")+" transparent transparent transparent"),1&t&&S(h,"border","8px solid "+(e[0]?"black":"#fff")),1&t&&S(h,"border-color",(e[0]?"black":"#fff")+" transparent transparent transparent"),4&t&&S(n,"margin",e[2]),2&t&&S(n,"position",e[1]?"absolute":"relative"),2&t&&E(n,"small",!e[1])},i:e,o:e,d(e){e&&l(n)}}}function ek(e,t,n){let{dark:r=!1}=t,{isLarge:i=!0}=t,{margin:o="auto"}=t;return e.$$set=e=>{"dark"in e&&n(0,r=e.dark),"isLarge"in e&&n(1,i=e.isLarge),"margin"in e&&n(2,o=e.margin)},[r,i,o]}class tk extends X{constructor(e){super(),Y(this,e,ek,$P,o,{dark:0,isLarge:1,margin:2})}}function nk(e){let t,n;return t=new tk({}),{c(){G(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function rk(e){let t,n,i,o,s,a,d,g,b,w,S,E,A,C,_,x,I,T;return n=new XP({props:{$$slots:{"input-slot":[ik]},$$scope:{ctx:e}}}),o=new XP({props:{$$slots:{"input-slot":[ok]},$$scope:{ctx:e}}}),a=new XP({props:{$$slots:{"input-slot":[sk]},$$scope:{ctx:e}}}),g=new XP({props:{$$slots:{"input-slot":[ak]},$$scope:{ctx:e}}}),w=new XP({props:{$$slots:{"input-slot":[uk]},$$scope:{ctx:e}}}),{c(){t=f("form"),G(n.$$.fragment),i=p(),G(o.$$.fragment),s=p(),G(a.$$.fragment),d=p(),G(g.$$.fragment),b=p(),G(w.$$.fragment),S=p(),E=f("h5"),A=h("Already Have an account? "),C=f("section"),_=f("button"),_.innerHTML='<h6 class="svelte-12s6jj3">SignIn</h6>',m(_,"id","signup-text"),m(_,"class","svelte-12s6jj3"),m(E,"class","svelte-12s6jj3")},m(r,l){c(r,t,l),J(n,t,null),u(t,i),J(o,t,null),u(t,s),J(a,t,null),u(t,d),J(g,t,null),u(t,b),J(w,t,null),c(r,S,l),c(r,E,l),u(E,A),u(E,C),u(C,_),x=!0,I||(T=[v(t,"submit",y(e[9])),v(_,"click",e[16])],I=!0)},p(e,t){const r={};1048584&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const i={};1048640&t&&(i.$$scope={dirty:t,ctx:e}),o.$set(i);const s={};1048608&t&&(s.$$scope={dirty:t,ctx:e}),a.$set(s);const u={};1048704&t&&(u.$$scope={dirty:t,ctx:e}),g.$set(u);const c={};1048576&t&&(c.$$scope={dirty:t,ctx:e}),w.$set(c)},i(e){x||(q(n.$$.fragment,e),q(o.$$.fragment,e),q(a.$$.fragment,e),q(g.$$.fragment,e),q(w.$$.fragment,e),x=!0)},o(e){H(n.$$.fragment,e),H(o.$$.fragment,e),H(a.$$.fragment,e),H(g.$$.fragment,e),H(w.$$.fragment,e),x=!1},d(e){e&&l(t),Z(n),Z(o),Z(a),Z(g),Z(w),e&&l(S),e&&l(E),I=!1,r(T)}}}function ik(e){let t,n,r;return{c(){t=f("input"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"type","text"),m(t,"name","name"),m(t,"placeholder","username")},m(i,o){c(i,t,o),w(t,e[3]),n||(r=v(t,"input",e[12]),n=!0)},p(e,n){8&n&&t.value!==e[3]&&w(t,e[3])},d(e){e&&l(t),n=!1,r()}}}function ok(e){let t,n,r;return{c(){t=f("input"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"type","password"),m(t,"name","password"),m(t,"placeholder","password")},m(i,o){c(i,t,o),w(t,e[6]),n||(r=v(t,"input",e[13]),n=!0)},p(e,n){64&n&&t.value!==e[6]&&w(t,e[6])},d(e){e&&l(t),n=!1,r()}}}function sk(e){let t,n,r;return{c(){t=f("input"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"type","email"),m(t,"name","email"),m(t,"placeholder","email")},m(i,o){c(i,t,o),w(t,e[5]),n||(r=v(t,"input",e[14]),n=!0)},p(e,n){32&n&&t.value!==e[5]&&w(t,e[5])},d(e){e&&l(t),n=!1,r()}}}function ak(e){let t,n,r;return{c(){t=f("input"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"type","telephone"),m(t,"name","phone_number"),m(t,"placeholder","Mobile")},m(i,o){c(i,t,o),w(t,e[7]),n||(r=v(t,"input",e[15]),n=!0)},p(e,n){128&n&&w(t,e[7])},d(e){e&&l(t),n=!1,r()}}}function uk(e){let t;return{c(){t=f("button"),t.textContent="Sign Up",m(t,"id","sign-up"),m(t,"slot","input-slot"),m(t,"class","input-rect-input svelte-12s6jj3"),m(t,"type","submit")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function ck(e){let t,n,r,i,o,s,a,d,h;return i=new XP({props:{$$slots:{"input-slot":[lk]},$$scope:{ctx:e}}}),s=new XP({props:{$$slots:{"input-slot":[fk]},$$scope:{ctx:e}}}),{c(){t=f("form"),n=f("h5"),n.textContent="Please check your Email",r=p(),G(i.$$.fragment),o=p(),G(s.$$.fragment),m(n,"class","svelte-12s6jj3")},m(l,f){c(l,t,f),u(t,n),u(t,r),J(i,t,null),u(t,o),J(s,t,null),a=!0,d||(h=v(t,"submit",y(e[10])),d=!0)},p(e,t){const n={};1048592&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const r={};1048576&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r)},i(e){a||(q(i.$$.fragment,e),q(s.$$.fragment,e),a=!0)},o(e){H(i.$$.fragment,e),H(s.$$.fragment,e),a=!1},d(e){e&&l(t),Z(i),Z(s),d=!1,h()}}}function lk(e){let t,n,r;return{c(){t=f("input"),m(t,"type","text"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"name","authCode")},m(i,o){c(i,t,o),w(t,e[4]),n||(r=v(t,"input",e[17]),n=!0)},p(e,n){16&n&&t.value!==e[4]&&w(t,e[4])},d(e){e&&l(t),n=!1,r()}}}function fk(e){let t;return{c(){t=f("button"),t.textContent="Enter Code",m(t,"slot","input-slot"),m(t,"class","input-rect-input svelte-12s6jj3"),m(t,"type","submit")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function dk(e){let t,n,r,i,o,s,a,d,h,g,b;return i=new XP({props:{$$slots:{"input-slot":[hk]},$$scope:{ctx:e}}}),s=new XP({props:{$$slots:{"input-slot":[pk]},$$scope:{ctx:e}}}),d=new XP({props:{$$slots:{"input-slot":[gk]},$$scope:{ctx:e}}}),{c(){t=f("form"),n=f("h5"),n.textContent="Sign In with your email",r=p(),G(i.$$.fragment),o=p(),G(s.$$.fragment),a=p(),G(d.$$.fragment),m(n,"class","svelte-12s6jj3")},m(l,f){c(l,t,f),u(t,n),u(t,r),J(i,t,null),u(t,o),J(s,t,null),u(t,a),J(d,t,null),h=!0,g||(b=v(t,"submit",y(e[11])),g=!0)},p(e,t){const n={};1048608&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const r={};1048640&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const o={};1048576&t&&(o.$$scope={dirty:t,ctx:e}),d.$set(o)},i(e){h||(q(i.$$.fragment,e),q(s.$$.fragment,e),q(d.$$.fragment,e),h=!0)},o(e){H(i.$$.fragment,e),H(s.$$.fragment,e),H(d.$$.fragment,e),h=!1},d(e){e&&l(t),Z(i),Z(s),Z(d),g=!1,b()}}}function hk(e){let t,n,r;return{c(){t=f("input"),m(t,"type","text"),m(t,"name","email"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"placeholder","email")},m(i,o){c(i,t,o),w(t,e[5]),n||(r=v(t,"input",e[18]),n=!0)},p(e,n){32&n&&t.value!==e[5]&&w(t,e[5])},d(e){e&&l(t),n=!1,r()}}}function pk(e){let t,n,r;return{c(){t=f("input"),m(t,"type","password"),m(t,"name","password"),m(t,"slot","input-slot"),m(t,"class","input-rect-input"),m(t,"placeholder","password")},m(i,o){c(i,t,o),w(t,e[6]),n||(r=v(t,"input",e[19]),n=!0)},p(e,n){64&n&&t.value!==e[6]&&w(t,e[6])},d(e){e&&l(t),n=!1,r()}}}function gk(e){let t;return{c(){t=f("button"),t.textContent="Sign In",m(t,"id","sign-up"),m(t,"type","submit"),m(t,"slot","input-slot"),m(t,"class","input-rect-input svelte-12s6jj3")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function vk(e){let t,n,r,i,o,s=e[8]&&nk(),a=e[0]&&rk(e),d=e[2]&&ck(e),h=e[1]&&dk(e);return{c(){t=f("div"),s&&s.c(),n=p(),a&&a.c(),r=p(),d&&d.c(),i=p(),h&&h.c(),m(t,"id","form-container"),m(t,"class","svelte-12s6jj3")},m(e,l){c(e,t,l),s&&s.m(t,null),u(t,n),a&&a.m(t,null),u(t,r),d&&d.m(t,null),u(t,i),h&&h.m(t,null),o=!0},p(e,[o]){e[8]?s?256&o&&q(s,1):(s=nk(),s.c(),q(s,1),s.m(t,n)):s&&(z(),H(s,1,1,(()=>{s=null})),K()),e[0]?a?(a.p(e,o),1&o&&q(a,1)):(a=rk(e),a.c(),q(a,1),a.m(t,r)):a&&(z(),H(a,1,1,(()=>{a=null})),K()),e[2]?d?(d.p(e,o),4&o&&q(d,1)):(d=ck(e),d.c(),q(d,1),d.m(t,i)):d&&(z(),H(d,1,1,(()=>{d=null})),K()),e[1]?h?(h.p(e,o),2&o&&q(h,1)):(h=dk(e),h.c(),q(h,1),h.m(t,null)):h&&(z(),H(h,1,1,(()=>{h=null})),K())},i(e){o||(q(s),q(a),q(d),q(h),o=!0)},o(e){H(s),H(a),H(d),H(h),o=!1},d(e){e&&l(t),s&&s.d(),a&&a.d(),d&&d.d(),h&&h.d()}}}function yk(e,t,n){let r,i,o,s,a,u=!0,c=!u,l=!1,f=!1;const d=async()=>{n(8,f=!0),await(async(e,t)=>{const n=e,r=t;try{await rl.signIn(n,r),GP()}catch(e){e.code}})(o,s),n(8,f=!1)};return[u,c,l,r,i,o,s,a,f,async()=>{n(8,f=!0);const e=await(async(e,t,n,r)=>{const i=e,o=t,s=n,a=r,u=s;try{const{user:e}=await rl.signUp({username:u,password:i,attributes:{name:o,email:s,phone_number:a}});return!0}catch(e){return e.code,!1}})(s,r,o,a);n(8,f=!1),n(0,u=!e),n(2,l=e)},async()=>{n(8,f=!0),n(1,c=await(async(e,t)=>{const n=t,r=e;try{return await rl.confirmSignUp(r,n),!0}catch(e){return e.code,!1}})(o,i)),n(8,f=!1),n(2,l=!c),c&&await d()},d,function(){r=this.value,n(3,r)},function(){s=this.value,n(6,s)},function(){o=this.value,n(5,o)},function(){a=this.value,n(7,a)},()=>{n(1,c=u),n(0,u=!u)},function(){i=this.value,n(4,i)},function(){o=this.value,n(5,o)},function(){s=this.value,n(6,s)}]}class mk extends X{constructor(e){super(),Y(this,e,yk,vk,o,{})}}const bk=KP({isMob:!1}),wk=KP({width:0,height:0,isLarge:0}),Sk=KP({topBar:{width:0,height:0,isLarge:0},menuBlock:{width:0,height:0,isLarge:0},anchorBlock:{width:0,height:0,isLarge:0}}),Ek=KP({upperLeftBlock:{width:0,height:0,isLarge:0,top:0},bidBox:{width:0,height:0,isLarge:0},bodyNav:{width:0,height:0,isLarge:0},nftCard:{width:0,height:0,isLarge:0}}),Ak=KP({upperRightBlock:{width:0,height:0,isLarge:0},bodyTitle:{width:0,height:0,isLarge:0},imageBlock:{width:0,height:0,isLarge:0},imageHeaderContainer:{width:0,height:0,isLarge:0}}),Ck=KP({bottomBlock:{width:0,height:0,isLarge:0},bodyNav:{width:0,height:0,isLarge:0},nftList:{width:0,height:0,isLarge:0},nftListContainer:{width:0,height:0,isLarge:0},nftCard:{width:0,height:0,isLarge:0}}),_k=KP({sidebarBlock:{width:0,height:0,isLarge:0,top:0},sidebar:{width:0,height:0,isLarge:0},contactBar:{width:0,height:0,isLarge:0},menuBarContainer:{width:0,height:0,isLarge:0}}),xk=KP({left:0,center:0,right:0}),Ik=e=>{Sk.set({topBar:{width:e[0],height:Mk(e[1],.1),isLarge:e[0]>732},menuBlock:{width:Mk(e[0],.2),height:Mk(e[1],.1),isLarge:e[0]>732},anchorBlock:{width:Mk(e[0],.6),height:Mk(e[1],.1),isLarge:e[0]>732}})},Tk=e=>{let t,n;switch(e[0]/e[1].toFixed(2)>=1){case!0:t=Mk(e[0],.33),n=Mk(e[1],.8);break;case!1:t=Mk(e[0],.9),n=Mk(e[1],.8)}Ek.set({upperLeftBlock:{width:t,height:n,isLarge:e[0]>732,top:e[1]-n},bidBox:{width:Mk(t,.9),height:Mk(n,.87),isLarge:e[0]>732},bodyNav:{width:Mk(t,.9),height:Mk(n,.07),isLarge:e[0]>732},nftCard:{width:Mk(t,.5),height:Mk(n,.68),isLarge:e[0]>732}})},Pk=e=>{let t,n;switch((e[0]/e[1]).toFixed(2)>=1){case!0:t=Mk(e[0],.57),n=Mk(e[1],.5);break;case!1:t=Mk(e[0],.9),n=Mk(e[1],.55)}Ak.set({upperRightBlock:{width:t,height:n,isLarge:e[0]>732},bodyTitle:{width:Mk(t,.26),height:Mk(n,.15),isLarge:e[0]>732},imageBlock:{width:Mk(t,.95),height:Mk(n,.95),isLarge:e[0]>732},imageHeaderContainer:{width:t,height:Mk(n,.18),isLarge:e[0]>732}})},kk=e=>{let t,n,r,i,o=Lk(e[0],e[1]);switch((e[0]/e[1]).toFixed(2)>=1){case!0:i=e[0]-300-Mk(e[0],.33),n=Mk(o[0],.57),r=Mk(o[1],.8),t=o[0];break;case!1:i=Mk(o[0],.9),n=Mk(o[0],.9),r=Mk(o[1],.8),t=Mk(n,.8)}Ck.set({bottomBlock:{width:i,height:r,isLarge:e[0]>750},bodyNav:{width:Mk(n,.95),height:Mk(r,.13),isLarge:e[0]>732},nftList:{width:Mk(n,.95),height:Mk(r,.87),isLarge:e[0]>732},nftListContainer:{width:t,height:Mk(r,.84),isLarge:e[0]>732},nftCard:{width:t,height:Mk(r,.6),isLarge:e[0]>732}})},Ok=e=>{let t,n;switch((e[0]/e[1]).toFixed(2)>=.7){case!0:t=300,n=Mk(e[1],.8);break;case!1:t=Mk(e[0],.96),n=Mk(e[1],.8)}_k.set({sidebarBlock:{width:t,height:n,isLarge:e[0]>750,top:e[1]-n},sidebar:{width:Mk(t,.84),height:n,isLarge:e[0]>732},contactBar:{width:Mk(t,.84),height:Mk(n,.23),isLarge:e[0]>732},menuBarContainer:{width:Mk(t,.84),height:Mk(n,.78),isLarge:e[0]>732}})},Nk=e=>{let t,n,r;switch((e[0]/e[1]).toFixed(2)>=1){case!0:t=300,r=e[0]-300-Mk(e[0],.33),n=Mk(e[0],.33);break;case!1:t=Mk(e[0],.96),r=Mk(e[0],.96),n=Mk(e[0],.96)}xk.set({left:t,center:r,right:n})},Mk=(e,t)=>(e*t).toFixed(2),Lk=(e,t)=>{let n=e/250;return console.log("RATIO ",n),console.log("RATIO ",n>2),e=n>=2?375:e,console.log(e,t),[e,t]},Rk=KP(),Uk=KP();function Dk(e){let t,n,r;return{c(){t=d("svg"),n=d("rect"),r=d("path"),m(n,"id","Boundary"),m(n,"width","24"),m(n,"height","24"),m(n,"fill","none"),m(r,"id","_Color"),m(r,"data-name"," Color"),m(r,"d","M10,20A10,10,0,0,1,2.926,2.926,10,10,0,0,1,17.074,17.074,9.937,9.937,0,0,1,10,20Zm0-8.59h0L13.59,15,15,13.59,11.41,10,15,6.41,13.59,5,10,8.59,6.41,5,5,6.41,8.59,10,5,13.59,6.41,15,10,11.411Z"),m(r,"transform","translate(2 2)"),m(r,"fill","#fff"),m(r,"class","svelte-1b5g68e"),m(t,"id","icon_navigation_close_24px_"),m(t,"data-name","icon/navigation/close_24px "),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","24"),m(t,"height","24"),m(t,"viewBox","0 0 24 24")},m(e,i){c(e,t,i),u(t,n),u(t,r)},d(e){e&&l(t)}}}function Bk(e){let t,n,r;return{c(){t=d("svg"),n=d("rect"),r=d("path"),m(n,"id","Boundary"),m(n,"width","24"),m(n,"height","24"),m(n,"fill","none"),m(r,"id","_Color"),m(r,"data-name"," Color"),m(r,"d","M18,12H0V10H18v2Zm0-5H0V5H18V7Zm0-5H0V0H18V2Z"),m(r,"transform","translate(3 6)"),m(r,"fill","#fff"),m(r,"class","svelte-1b5g68e"),m(t,"id","icon_navigation_menu_24px"),m(t,"data-name","icon/navigation/menu_24px"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","24"),m(t,"height","24"),m(t,"viewBox","0 0 24 24")},m(e,i){c(e,t,i),u(t,n),u(t,r)},d(e){e&&l(t)}}}function jk(t){let n,r,i;function o(e,t){return e[0]?Dk:Bk}let s=o(t),a=s(t);return{c(){n=f("button"),a.c(),m(n,"id","menu-button"),S(n,"width","24px"),S(n,"height","24px"),m(n,"class","svelte-1b5g68e")},m(e,o){c(e,n,o),a.m(n,null),r||(i=v(n,"click",t[1]),r=!0)},p(e,[t]){s!==(s=o(e))&&(a.d(1),a=s(e),a&&(a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&l(n),a.d(),r=!1,i()}}}function Fk(e,t,n){let r=!1;x((()=>{Rk.subscribe((e=>{(e||0==e)&&n(0,r=e),(e||0==e)&&(()=>{const e=document.querySelector("#sidebarBlock");r?e.classList.add("open"):e.classList.remove("open")})()}))}));return[r,()=>{Rk.set(!r)}]}class zk extends X{constructor(e){super(),Y(this,e,Fk,jk,o,{})}}function Kk(e){let t,n,r,i,o;var s=e[3];return s&&(i=new s({})),{c(){t=d("svg"),n=d("circle"),r=d("foreignObject"),i&&G(i.$$.fragment),m(n,"id","Ellipse_3"),m(n,"data-name","Ellipse 3"),m(n,"cx","12"),m(n,"cy","12"),m(n,"r","12"),m(n,"fill","transparent"),m(r,"width","24"),m(r,"height","24"),m(t,"id","icon-container"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","24"),m(t,"height","24"),m(t,"viewBox","0 0 24 24")},m(e,s){c(e,t,s),u(t,n),u(t,r),i&&J(i,r,null),o=!0},p(e,t){if(s!==(s=e[3])){if(i){z();const e=i;H(e.$$.fragment,1,0,(()=>{Z(e,1)})),K()}s?(i=new s({}),G(i.$$.fragment),q(i.$$.fragment,1),J(i,r,null)):i=null}},i(e){o||(i&&q(i.$$.fragment,e),o=!0)},o(e){i&&H(i.$$.fragment,e),o=!1},d(e){e&&l(t),i&&Z(i)}}}function qk(e){let t,n,r,i,o;var s=e[3];return s&&(i=new s({})),{c(){t=d("svg"),n=d("rect"),r=d("foreignObject"),i&&G(i.$$.fragment),m(n,"id","icon-box"),m(n,"width","48"),m(n,"height","48"),m(n,"fill","transparent"),m(r,"width","24"),m(r,"height","24"),m(r,"transform","translate(12 12)"),m(t,"id","icon-container"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","48"),m(t,"height","48"),m(t,"viewBox","0 0 48 48")},m(e,s){c(e,t,s),u(t,n),u(t,r),i&&J(i,r,null),o=!0},p(e,t){if(s!==(s=e[3])){if(i){z();const e=i;H(e.$$.fragment,1,0,(()=>{Z(e,1)})),K()}s?(i=new s({}),G(i.$$.fragment),q(i.$$.fragment,1),J(i,r,null)):i=null}},i(e){o||(i&&q(i.$$.fragment,e),o=!0)},o(e){i&&H(i.$$.fragment,e),o=!1},d(e){e&&l(t),i&&Z(i)}}}function Hk(e){let t,n,r,i,o;var s=e[3];return s&&(i=new s({})),{c(){t=d("svg"),n=d("rect"),r=d("foreignObject"),i&&G(i.$$.fragment),m(n,"id","icon-box"),m(n,"width","24"),m(n,"height","24"),m(n,"fill","transparent"),m(r,"width","24"),m(r,"height","24"),m(t,"id","icon-container"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","24"),m(t,"height","24"),m(t,"viewBox","0 0 24 24")},m(e,s){c(e,t,s),u(t,n),u(t,r),i&&J(i,r,null),o=!0},p(e,t){if(s!==(s=e[3])){if(i){z();const e=i;H(e.$$.fragment,1,0,(()=>{Z(e,1)})),K()}s?(i=new s({}),G(i.$$.fragment),q(i.$$.fragment,1),J(i,r,null)):i=null}},i(e){o||(i&&q(i.$$.fragment,e),o=!0)},o(e){i&&H(i.$$.fragment,e),o=!1},d(e){e&&l(t),i&&Z(i)}}}function Vk(e){let t,n,r,i;const o=[Hk,qk,Kk],s=[];function a(e,t){return e[2]?0:e[0]?1:e[1]?2:-1}return~(t=a(e))&&(n=s[t]=o[t](e)),{c(){n&&n.c(),r=g()},m(e,n){~t&&s[t].m(e,n),c(e,r,n),i=!0},p(e,[i]){let u=t;t=a(e),t===u?~t&&s[t].p(e,i):(n&&(z(),H(s[u],1,1,(()=>{s[u]=null})),K()),~t?(n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),q(n,1),n.m(r.parentNode,r)):n=null)},i(e){i||(q(n),i=!0)},o(e){H(n),i=!1},d(e){~t&&s[t].d(e),e&&l(r)}}}function Wk(e,t,n){let{isLarge:r=!0}=t,{isRound:i=!1}=t,{isSmall:o=!1}=t,{innerComponent:s}=t;return e.$$set=e=>{"isLarge"in e&&n(0,r=e.isLarge),"isRound"in e&&n(1,i=e.isRound),"isSmall"in e&&n(2,o=e.isSmall),"innerComponent"in e&&n(3,s=e.innerComponent)},[r,i,o,s]}class Gk extends X{constructor(e){super(),Y(this,e,Wk,Vk,o,{isLarge:0,isRound:1,isSmall:2,innerComponent:3})}}var Jk={WINDOW_NOT_LOADED:"Window not loaded",WINDOW_IS_OPENED:"Windows is opened",WINDOW_NOT_OPENED:"Can not open popup window",INVALID_WINDOW:"Invalid window"};const{WINDOW_NOT_OPENED:Zk}=Jk,Qk={width:400,height:600};var Yk={openPopup:
/**
     * @description Open a new browser window
     * @param {string} url
     * @param {PopupOptions} options
     * @returns {Window}
     * @file Open new popup
     * @author The kraken.js team
     * @copyright This file is part of the project BelterJS which is released under Apache-2.0 License.
     * Go to https://github.com/krakenjs/belter for full license details.
     */
function(e,t=Qk){let{name:n="",width:r,height:i,top:o=0,left:s=0}=t;r&&(window.outerWidth?s=Math.round((window.outerWidth-r)/2)+window.screenX:window.screen.width&&(s=Math.round((window.screen.width-r)/2))),i&&(window.outerHeight?o=Math.round((window.outerHeight-i)/2)+window.screenY:window.screen.height&&(o=Math.round((window.screen.height-i)/2))),r&&i&&(t={top:o,left:s,width:r,height:i,status:1,toolbar:0,menubar:0,resizable:1,scrollbars:1});const a=Object.keys(t).map((e=>{const n=t[e];if(null!=n&&"function"==typeof n.toString)return`${e}=${n.toString()}`})).filter(Boolean).join(",");let u;try{u=window.open(e,n,a)}catch(e){throw new Error(`${Zk} - ${e.stack||e.message}`)}if(!u||window.closed)throw new Error(`${Zk} - blocked`);return u}};var Xk={sleep:function(e=200){return new Promise((t=>setTimeout(t,e)))},prepareTxn:function(e){if(e.constructor===Uint8Array)return Buffer.from(e).toString("base64");if("string"==typeof e)return e;const t=Object.assign({},e);if(t.note&&t.note.constructor===Uint8Array&&(t.note=Buffer.from(t.note).toString("base64")),t.assetMetadataHash&&t.assetMetadataHash.constructor===Uint8Array&&(t.assetMetadataHash=Buffer.from(t.assetMetadataHash).toString("base64")),t.group&&t.group.constructor===Uint8Array&&(t.group=Buffer.from(t.group).toString("base64")),"appl"===t.type&&t.appApprovalProgram&&t.appApprovalProgram.constructor===Uint8Array&&(t.appApprovalProgram=Buffer.from(t.appApprovalProgram).toString("base64")),"appl"===t.type&&t.appClearProgram&&t.appClearProgram.constructor===Uint8Array&&(t.appClearProgram=Buffer.from(t.appClearProgram).toString("base64")),"appl"===t.type&&t.appArgs&&t.appArgs.length>0)for(let e=0;e<t.appArgs.length;e++)t.appArgs[e].constructor===Uint8Array&&(t.appArgs[e]=Buffer.from(t.appArgs[e]).toString("base64"));return t}};var $k=class{constructor(e,t){this.channelName=e,this.onMessage=t,this._installListener(),this._requests=new Map,this._nextId=0,this._defaultTimeout=4e3}_installListener(){const e=this;this._listener=function(t){if(!t.data||"string"!=typeof t.data)return;let n;try{if(n=JSON.parse(t.data),!n.channel||n.channel!==e.channelName)return;if("object"!=typeof n.message)return}catch(e){return}if(void 0!==n.replyId){if("number"!=typeof n.replyId||n.replyId%1!=0)return;const t=e._requests.get(n.replyId);t&&(clearTimeout(t.timeout),e._requests.delete(n.replyId),t.resolve(n.message))}else{if("number"!=typeof n.id||n.id%1!=0||!e.onMessage)return;const r=e.channelName,i=n.id,o=t.origin,s=function(e){const n={channel:r,replyId:i,message:e};t.source.postMessage(JSON.stringify(n),o)};e.onMessage(n.message,t.origin,t.source,s,e)}},window.addEventListener("message",this._listener)}sendMessage(e,t,n,r){const i={channel:this.channelName,id:this.getNextId(),message:t};if(r&&r.waitForReply){const t=this;return new Promise((function(o,s){const a=setTimeout((function(){t._requests.get(i.id)&&(t._requests.delete(i.id),s(new Error("Timeout expired for the message response")))}),r&&r.timeout?r.timeout:t._defaultTimeout);t._requests.set(i.id,{timeout:a,resolve:o}),e.postMessage(JSON.stringify(i),n)}))}e.postMessage(JSON.stringify(i),n)}close(){window.removeEventListener("message",this._listener),this._listener=null,delete this._requests}getNextId(){return this._nextId+=1,this._nextId}};var eO=class{constructor(e){const t=this;this.options={waitForReply:!0,timeout:250},this.listenerCallback=e,this.bridge=new $k("wallet-bridge-communication-channel",(function(e,n,r,i){t.listenerCallback&&t.listenerCallback(e,r)}))}sendMessage(e,t,n,r){return this.bridge.sendMessage(e,t,n,r||this.options)}setNewListener(e){this.listenerCallback=e}close(){this.bridge.close()}};const{openPopup:tO}=Yk,{sleep:nO,prepareTxn:rO}=Xk,iO=new eO;var oO=class{constructor(e){this.bridge=iO,this.timeout=e&&e.timeout?e.timeout:16e5,this.url=e&&e.bridgeUrl?e.bridgeUrl:"https://wallet.myalgo.com/bridge",this.url.endsWith("/")&&(this.url=this.url.slice(0,-1)),this.currentConnectPopup=null,this.currentSigntxPopup=null,this.currentSignLogicSigPopup=null,this.options={waitForReply:!0,timeout:this.timeout},this.disableLedgerNano=!(!e||!e.disableLedgerNano)&&e.disableLedgerNano}async connect(e={shouldSelectOneAccount:!1,openManager:!1}){this.currentConnectPopup&&(this.currentConnectPopup.closed?this.currentConnectPopup=null:this.focusWindow(this.currentConnectPopup));try{this.currentConnectPopup=tO(this.url+"/connect.html"),await this.waitForWindowToLoad(this.currentConnectPopup);const t=await this.bridge.sendMessage(this.currentConnectPopup,{method:"unlock",params:Object.assign(e,{disableLedgerNano:this.disableLedgerNano})},this.url,this.options);if(this.closeWindow(this.currentConnectPopup),this.currentConnectPopup=null,"error"===t.status)throw new Error(t.message);return t.data.accounts}catch(e){throw this.closeWindow(this.currentConnectPopup),this.currentConnectPopup=null,e}}async signTransaction(e){let t;this.currentSigntxPopup&&(this.currentSigntxPopup.closed?this.currentSigntxPopup=null:this.focusWindow(this.currentSigntxPopup)),t=Array.isArray(e)?Array.from(e).map((e=>rO(e))):rO(e);try{this.currentSigntxPopup=tO(this.url+"/signtx.html"),await this.waitForWindowToLoad(this.currentSigntxPopup);const e=await this.bridge.sendMessage(this.currentSigntxPopup,{method:"transaction",params:{txn:t,settings:{disableLedgerNano:this.disableLedgerNano}}},this.url,this.options);if(this.closeWindow(this.currentSigntxPopup),this.currentSigntxPopup=null,"error"===e.status)throw new Error(e.message);if(Array.isArray(e.data)){const t=[];for(const n of e.data)n.blob=new Uint8Array(Buffer.from(n.blob,"hex")),t.push(n);return t}return e.data.blob=new Uint8Array(Buffer.from(e.data.blob,"hex")),e.data}catch(e){throw this.closeWindow(this.currentSigntxPopup),this.currentSigntxPopup=null,e}}async signLogicSig(e,t){this.currentSignLogicSigPopup&&(this.currentSignLogicSigPopup.closed?this.currentSignLogicSigPopup=null:this.focusWindow(this.currentSignLogicSigPopup));try{this.currentSignLogicSigPopup=tO(this.url+"/logicsigtx.html"),await this.waitForWindowToLoad(this.currentSignLogicSigPopup);let n=e;e.constructor===Uint8Array&&(n=Buffer.from(e).toString("base64"));const r=await this.bridge.sendMessage(this.currentSignLogicSigPopup,{method:"logicsig",params:{logic:n,address:t}},this.url,this.options);if(this.closeWindow(this.currentSignLogicSigPopup),this.currentSignLogicSigPopup=null,"error"===r.status)throw new Error(r.message);return new Uint8Array(Buffer.from(r.data.signedTeal,"base64"))}catch(e){throw this.closeWindow(this.currentSignLogicSigPopup),this.currentSignLogicSigPopup=null,e}}async waitForWindowToLoad(e,t=30){for(let n=0;n<t&&(await nO(300),e);n++)try{if("success"==(await iO.sendMessage(e,{method:"status"},this.url)).status)return}catch(e){}throw new Error(Jk.WINDOW_NOT_LOADED)}closeWindow(e){e&&!e.closed&&e.close&&e.close()}focusWindow(e){throw e&&e.focus?(e.focus(),new Error(Jk.WINDOW_IS_OPENED)):new Error(Jk.INVALID_WINDOW)}},sO=oO;function aO(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:lO,then:cO,catch:uO,value:2,error:3,blocks:[,,,]};return V(async function(){const e=new sO;try{const t=await e.connect();return WP.set(t[0].name),VP.set(t[0].address),!1}catch(e){}}(),r),{c(){t=g(),r.block.c()},m(e,i){c(e,t,i),r.block.m(e,r.anchor=i),r.mount=()=>t.parentNode,r.anchor=t,n=!0},p(t,n){W(r,e=t,n)},i(e){n||(q(r.block),n=!0)},o(e){for(let e=0;e<3;e+=1){H(r.blocks[e])}n=!1},d(e){e&&l(t),r.block.d(e),r.token=null,r=null}}}function uO(t){let n,r,i=t[3]+"";return{c(){n=f("h1"),r=h(i),m(n,"class","svelte-1l7jyoy")},m(e,t){c(e,n,t),u(n,r)},p:e,i:e,o:e,d(e){e&&l(n)}}}function cO(t){let n,r,i=t[2]+"";return{c(){n=f("h1"),r=h(i),m(n,"class","svelte-1l7jyoy")},m(e,t){c(e,n,t),u(n,r)},p:e,i:e,o:e,d(e){e&&l(n)}}}function lO(t){let n,r;return n=new tk({props:{margin:"20px",isLarge:!1}}),{c(){G(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(q(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function fO(e){let t,n,r,i,o,s=e[0]&&aO(e);return{c(){s&&s.c(),t=p(),n=f("button"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path id="wallet" d="M1,35.7V18.5a5.606,5.606,0,0,1,.7-2.073A3.361,3.361,0,0,1,4.68,15.1H20.573a5.18,5.18,0,0,1,1.216.146,2.207,2.207,0,0,1,1.387,1.244c.619,1.244.224,1.988-1.013,2H5.469a5.856,5.856,0,0,0-.8.037.732.732,0,0,0-.651.756.862.862,0,0,0,.533.939,2.22,2.22,0,0,0,.9.11h17.12c1.28,0,2.016.671,2.336,2.085.021.11.064.232.1.341V36.551c-.565,2.012-1.195,2.537-3.061,2.549H4.669A3.353,3.353,0,0,1,1.7,37.771,5.606,5.606,0,0,1,1,35.7Zm21.013-6.049a1.863,1.863,0,0,0-.451-1.233,1.421,1.421,0,0,0-1.085-.5,1.723,1.723,0,0,0-1.515,1.78,1.638,1.638,0,0,0,1.547,1.72,1.653,1.653,0,0,0,1.5-1.768Z" transform="translate(-1 -15.1)" fill="#fff" class="svelte-1l7jyoy"></path></svg>',m(n,"id","wallet-button"),S(n,"width","24px"),S(n,"height","24px"),m(n,"class","svelte-1l7jyoy")},m(a,u){s&&s.m(a,u),c(a,t,u),c(a,n,u),r=!0,i||(o=v(n,"click",e[1]),i=!0)},p(e,[n]){e[0]?s?(s.p(e,n),1&n&&q(s,1)):(s=aO(e),s.c(),q(s,1),s.m(t.parentNode,t)):s&&(z(),H(s,1,1,(()=>{s=null})),K())},i(e){r||(q(s),r=!0)},o(e){H(s),r=!1},d(e){s&&s.d(e),e&&l(t),e&&l(n),i=!1,o()}}}function dO(e,t,n){let r=!1;return[r,()=>{n(0,r=!0)}]}class hO extends X{constructor(e){super(),Y(this,e,dO,fO,o,{})}}function pO(t){let n,r,i;return{c(){n=f("p"),r=h(t[1]),m(n,"style",i="-webkit-text-security:"+(t[0]?"circle":"none")+";margin:"+t[2]+";color:"+(t[3]?"black":"white")+";font-size:"+t[5]+"px;"+(t[0]?"circle":"none")+";height:"+t[4]+"px;"),m(n,"class","svelte-gamy86")},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){2&t&&b(r,e[1]),61&t&&i!==(i="-webkit-text-security:"+(e[0]?"circle":"none")+";margin:"+e[2]+";color:"+(e[3]?"black":"white")+";font-size:"+e[5]+"px;"+(e[0]?"circle":"none")+";height:"+e[4]+"px;")&&m(n,"style",i)},i:e,o:e,d(e){e&&l(n)}}}function gO(e,t,n){let{hide:r=!1}=t,{label:i}=t,{margin:o="auto"}=t,{dark:s=!1}=t,{labelWidth:a=124}=t,{labelHeight:u=28}=t,{fontSize:c=12}=t;return e.$$set=e=>{"hide"in e&&n(0,r=e.hide),"label"in e&&n(1,i=e.label),"margin"in e&&n(2,o=e.margin),"dark"in e&&n(3,s=e.dark),"labelWidth"in e&&n(6,a=e.labelWidth),"labelHeight"in e&&n(4,u=e.labelHeight),"fontSize"in e&&n(5,c=e.fontSize)},[r,i,o,s,u,c,a]}class vO extends X{constructor(e){super(),Y(this,e,gO,pO,o,{hide:0,label:1,margin:2,dark:3,labelWidth:6,labelHeight:4,fontSize:5})}}function yO(e){let t,n,r,i,o,s,a,d,h,g,y,b,w,E,A;return r=new Gk({props:{isLarge:mO,isSmall:!mO,innerComponent:zk}}),g=new vO({props:{label:"Create NFT",dark:!1}}),b=new hO({}),{c(){t=f("div"),n=f("div"),G(r.$$.fragment),i=p(),o=f("div"),s=f("h1"),s.innerHTML="nft<sub>ea</sub>",a=p(),d=f("div"),h=f("button"),G(g.$$.fragment),y=p(),G(b.$$.fragment),m(n,"id","menu-block"),S(n,"width",e[2]+"px"),S(n,"height",e[3]+"px"),m(s,"id","title"),m(o,"id","title-block"),S(o,"width",e[2]+"px"),S(o,"height",e[3]+"px"),m(h,"id","create-nft"),m(h,"class","svelte-7fh6zu"),m(d,"id","anchor-block"),S(d,"width",e[4]+"px"),S(d,"height",e[5]+"px"),m(t,"id","top-bar"),S(t,"width",e[0]+"px"),S(t,"height",e[1]+"px"),S(t,"z-index","111"),m(t,"class","svelte-7fh6zu")},m(l,f){c(l,t,f),u(t,n),J(r,n,null),u(t,i),u(t,o),u(o,s),u(t,a),u(t,d),u(d,h),J(g,h,null),u(d,y),J(b,d,null),w=!0,E||(A=v(h,"click",e[7]),E=!0)},p(e,[r]){(!w||4&r)&&S(n,"width",e[2]+"px"),(!w||8&r)&&S(n,"height",e[3]+"px"),(!w||4&r)&&S(o,"width",e[2]+"px"),(!w||8&r)&&S(o,"height",e[3]+"px"),(!w||16&r)&&S(d,"width",e[4]+"px"),(!w||32&r)&&S(d,"height",e[5]+"px"),(!w||1&r)&&S(t,"width",e[0]+"px"),(!w||2&r)&&S(t,"height",e[1]+"px")},i(e){w||(q(r.$$.fragment,e),q(g.$$.fragment,e),q(b.$$.fragment,e),w=!0)},o(e){H(r.$$.fragment,e),H(g.$$.fragment,e),H(b.$$.fragment,e),w=!1},d(e){e&&l(t),Z(r),Z(g),Z(b),E=!1,A()}}}let mO=!0;function bO(e,t,n){let r,i,o,s,a,u;Sk.subscribe((e=>{n(0,r=e.topBar.width),n(1,i=e.topBar.height),n(2,o=e.menuBlock.width),n(3,s=e.menuBlock.height),n(4,a=e.anchorBlock.width),n(5,u=e.anchorBlock.height)}));const c=()=>{Rk.set(!0),Uk.set(!0)};I((()=>{}));return[r,i,o,s,a,u,c,()=>{c()}]}class wO extends X{constructor(e){super(),Y(this,e,bO,yO,o,{})}}function SO(t){let n,r,i,o,s,a,f,h,p,g,v,y,b,w,S;return{c(){n=d("svg"),r=d("defs"),i=d("clipPath"),o=d("circle"),s=d("g"),a=d("g"),f=d("path"),h=d("path"),p=d("path"),g=d("path"),v=d("path"),y=d("path"),b=d("path"),w=d("path"),S=d("path"),m(o,"id","Ellipse_2"),m(o,"data-name","Ellipse 2"),m(o,"cx","10"),m(o,"cy","10"),m(o,"r","10"),m(o,"transform","translate(10 10)"),m(o,"fill","#fff"),m(o,"stroke","#707070"),m(o,"stroke-width","1"),m(i,"id","clip-path-avatar"),m(f,"id","Path_33"),m(f,"data-name","Path 33"),m(f,"d","M104.286,84.286h-10v-40h40v40H112.619c.024-.893.06-1.786.048-2.667-.012-.476.143-.631.607-.619,1.655.024,3.3.012,4.94.012h1.131a10.368,10.368,0,0,0-.012-1.071c-.048-.488.167-.643.619-.607a10.27,10.27,0,0,0,1.06.012c0-.44.012-.8-.012-1.143s.119-.56.512-.536.738.012,1.119.012V55.929h-1.643V54.25H119.31V52.56a8.288,8.288,0,0,0-.952.012c-.56.071-.7-.167-.69-.714.024-1.762.012-3.524.012-5.3,0-.2-.024-.417-.036-.607h-3.417v.631c0,.976,0,.976-.952.976h-.714a8.391,8.391,0,0,1-.012,1.238.655.655,0,0,1-.417.417,8.462,8.462,0,0,1-1.238.012A10.372,10.372,0,0,0,110.9,50.3c.048.488-.167.643-.619.607a10.275,10.275,0,0,0-1.06-.012c0,.44-.012.8.012,1.143s-.119.56-.512.536-.738-.012-1.131-.012v1.69h-1.679v1.679h-1.655v8.357l.024-.024H102.6v5.083h.857c.774,0,.774,0,.774.786,0,4.488,0,8.964.012,13.452C104.238,83.81,104.262,84.048,104.286,84.286Z"),m(f,"transform","translate(-94.286 -44.286)"),m(f,"fill","#fff"),m(h,"id","Path_34"),m(h,"data-name","Path 34"),m(h,"d","M104.286,84.286c-.024-.238-.048-.476-.048-.7-.012-4.488-.012-8.964-.012-13.452,0-.786,0-.786-.774-.786H102.6V64.262h1.69c.012.917.06,1.821.048,2.738-.012.44.143.607.583.571s.69-.012,1.1-.012a7.7,7.7,0,0,1-.012.929c-.083.6.131.81.75.774.893-.048.94,0,.893.9-.036.643.2.774.786.75.9-.036.9-.012.9.893a.893.893,0,0,1,0,.179c-.071.476.143.607.607.607q4.333-.036,8.69,0c.5,0,.643-.179.631-.655-.024-1.119-.071-1.012,1.036-1.024h.06c.4.048.571-.131.548-.548s0-1.071-.012-1.607c0-1.226.143-1.083-1.06-1.083-.75-.012-1.488,0-2.274,0,0-.464-.012-.821.012-1.179s-.119-.512-.488-.5-.738.012-1.19.012c0-.964-.036-1.845.024-2.738.036-.667-.369-.607-.8-.607s-.833-.06-.8.619c.06.881.024,1.762.024,2.726-.44,0-.786.012-1.143-.012s-.56.155-.536.56.012.7.012,1.071h-3.452v-.8c0-.821,0-.821-.8-.821h-.869v-2.4c0-.94,0-.94-.917-.929h-.179c-.333-.036-.476.119-.464.452s.012.774.012,1.155h-1.75V55.929h1.655l.071.06c0,1.417.036,2.845.012,4.274-.012.5.143.643.643.643,4.536-.012,9.083-.012,13.619,0,.5,0,.655-.143.643-.643-.012-1.429.012-2.845.012-4.274l.071-.06h1.643v21.75c-.381,0-.75.012-1.119-.012s-.524.155-.512.536.012.7.012,1.143a10.273,10.273,0,0,1-1.06-.012c-.452-.036-.667.119-.619.607a10.366,10.366,0,0,1,.012,1.071h-1.131c-1.643,0-3.286.012-4.94-.012-.464-.012-.619.143-.607.619.012.881-.024,1.774-.048,2.667h-1.667c-.024-1.369-.036-2.726-.048-4.1-.012-.869-.012-.893-.881-.857-.583.024-.81-.143-.786-.762.048-.9,0-.94-.881-.9-.571.024-.81-.143-.786-.762.048-.929,0-.9-.929-.929-.5-.012-.655.155-.643.643.024,2.286.012,4.56,0,6.845,0,.274-.024.548-.048.821Z"),m(h,"transform","translate(-94.286 -44.286)"),m(h,"fill","#110d8e"),m(p,"id","Path_35"),m(p,"data-name","Path 35"),m(p,"d","M105.952,84.286c.024-.274.048-.548.048-.821.012-2.286.024-4.56,0-6.845-.012-.488.143-.655.643-.643.929.024.976,0,.929.929-.024.619.214.786.786.762.881-.036.929,0,.881.9-.024.619.2.786.786.762.869-.036.869-.012.881.857.012,1.369.024,2.726.048,4.1Z"),m(p,"transform","translate(-94.286 -44.286)"),m(p,"fill","#fff"),m(g,"id","Path_36"),m(g,"data-name","Path 36"),m(g,"d","M107.6,54.25V52.56c.393,0,.762-.012,1.131.012s.524-.155.512-.536-.012-.7-.012-1.143a10.272,10.272,0,0,1,1.06.012c.452.036.667-.119.619-.607a10.372,10.372,0,0,1-.012-1.071,8.461,8.461,0,0,0,1.238-.012.655.655,0,0,0,.417-.417,8.393,8.393,0,0,0,.012-1.238h.714c.952,0,.952,0,.952-.976v-.631h3.417c.012.19.036.4.036.607,0,1.774.012,3.536-.012,5.3-.012.548.131.786.69.714a8.288,8.288,0,0,1,.952-.012v1.69l-.06.071c-.845,0-1.7.048-2.548.012-.548-.036-.738.143-.7.7.036.857.012,1.726.012,2.6h-1.786c0-.429,0-.8.012-1.167s-.131-.476-.464-.464H112.56a8.536,8.536,0,0,1,.012-.976c.071-.56-.155-.714-.7-.7-1.4.024-2.81-.012-4.214-.012Z"),m(g,"transform","translate(-94.286 -44.286)"),m(g,"fill","#ff07e6"),m(v,"id","Path_37"),m(v,"data-name","Path 37"),m(v,"d","M105.917,55.929V54.25H107.6l.06.071v1.667h-1.667Z"),m(v,"transform","translate(-94.286 -44.286)"),m(y,"id","Path_38"),m(y,"data-name","Path 38"),m(y,"d","M119.31,54.25h1.679v1.679l-.071.06H119.25V54.321Z"),m(y,"transform","translate(-94.286 -44.286)"),m(b,"id","Path_39"),m(b,"data-name","Path 39"),m(b,"d","M104.262,64.286h1.75c0-.381,0-.774-.012-1.155s.131-.488.464-.452h.179c.917-.012.917-.012.917.929v2.4h.869c.8,0,.8,0,.8.821v.8h3.452c0-.369.012-.726-.012-1.071s.107-.6.536-.56.7.012,1.143.012c0-.964.036-1.845-.024-2.726-.036-.679.357-.619.8-.619s.833-.06.8.607c-.06.893-.024,1.774-.024,2.738.452,0,.821.012,1.19-.012s.5.143.488.5-.012.714-.012,1.179c.786,0,1.524-.012,2.274,0,1.2,0,1.06-.143,1.06,1.083.012.536-.012,1.071.012,1.607s-.143.6-.548.548h-.06c-1.107.012-1.06-.1-1.036,1.024.012.476-.131.655-.631.655q-4.357-.036-8.69,0c-.464,0-.679-.131-.607-.607a.892.892,0,0,0,0-.179c0-.9,0-.929-.9-.893-.583.024-.821-.107-.786-.75.048-.9,0-.952-.893-.9-.619.036-.833-.179-.75-.774a7.7,7.7,0,0,0,.012-.929c-.4,0-.75-.012-1.1.012s-.6-.131-.583-.571c.012-.917-.036-1.821-.048-2.738Zm13.369,6.679v-1.69h-3.357v1.69Z"),m(b,"transform","translate(-94.286 -44.286)"),m(b,"fill","#fff"),m(w,"id","Path_40"),m(w,"data-name","Path 40"),m(w,"d","M119.25,54.321v1.667h1.667c0,1.429-.024,2.845-.012,4.274.012.5-.143.643-.643.643-4.536-.012-9.083-.012-13.619,0-.5,0-.655-.143-.643-.643.024-1.429-.012-2.857-.012-4.274h1.667V54.321c1.4,0,2.81.036,4.214.012.548-.012.774.143.7.7a8.532,8.532,0,0,0-.012.976h1.214c.333-.012.476.131.464.464s-.012.738-.012,1.167h1.786c0-.869.024-1.738-.012-2.6-.036-.56.155-.738.7-.7C117.548,54.369,118.4,54.321,119.25,54.321Z"),m(w,"transform","translate(-94.286 -44.286)"),m(w,"fill","#fff"),m(S,"id","Path_41"),m(S,"data-name","Path 41"),m(S,"d","M117.631,70.964h-3.357v-1.69h3.357Z"),m(S,"transform","translate(-94.286 -44.286)"),m(a,"id","punk"),m(s,"id","Mask_Group_2"),m(s,"data-name","Mask Group 2"),m(s,"transform","translate(-10 -10)"),m(s,"clip-path","url(#clip-path-avatar)"),m(n,"id","contact-avatar"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(n,"width","20"),m(n,"height","20"),m(n,"viewBox","0 0 20 20")},m(e,t){c(e,n,t),u(n,r),u(r,i),u(i,o),u(n,s),u(s,a),u(a,f),u(a,h),u(a,p),u(a,g),u(a,v),u(a,y),u(a,b),u(a,w),u(a,S)},p:e,d(e){e&&l(n)}}}function EO(e){let t,n,r,i,o,s,a,f,h,p,g,v,y,b,w;return{c(){t=d("svg"),n=d("defs"),r=d("clipPath"),i=d("circle"),o=d("g"),s=d("g"),a=d("path"),f=d("path"),h=d("path"),p=d("path"),g=d("path"),v=d("path"),y=d("path"),b=d("path"),w=d("path"),m(i,"id","Ellipse_2"),m(i,"data-name","Ellipse 2"),m(i,"cx","20"),m(i,"cy","20"),m(i,"r","20"),m(i,"fill","#fff"),m(i,"stroke","#707070"),m(i,"stroke-width","1"),m(r,"id","clip-path-large"),m(a,"id","Path_33"),m(a,"data-name","Path 33"),m(a,"d","M104.286,84.286h-10v-40h40v40H112.619c.024-.893.06-1.786.048-2.667-.012-.476.143-.631.607-.619,1.655.024,3.3.012,4.94.012h1.131a10.368,10.368,0,0,0-.012-1.071c-.048-.488.167-.643.619-.607a10.27,10.27,0,0,0,1.06.012c0-.44.012-.8-.012-1.143s.119-.56.512-.536.738.012,1.119.012V55.929h-1.643V54.25H119.31V52.56a8.288,8.288,0,0,0-.952.012c-.56.071-.7-.167-.69-.714.024-1.762.012-3.524.012-5.3,0-.2-.024-.417-.036-.607h-3.417v.631c0,.976,0,.976-.952.976h-.714a8.391,8.391,0,0,1-.012,1.238.655.655,0,0,1-.417.417,8.462,8.462,0,0,1-1.238.012A10.372,10.372,0,0,0,110.9,50.3c.048.488-.167.643-.619.607a10.275,10.275,0,0,0-1.06-.012c0,.44-.012.8.012,1.143s-.119.56-.512.536-.738-.012-1.131-.012v1.69h-1.679v1.679h-1.655v8.357l.024-.024H102.6v5.083h.857c.774,0,.774,0,.774.786,0,4.488,0,8.964.012,13.452C104.238,83.81,104.262,84.048,104.286,84.286Z"),m(a,"transform","translate(-94.286 -44.286)"),m(a,"fill","#fff"),m(f,"id","Path_34"),m(f,"data-name","Path 34"),m(f,"d","M104.286,84.286c-.024-.238-.048-.476-.048-.7-.012-4.488-.012-8.964-.012-13.452,0-.786,0-.786-.774-.786H102.6V64.262h1.69c.012.917.06,1.821.048,2.738-.012.44.143.607.583.571s.69-.012,1.1-.012a7.7,7.7,0,0,1-.012.929c-.083.6.131.81.75.774.893-.048.94,0,.893.9-.036.643.2.774.786.75.9-.036.9-.012.9.893a.893.893,0,0,1,0,.179c-.071.476.143.607.607.607q4.333-.036,8.69,0c.5,0,.643-.179.631-.655-.024-1.119-.071-1.012,1.036-1.024h.06c.4.048.571-.131.548-.548s0-1.071-.012-1.607c0-1.226.143-1.083-1.06-1.083-.75-.012-1.488,0-2.274,0,0-.464-.012-.821.012-1.179s-.119-.512-.488-.5-.738.012-1.19.012c0-.964-.036-1.845.024-2.738.036-.667-.369-.607-.8-.607s-.833-.06-.8.619c.06.881.024,1.762.024,2.726-.44,0-.786.012-1.143-.012s-.56.155-.536.56.012.7.012,1.071h-3.452v-.8c0-.821,0-.821-.8-.821h-.869v-2.4c0-.94,0-.94-.917-.929h-.179c-.333-.036-.476.119-.464.452s.012.774.012,1.155h-1.75V55.929h1.655l.071.06c0,1.417.036,2.845.012,4.274-.012.5.143.643.643.643,4.536-.012,9.083-.012,13.619,0,.5,0,.655-.143.643-.643-.012-1.429.012-2.845.012-4.274l.071-.06h1.643v21.75c-.381,0-.75.012-1.119-.012s-.524.155-.512.536.012.7.012,1.143a10.273,10.273,0,0,1-1.06-.012c-.452-.036-.667.119-.619.607a10.366,10.366,0,0,1,.012,1.071h-1.131c-1.643,0-3.286.012-4.94-.012-.464-.012-.619.143-.607.619.012.881-.024,1.774-.048,2.667h-1.667c-.024-1.369-.036-2.726-.048-4.1-.012-.869-.012-.893-.881-.857-.583.024-.81-.143-.786-.762.048-.9,0-.94-.881-.9-.571.024-.81-.143-.786-.762.048-.929,0-.9-.929-.929-.5-.012-.655.155-.643.643.024,2.286.012,4.56,0,6.845,0,.274-.024.548-.048.821Z"),m(f,"transform","translate(-94.286 -44.286)"),m(f,"fill","#110d8e"),m(h,"id","Path_35"),m(h,"data-name","Path 35"),m(h,"d","M105.952,84.286c.024-.274.048-.548.048-.821.012-2.286.024-4.56,0-6.845-.012-.488.143-.655.643-.643.929.024.976,0,.929.929-.024.619.214.786.786.762.881-.036.929,0,.881.9-.024.619.2.786.786.762.869-.036.869-.012.881.857.012,1.369.024,2.726.048,4.1Z"),m(h,"transform","translate(-94.286 -44.286)"),m(h,"fill","#fff"),m(p,"id","Path_36"),m(p,"data-name","Path 36"),m(p,"d","M107.6,54.25V52.56c.393,0,.762-.012,1.131.012s.524-.155.512-.536-.012-.7-.012-1.143a10.272,10.272,0,0,1,1.06.012c.452.036.667-.119.619-.607a10.372,10.372,0,0,1-.012-1.071,8.461,8.461,0,0,0,1.238-.012.655.655,0,0,0,.417-.417,8.393,8.393,0,0,0,.012-1.238h.714c.952,0,.952,0,.952-.976v-.631h3.417c.012.19.036.4.036.607,0,1.774.012,3.536-.012,5.3-.012.548.131.786.69.714a8.288,8.288,0,0,1,.952-.012v1.69l-.06.071c-.845,0-1.7.048-2.548.012-.548-.036-.738.143-.7.7.036.857.012,1.726.012,2.6h-1.786c0-.429,0-.8.012-1.167s-.131-.476-.464-.464H112.56a8.536,8.536,0,0,1,.012-.976c.071-.56-.155-.714-.7-.7-1.4.024-2.81-.012-4.214-.012Z"),m(p,"transform","translate(-94.286 -44.286)"),m(p,"fill","#ff07e6"),m(g,"id","Path_37"),m(g,"data-name","Path 37"),m(g,"d","M105.917,55.929V54.25H107.6l.06.071v1.667h-1.667Z"),m(g,"transform","translate(-94.286 -44.286)"),m(v,"id","Path_38"),m(v,"data-name","Path 38"),m(v,"d","M119.31,54.25h1.679v1.679l-.071.06H119.25V54.321Z"),m(v,"transform","translate(-94.286 -44.286)"),m(y,"id","Path_39"),m(y,"data-name","Path 39"),m(y,"d","M104.262,64.286h1.75c0-.381,0-.774-.012-1.155s.131-.488.464-.452h.179c.917-.012.917-.012.917.929v2.4h.869c.8,0,.8,0,.8.821v.8h3.452c0-.369.012-.726-.012-1.071s.107-.6.536-.56.7.012,1.143.012c0-.964.036-1.845-.024-2.726-.036-.679.357-.619.8-.619s.833-.06.8.607c-.06.893-.024,1.774-.024,2.738.452,0,.821.012,1.19-.012s.5.143.488.5-.012.714-.012,1.179c.786,0,1.524-.012,2.274,0,1.2,0,1.06-.143,1.06,1.083.012.536-.012,1.071.012,1.607s-.143.6-.548.548h-.06c-1.107.012-1.06-.1-1.036,1.024.012.476-.131.655-.631.655q-4.357-.036-8.69,0c-.464,0-.679-.131-.607-.607a.892.892,0,0,0,0-.179c0-.9,0-.929-.9-.893-.583.024-.821-.107-.786-.75.048-.9,0-.952-.893-.9-.619.036-.833-.179-.75-.774a7.7,7.7,0,0,0,.012-.929c-.4,0-.75-.012-1.1.012s-.6-.131-.583-.571c.012-.917-.036-1.821-.048-2.738Zm13.369,6.679v-1.69h-3.357v1.69Z"),m(y,"transform","translate(-94.286 -44.286)"),m(y,"fill","#fff"),m(b,"id","Path_40"),m(b,"data-name","Path 40"),m(b,"d","M119.25,54.321v1.667h1.667c0,1.429-.024,2.845-.012,4.274.012.5-.143.643-.643.643-4.536-.012-9.083-.012-13.619,0-.5,0-.655-.143-.643-.643.024-1.429-.012-2.857-.012-4.274h1.667V54.321c1.4,0,2.81.036,4.214.012.548-.012.774.143.7.7a8.532,8.532,0,0,0-.012.976h1.214c.333-.012.476.131.464.464s-.012.738-.012,1.167h1.786c0-.869.024-1.738-.012-2.6-.036-.56.155-.738.7-.7C117.548,54.369,118.4,54.321,119.25,54.321Z"),m(b,"transform","translate(-94.286 -44.286)"),m(b,"fill","#fff"),m(w,"id","Path_41"),m(w,"data-name","Path 41"),m(w,"d","M117.631,70.964h-3.357v-1.69h3.357Z"),m(w,"transform","translate(-94.286 -44.286)"),m(s,"id","punk"),m(o,"id","Mask_Group_2"),m(o,"data-name","Mask Group 2"),m(o,"clip-path","url(#clip-path-large)"),m(t,"id","contact-avatar"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(t,"width","20"),m(t,"height","20"),m(t,"viewBox","0 0 40 40"),m(t,"islarge",e[0])},m(e,l){c(e,t,l),u(t,n),u(n,r),u(r,i),u(t,o),u(o,s),u(s,a),u(s,f),u(s,h),u(s,p),u(s,g),u(s,v),u(s,y),u(s,b),u(s,w)},p(e,n){1&n&&m(t,"islarge",e[0])},d(e){e&&l(t)}}}function AO(t){let n;function r(e,t){return e[0]?EO:SO}let i=r(t),o=i(t);return{c(){n=f("div"),o.c(),m(n,"id","avatar-block"),S(n,"height",t[1]+"}px"),m(n,"class","svelte-q07bg0")},m(e,t){c(e,n,t),o.m(n,null)},p(e,[t]){i===(i=r(e))&&o?o.p(e,t):(o.d(1),o=i(e),o&&(o.c(),o.m(n,null))),2&t&&S(n,"height",e[1]+"}px")},i:e,o:e,d(e){e&&l(n),o.d()}}}function CO(e,t,n){let{isLarge:r}=t,{height:i=50}=t;return e.$$set=e=>{"isLarge"in e&&n(0,r=e.isLarge),"height"in e&&n(1,i=e.height)},[r,i]}class _O extends X{constructor(e){super(),Y(this,e,CO,AO,o,{isLarge:0,height:1})}}function xO(e){let t,n,r,i,o,s;return{c(){t=d("g"),n=d("g"),r=d("g"),i=d("g"),o=d("rect"),s=d("path"),m(o,"id","Rectangle_4"),m(o,"data-name","Rectangle 4"),m(o,"width","48"),m(o,"height","48"),m(o,"fill","#fff"),m(i,"id","Group_9"),m(i,"data-name","Group 9"),m(i,"opacity","0"),m(s,"id","Path_51"),m(s,"data-name","Path 51"),m(s,"d","M13,25.5a.9.9,0,0,1,.3-.7l1.8-1.6q.5-.3,0-.6a7.6,7.6,0,0,1-1.7-2.3.9.9,0,0,1,.3-1.4.8.8,0,0,1,1,.1c.2.1.4.4.6.6a7.6,7.6,0,0,0,5.2,3.5,11.7,11.7,0,0,0,7.4-.4,7.5,7.5,0,0,0,3.9-3.3,1,1,0,0,1,1-.6.9.9,0,0,1,.8,1.3,5.1,5.1,0,0,1-.9,1.6c-.2.2-.2.3,0,.5l2,1.7a1.1,1.1,0,0,1,.1,1.4,1.2,1.2,0,0,1-1.5.1l-2-1.8a.6.6,0,0,0-.7-.1,10.1,10.1,0,0,1-2.3,1.2c-.3.1-.3.2-.2.5l1,2.1a1.4,1.4,0,0,1-.1,1.1.9.9,0,0,1-1.6-.2c-.5-.8-.8-1.6-1.2-2.4s-.4-.5-.7-.4H22.8c-.4.1-.6.2-.6.6l-.6,2.5a1,1,0,0,1-1.2.7.9.9,0,0,1-.7-1.1c.1-.8.3-1.6.5-2.5s0-.5-.4-.6a6.3,6.3,0,0,1-2.3-.8.5.5,0,0,0-.6.1L15,25.9l-.6.5a.8.8,0,0,1-.9,0,1.1,1.1,0,0,1-.5-.9Z"),m(s,"fill","#6200ee"),m(r,"id","eye-closed-2"),m(r,"data-name","eye-closed"),m(r,"transform","translate(272 11)"),m(n,"id","eye-closed"),m(n,"clip-path-privacy","url(#clip-path-privacy)"),m(t,"id","icon-container"),m(t,"transform","translate(-272 -11)")},m(e,a){c(e,t,a),u(t,n),u(n,r),u(r,i),u(i,o),u(r,s)},d(e){e&&l(t)}}}function IO(e){let t,n,r;return{c(){t=d("g"),n=d("g"),r=d("path"),m(r,"id","eye-open-2"),m(r,"data-name","eye-open"),m(r,"d","M12,16.349a12.327,12.327,0,0,1-7.309-2.291A12.436,12.436,0,0,1,0,8.167,12.873,12.873,0,0,1,16.691.858,12.655,12.655,0,0,1,24,8.167a12.436,12.436,0,0,1-4.691,5.891A12.327,12.327,0,0,1,12,16.349ZM12,2.712a5.455,5.455,0,1,0,5.455,5.455A5.455,5.455,0,0,0,12,2.712Zm0,8.727A3.164,3.164,0,0,1,8.727,8.167a3.273,3.273,0,0,1,6.545,0A3.164,3.164,0,0,1,12,11.44Z"),m(r,"transform","translate(284 27.03)"),m(r,"fill","#6200ee"),m(n,"id","eye-open"),m(n,"clip-path-privacy","url(#clip-path-privacy)"),m(t,"id","icon-container"),m(t,"transform","translate(-272 -11)")},m(e,i){c(e,t,i),u(t,n),u(n,r)},d(e){e&&l(t)}}}function TO(t){let n,r,i,o,s,a;function h(e,t){return e[0]?IO:xO}let p=h(t),g=p(t);return{c(){n=f("div"),r=d("svg"),i=d("defs"),o=d("clipPath"),s=d("rect"),a=d("rect"),g.c(),m(s,"id","icon-box"),m(s,"width","48"),m(s,"height","48"),m(s,"transform","translate(272 11)"),m(s,"fill","rgba(255,255,255,0)"),m(a,"id","icon-box-closed"),m(a,"width","48"),m(a,"height","48"),m(a,"transform","translate(272 11)"),m(a,"fill","rgba(255,255,255,0)"),m(o,"id","clip-path-privacy"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(r,"xmlns:xlink","http://www.w3.org/1999/xlink"),m(r,"width","48"),m(r,"height","48"),m(r,"viewBox","0 0 48 48"),m(n,"id","eye")},m(e,t){c(e,n,t),u(n,r),u(r,i),u(i,o),u(o,s),u(o,a),g.m(r,null)},p(e,[t]){p!==(p=h(e))&&(g.d(1),g=p(e),g&&(g.c(),g.m(r,null)))},i:e,o:e,d(e){e&&l(n),g.d()}}}function PO(e,t,n){let{showHidden:r=!0}=t;return e.$$set=e=>{"showHidden"in e&&n(0,r=e.showHidden)},[r]}class kO extends X{constructor(e){super(),Y(this,e,PO,TO,o,{showHidden:0})}}function OO(t){let n,r,i;return{c(){n=f("p"),r=h(t[0]),m(n,"style",i="-webkit-text-security:"+(t[3]?"circle":"none")+";margin:"+t[1]+";color:"+(t[2]?"black":"white")+";font-size:"+t[4]+"px;"+(t[3]?"circle":"none")+";width:"+t[5]+"px;height:"+t[6]+"px;"),m(n,"class","svelte-vcmj7b")},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){1&t&&b(r,e[0]),126&t&&i!==(i="-webkit-text-security:"+(e[3]?"circle":"none")+";margin:"+e[1]+";color:"+(e[2]?"black":"white")+";font-size:"+e[4]+"px;"+(e[3]?"circle":"none")+";width:"+e[5]+"px;height:"+e[6]+"px;")&&m(n,"style",i)},i:e,o:e,d(e){e&&l(n)}}}function NO(e,t,n){let{label:r}=t,{margin:i="auto"}=t,{dark:o=!1}=t,{hide:s=!1}=t,{fontSize:a=12}=t,{labelWidth:u=124}=t,{labelHeight:c=28}=t;return e.$$set=e=>{"label"in e&&n(0,r=e.label),"margin"in e&&n(1,i=e.margin),"dark"in e&&n(2,o=e.dark),"hide"in e&&n(3,s=e.hide),"fontSize"in e&&n(4,a=e.fontSize),"labelWidth"in e&&n(5,u=e.labelWidth),"labelHeight"in e&&n(6,c=e.labelHeight)},[r,i,o,s,a,u,c]}class MO extends X{constructor(e){super(),Y(this,e,NO,OO,o,{label:0,margin:1,dark:2,hide:3,fontSize:4,labelWidth:5,labelHeight:6})}}function LO(e){let t,n,r,i,o,s,a,h,g,y,b,w,E,A,C,_,x,I,T,P,k;return r=new _O({props:{isLarge:!0}}),a=new vO({props:{label:e[0],dark:!0}}),g=new MO({props:{hide:!e[5],label:e[4],dark:!0}}),b=new MO({props:{hide:!e[5],label:e[1],dark:!0}}),C=new kO({props:{showHidden:e[5]}}),{c(){t=f("div"),n=f("div"),G(r.$$.fragment),i=p(),o=f("div"),s=f("div"),G(a.$$.fragment),h=p(),G(g.$$.fragment),y=p(),G(b.$$.fragment),w=p(),E=f("div"),A=f("button"),G(C.$$.fragment),_=p(),x=d("svg"),I=d("rect"),m(n,"id","contact-avatar-block"),S(n,"width","24px "),S(n,"height","24px "),m(n,"class","svelte-1d7dles"),m(s,"id","contact-label-block"),m(s,"class","svelte-1d7dles"),m(A,"id","showhidden"),m(E,"id","privacy-block"),m(E,"class","svelte-1d7dles"),m(I,"id","Devider_Light_"),m(I,"data-name","Devider / Light "),m(I,"width","100%"),m(I,"height","1"),m(I,"fill","rgba(0,0,0,0.12)"),m(x,"xmlns","http://www.w3.org/2000/svg"),m(x,"width","100%"),m(x,"height","1"),m(x,"viewBox","0 0 304 1"),m(o,"id","contact-block"),m(o,"class","svelte-1d7dles"),m(t,"id","contact-bar"),S(t,"width",e[2]+"px "),S(t,"height",e[3]+"px "),m(t,"class","svelte-1d7dles")},m(l,f){c(l,t,f),u(t,n),J(r,n,null),u(t,i),u(t,o),u(o,s),J(a,s,null),u(s,h),J(g,s,null),u(s,y),J(b,s,null),u(o,w),u(o,E),u(E,A),J(C,A,null),u(o,_),u(o,x),u(x,I),T=!0,P||(k=v(A,"click",e[6]),P=!0)},p(e,[n]){const r={};1&n&&(r.label=e[0]),a.$set(r);const i={};32&n&&(i.hide=!e[5]),16&n&&(i.label=e[4]),g.$set(i);const o={};32&n&&(o.hide=!e[5]),2&n&&(o.label=e[1]),b.$set(o);const s={};32&n&&(s.showHidden=e[5]),C.$set(s),(!T||4&n)&&S(t,"width",e[2]+"px "),(!T||8&n)&&S(t,"height",e[3]+"px ")},i(e){T||(q(r.$$.fragment,e),q(a.$$.fragment,e),q(g.$$.fragment,e),q(b.$$.fragment,e),q(C.$$.fragment,e),T=!0)},o(e){H(r.$$.fragment,e),H(a.$$.fragment,e),H(g.$$.fragment,e),H(b.$$.fragment,e),H(C.$$.fragment,e),T=!1},d(e){e&&l(t),Z(r),Z(a),Z(g),Z(b),Z(C),P=!1,k()}}}function RO(e,t,n){let{username:r=""}=t,{walletname:i=""}=t,{contactBarWidth:o}=t,{contactBarHeight:s}=t,{walletAddress:a=""}=t,u=!0;return e.$$set=e=>{"username"in e&&n(0,r=e.username),"walletname"in e&&n(1,i=e.walletname),"contactBarWidth"in e&&n(2,o=e.contactBarWidth),"contactBarHeight"in e&&n(3,s=e.contactBarHeight),"walletAddress"in e&&n(4,a=e.walletAddress)},[r,i,o,s,a,u,()=>{n(5,u=!u)}]}class UO extends X{constructor(e){super(),Y(this,e,RO,LO,o,{username:0,walletname:1,contactBarWidth:2,contactBarHeight:3,walletAddress:4})}}function DO(t){let n,r,i,o,s,a,f,h,p,g,v;return{c(){n=d("svg"),r=d("g"),i=d("path"),o=d("path"),s=d("path"),a=d("path"),f=d("path"),h=d("path"),p=d("path"),g=d("path"),v=d("path"),m(i,"id","Path_42"),m(i,"data-name","Path 42"),m(i,"d","M480.495,258.463H469.6a.15.15,0,0,1-.15-.15c.05-.25-.05-.55.05-.75s.45-.05.7-.05h20.889c.45,0,.45,0,.45.5v.3c0,.15-.05.15-.15.15Z"),m(i,"transform","translate(-468.501 -257.463)"),m(o,"id","Path_43"),m(o,"data-name","Path 43"),m(o,"d","M473.4,267.908h-1.249c-.3,0-.3,0-.3-.35v-.15c0-.15-.1-.3.05-.4s.25-.05.4-.05.15-.1.15-.2q-.05-1.649,0-3.3c0-.1-.05-.2-.2-.15H472a.15.15,0,0,1-.15-.15v-.1c0-.25-.15-.55.05-.7s.4,0,.6,0h2.149a1.4,1.4,0,0,1,1.249.8,1.248,1.248,0,0,1,.05.6,1,1,0,0,1-.7,1.2l-.15.1c-.1.05-.05.1,0,.15l.4.2a.9.9,0,0,1,.45.8v.35a1.282,1.282,0,0,1-1.249,1.349Zm.55-.95h.5c.4-.05.55-.2.55-.6s.05-.15,0-.25-.15-.45-.35-.45a4.711,4.711,0,0,0-1-.15.45.45,0,0,0-.3.3v.55c.05.2-.05.45.05.55s.4.05.55.05Zm.1-2.4h.35c.15-.05.35.05.45-.1s.2-.15.15-.3v-.65c0-.05-.1-.1-.1-.1a.828.828,0,0,0-.5-.15h-.65c-.4,0-.4,0-.4.4v.2c.05.2-.1.5.1.65s.4.05.6.05Z"),m(o,"transform","translate(-468.501 -257.463)"),m(s,"id","Path_44"),m(s,"data-name","Path 44"),m(s,"d","M487.891,265.159a11.28,11.28,0,0,1,0,1.3,1.4,1.4,0,0,1-.8,1.249,1.849,1.849,0,0,1-.7.2h-2.3c-.2,0-.25-.05-.2-.25v-.45c-.05-.25.05-.3.25-.25s.2-.1.2-.25v-3.1c0-.2,0-.35-.25-.3s-.25-.05-.2-.2-.1-.55,0-.7.45-.05.7-.05h1.7a1.6,1.6,0,0,1,1.6,1.6Zm-2.5-.05v1.1c0,.25-.05.55.05.7s.5,0,.7.05.35-.1.5-.2a1.25,1.25,0,0,0,.3-.7,11.442,11.442,0,0,0,0-1.849,1.049,1.049,0,0,0-.4-.8c-.15-.15-.35-.1-.55-.1h-.3c-.3,0-.3,0-.3.3Z"),m(s,"transform","translate(-468.501 -257.463)"),m(a,"id","Path_45"),m(a,"data-name","Path 45"),m(a,"d","M491.689,265.609v-6.746c0-.4,0-.4.45-.4h.1c.2-.05.3,0,.25.25v14.043c0,.05,0,.1-.1.1h-.65c-.05,0-.05-.05-.05-.1Z"),m(a,"transform","translate(-468.501 -257.463)"),m(f,"id","Path_46"),m(f,"data-name","Path 46"),m(f,"d","M469.351,265.609v6.7c0,.45,0,.45-.45.45h-.25c-.1,0-.15-.1-.15-.2a.65.65,0,0,0,.05-.3V258.912a.8.8,0,0,1,0-.35v-.1h.75c.1.05.05.15.05.25v6.9Z"),m(f,"transform","translate(-468.501 -257.463)"),m(h,"id","Path_47"),m(h,"data-name","Path 47"),m(h,"d","M479.945,267.908H478.3c-.15,0-.25,0-.2-.2s-.05-.5.05-.75h.7c.2,0,.5.05.6-.05s.05-.4.05-.6v-2.8c0-.15-.05-.2-.2-.2h-1c-.2,0-.2-.05-.2-.2s-.1-.55.05-.7.4-.05.65-.05h2.9c.1,0,.2,0,.2.15a1.964,1.964,0,0,1-.05.75c-.1.2-.45,0-.7.05s-.5-.15-.65.05-.05.4-.05.65v2.749c0,.15.05.2.2.2h1.2c.1.25,0,.5.05.75s-.1.2-.25.2Z"),m(h,"transform","translate(-468.501 -257.463)"),m(p,"id","Path_48"),m(p,"data-name","Path 48"),m(p,"d","M486.042,273.8h-5.1c-.35,0-.35,0-.35-.4s-.05-.55.5-.55h10.045c.4,0,.4,0,.4.4a1.651,1.651,0,0,1,0,.5c-.15.15-.4.05-.6.05Z"),m(p,"transform","translate(-468.501 -257.463)"),m(g,"id","Path_49"),m(g,"data-name","Path 49"),m(g,"d","M479.5,276.3v-2.149c0-.15,0-.25.2-.25s.55-.05.7.05.05.45.05.7V278.4c0,.15,0,.25-.2.25s-.55.05-.7-.05-.05-.45-.05-.65Z"),m(g,"transform","translate(-468.501 -257.463)"),m(v,"id","Path_50"),m(v,"data-name","Path 50"),m(v,"d","M471.549,273.7c-.6,0-1.249-.05-1.849,0s-.25-.1-.25-.3-.05-.45.05-.6.4-.05.6-.05h3.2c.3,0,.3,0,.3.3s.05.45-.05.6-.35.05-.55.05Z"),m(v,"transform","translate(-468.501 -257.463)"),m(r,"id","bid-round"),m(r,"transform","translate(0 0.004)"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","21.205"),m(n,"viewBox","0 0 24 21.205")},m(e,t){c(e,n,t),u(n,r),u(r,i),u(r,o),u(r,s),u(r,a),u(r,f),u(r,h),u(r,p),u(r,g),u(r,v)},p:e,i:e,o:e,d(e){e&&l(n)}}}class BO extends X{constructor(e){super(),Y(this,e,null,DO,o,{})}}function jO(e){let t,n,r,i,o,s,a,h;return o=new Gk({props:{isLarge:!1,isRound:!0,innerComponent:e[5]}}),a=new vO({props:{label:e[1],dark:!0}}),{c(){t=f("div"),n=d("svg"),r=d("rect"),i=p(),G(o.$$.fragment),s=p(),G(a.$$.fragment),m(r,"id","Devider_Light_"),m(r,"data-name","Devider / Light "),m(r,"width","100%"),m(r,"height","1"),m(r,"fill","rgba(0,0,0,0.12)"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","70%"),m(n,"height","1"),m(n,"viewBox","0 0 70% 1"),m(n,"class","svelte-qtjr43"),m(t,"id","menu-bar"),S(t,"width",e[3]+"px"),S(t,"height",e[2]+"px"),S(t,"background-color",e[0]),S(t,"display","flex"),S(t,"grid-gap",e[6]+"px"),S(t,"margin",e[4]),m(t,"class","svelte-qtjr43")},m(e,l){c(e,t,l),u(t,n),u(n,r),u(t,i),J(o,t,null),u(t,s),J(a,t,null),h=!0},p(e,[n]){const r={};32&n&&(r.innerComponent=e[5]),o.$set(r);const i={};2&n&&(i.label=e[1]),a.$set(i),(!h||8&n)&&S(t,"width",e[3]+"px"),(!h||4&n)&&S(t,"height",e[2]+"px"),(!h||1&n)&&S(t,"background-color",e[0]),(!h||64&n)&&S(t,"grid-gap",e[6]+"px"),(!h||16&n)&&S(t,"margin",e[4])},i(e){h||(q(o.$$.fragment,e),q(a.$$.fragment,e),h=!0)},o(e){H(o.$$.fragment,e),H(a.$$.fragment,e),h=!1},d(e){e&&l(t),Z(o),Z(a)}}}function FO(e,t,n){let{backgroundColor:r="white"}=t,{val:i}=t,{menuBarHeight:o=40}=t,{menuBarWidth:s=124}=t,{margin:a="auto"}=t,{innerComponent:u=BO}=t,{gridGap:c=20}=t;return e.$$set=e=>{"backgroundColor"in e&&n(0,r=e.backgroundColor),"val"in e&&n(1,i=e.val),"menuBarHeight"in e&&n(2,o=e.menuBarHeight),"menuBarWidth"in e&&n(3,s=e.menuBarWidth),"margin"in e&&n(4,a=e.margin),"innerComponent"in e&&n(5,u=e.innerComponent),"gridGap"in e&&n(6,c=e.gridGap)},[r,i,o,s,a,u,c]}class zO extends X{constructor(e){super(),Y(this,e,FO,jO,o,{backgroundColor:0,val:1,menuBarHeight:2,menuBarWidth:3,margin:4,innerComponent:5,gridGap:6})}}function KO(t){let n,r;return{c(){n=d("svg"),r=d("circle"),m(r,"id","list"),m(r,"cx","6"),m(r,"cy","6"),m(r,"r","6"),m(r,"fill","#4c6c8c"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","12"),m(n,"height","12"),m(n,"viewBox","0 0 12 12")},m(e,t){c(e,n,t),u(n,r)},p:e,i:e,o:e,d(e){e&&l(n)}}}class qO extends X{constructor(e){super(),Y(this,e,null,KO,o,{})}}function HO(t){let n,r,i,o;return{c(){n=d("svg"),r=d("rect"),i=d("path"),o=d("path"),m(r,"width","24"),m(r,"height","24"),S(r,"opacity","0"),m(i,"d","M7.2,6.8v.3a.8.8,0,0,1-.5,1,4.8,4.8,0,0,0-1.2,6.7l.4.5a4.9,4.9,0,0,0,6.9.3h.1A4.9,4.9,0,0,0,13,8.8l-.6-.5A1.2,1.2,0,0,1,11.8,7V6.1c0-.4,0-.5.4-.4a8.5,8.5,0,0,1,3.3,2.9,7,7,0,0,1-1.1,8.3,6.8,6.8,0,0,1-9.1.6A6.8,6.8,0,0,1,4,7.9,12.9,12.9,0,0,1,5.7,6.3l1.1-.6c.2-.1.4,0,.4.3v.8Z"),m(i,"transform","translate(2.5 1)"),m(o,"d","M10.5,7.7v3.6a.9.9,0,0,1-.7,1.1.9.9,0,0,1-1.3-.7.4.4,0,0,1-.1-.3V4.2a1.2,1.2,0,0,1,.5-1A1.1,1.1,0,0,1,10,3.1a1,1,0,0,1,.5,1V7.7Z"),m(o,"transform","translate(2.5 1)"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"viewBox","0 0 24 24")},m(e,t){c(e,n,t),u(n,r),u(n,i),u(n,o)},p:e,i:e,o:e,d(e){e&&l(n)}}}class VO extends X{constructor(e){super(),Y(this,e,null,HO,o,{})}}function WO(t){let n,r,i;return{c(){n=d("svg"),r=d("rect"),i=d("path"),m(r,"id","Boundary"),m(r,"width","24"),m(r,"height","24"),m(r,"fill","none"),m(i,"id","icon"),m(i,"d","M11.139,1.9A6.547,6.547,0,0,0,3.665.657L8.025,5l-3.014,3L.652,3.661a6.511,6.511,0,0,0,8.177,8.923l9.151,9.123a1,1,0,0,0,1.416,0l2.31-2.3a1,1,0,0,0,0-1.412L12.6,8.9A6.5,6.5,0,0,0,11.139,1.9Z"),m(i,"transform","translate(1 1)"),m(n,"id","icon_action_build_24px"),m(n,"data-name","icon/action/build_24px"),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","24"),m(n,"viewBox","0 0 24 24")},m(e,t){c(e,n,t),u(n,r),u(n,i)},p:e,i:e,o:e,d(e){e&&l(n)}}}class GO extends X{constructor(e){super(),Y(this,e,null,WO,o,{})}}const{ImageStore:JO}=function(e){var t;if(void 0!==cP)return console.warn("The schema has already been initialized"),fP;pP.log("validating schema",{schema:e});var n=nP({name:P_},e);pP.log("DataStore","Init models"),fP=AP(n),pP.log("DataStore","Models initialized");var r={name:T_,relationships:{},enums:{},nonModels:{},models:{Setting:{name:"Setting",pluralName:"Settings",syncable:!1,fields:{id:{name:"id",type:"ID",isRequired:!0,isArray:!1},key:{name:"key",type:"String",isRequired:!0,isArray:!1},value:{name:"value",type:"String",isRequired:!0,isArray:!1}}}}},i=DI.getNamespace(),o=tP.getNamespace();return dP=AP(r),hP=AP(i),lP=AP(o),cP={namespaces:(t={},t[r.name]=r,t[n.name]=n,t[i.name]=i,t[o.name]=o,t),version:e.version},Object.keys(cP.namespaces).forEach((function(e){var t,n,r=sP(E_(cP.namespaces[e]),2),i=r[0],o=r[1];cP.namespaces[e].relationships=i,cP.namespaces[e].keys=o;var s=new Map;Object.values(cP.namespaces[e].models).forEach((function(e){var t=[];Object.values(e.fields).filter((function(t){return t.association&&"BELONGS_TO"===t.association.connectionType&&t.type.model!==e.name})).forEach((function(e){return t.push(e.type.model)})),s.set(e.name,t)}));for(var a=new Map,u=1e3;u>0&&0!==s.size;){if(0===--u)throw new Error("Models are not topologically sortable. Please verify your schema.");try{for(var c=(t=void 0,aP(Array.from(s.keys()))),l=c.next();!l.done;l=c.next()){var f=l.value,d=s.get(f);d.every((function(e){return a.has(e)}))&&a.set(f,d)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}Array.from(a.keys()).forEach((function(e){return s.delete(e)}))}cP.namespaces[e].modelTopologicalOrdering=a})),fP}({models:{ImageStore:{name:"ImageStore",fields:{id:{name:"id",isArray:!1,type:"ID",isRequired:!0,attributes:[]},owner:{name:"owner",isArray:!1,type:"String",isRequired:!1,attributes:[]},description:{name:"description",isArray:!1,type:"String",isRequired:!1,attributes:[]},image:{name:"image",isArray:!1,type:"String",isRequired:!1,attributes:[]},price:{name:"price",isArray:!1,type:"String",isRequired:!1,attributes:[]},wallet:{name:"wallet",isArray:!1,type:"String",isRequired:!1,attributes:[]},prevOwner:{name:"prevOwner",isArray:!1,type:"String",isRequired:!1,attributes:[]},blockTime:{name:"blockTime",isArray:!1,type:"String",isRequired:!1,attributes:[]},nonce:{name:"nonce",isArray:!1,type:"String",isRequired:!1,attributes:[]},likes:{name:"likes",isArray:!1,type:"Int",isRequired:!1,attributes:[]},ownerName:{name:"ownerName",isArray:!1,type:"String",isRequired:!1,attributes:[]},ownerProfile:{name:"ownerProfile",isArray:!1,type:"String",isRequired:!1,attributes:[]},createdAt:{name:"createdAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0},updatedAt:{name:"updatedAt",isArray:!1,type:"AWSDateTime",isRequired:!1,attributes:[],isReadOnly:!0}},syncable:!0,pluralName:"ImageStores",attributes:[{type:"model",properties:{}},{type:"auth",properties:{rules:[{allow:"public",operations:["create","update","delete","read"]}]}}]}},enums:{},nonModels:{},version:"ce8c32682b1f72816ba22da8848d584e"}),ZO=KP([]),QO=(e,t,n,r,i,o,a)=>{const{subscribe:u,set:c}=KP({id:e,description:t,image:n,price:r,wallet:i,ownerName:o,previousOwner:a,active:!1});let l,f=s(ZO);try{l=f.find((t=>t.id===e))}catch(e){l=!1}return l||ZO.update((s=>s.concat({id:e,description:t,image:n,price:r,wallet:i,ownerName:o,previousOwner:a}))),c({id:e,description:t,image:n,price:r,wallet:i,ownerName:o,previousOwner:a}),[{subscribe:u},function(u,l){function f(u){c({id:e,description:t,image:n,price:r,wallet:i,ownerName:o,previousOwner:a}),function(t){let n=function(){let e=s(ZO);return e.forEach((e=>{e.active=!1})),ZO.update((e=>e)),e}(),r=n.find((t=>t.id===e));r.active=t,ZO.set(n)}(u)}return f(u),{update(e){f(e)}}}]},YO=async(e,t)=>{let n,r=e[0].name,[i,o]=r.split(".");switch(t){case"public":n="public";break;case"private":n="private";break;case"protected":n="protected"}const a=await eN(s(qP).username,"This is the first nft",`https://nftea-reach-project-storage171809-staging.s3.eu-west-2.amazonaws.com/public/${r}`,"1000","0x0","0x0","0","0",0,s(HP).name,"profile"),u=$O(r,e,o,n);return null!=a&&null!=a||null!=u&&null!=u},XO=async()=>{try{const e=await cS.list("",{progressCallback(e){console.log(`Uploaded: ${e.loaded}/${e.total}`)}});console.log("Get Store Result: ",e);return await tN()}catch(e){return console.log("GET STORE ERROR: ",e),""}},$O=async(e,t,n,r)=>{try{const i=await cS.put(e,t,{level:r,contentType:`image/${n}`},{progressCallback(e){console.log(`Uploading Image: ${e.loaded}/${e.total}`)}});return console.log("Upload to S3 Result: ",i),i}catch(e){return console.log("Upload to S3 ERROR: ",e),e}},eN=async(e,t,n,r,i="0x0",o="null",s="0",a="0",u=0,c,l="prof")=>{try{const f=await FP.save(new JO({owner:e,description:t,image:n,price:r,wallet:i,prevOwner:o,blockTime:s,nonce:a,likes:u,ownerName:c,ownerProfile:l}));return console.log("Upload Result: ",f),f}catch(e){return console.log("Upload Error: ",e),e}},tN=async()=>{try{const e=await FP.query(JO);return console.log("Query Result: ",e),e.map((async e=>{QO(e.id,e.description,await nN(e.image),e.price,e.wallet,e.ownerName,e.previousOwner)})),e}catch(e){return console.log("Query Error: ",e),e}},nN=async e=>{try{return await cS.get(e,{level:"public"})}catch(e){return console.log("Get Image Error: ",e),e}};function rN(t){let n,r,i,o;return{c(){n=f("div"),r=d("svg"),i=d("circle"),o=d("path"),m(i,"class","checkmark__circle svelte-1mo9gv0"),m(i,"cx","12"),m(i,"cy","12"),m(i,"r","12"),S(i,"fill","none"),m(o,"class","checkmark__check svelte-1mo9gv0"),m(o,"d","M20.3,26.6,23.7,30l8-8"),m(o,"transform","translate(-14 -14)"),S(o,"fill","none"),m(r,"class","checkmark svelte-1mo9gv0"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(r,"viewBox","0 0 24 24"),m(n,"class","successicon svelte-1mo9gv0"),S(n,"position",t[0]),S(n,"left","0"),S(n,"right","0"),S(n,"bottom","0"),S(n,"top","0")},m(e,t){c(e,n,t),u(n,r),u(r,i),u(r,o)},p(e,[t]){1&t&&S(n,"position",e[0])},i:e,o:e,d(e){e&&l(n)}}}function iN(e,t,n){let{position:r="relative"}=t;return e.$$set=e=>{"position"in e&&n(0,r=e.position)},[r]}class oN extends X{constructor(e){super(),Y(this,e,iN,rN,o,{position:0})}}function sN(t){let n,i,o,s,a,u,d,h;return i=new zO({props:{backgroundColor:"transparent",gridGap:"0",innerComponent:qO,menuBarWidth:"unset",val:"List NFT",margin:0}}),a=new zO({props:{backgroundColor:"transparent",gridGap:"0",innerComponent:qO,menuBarWidth:"unset",val:"Create NFT",margin:0}}),{c(){n=f("button"),G(i.$$.fragment),o=p(),s=f("button"),G(a.$$.fragment),m(n,"class","svelte-1aeqigv"),m(s,"class","svelte-1aeqigv")},m(e,r){c(e,n,r),J(i,n,null),c(e,o,r),c(e,s,r),J(a,s,null),u=!0,d||(h=[v(n,"click",t[10]),v(s,"click",t[11])],d=!0)},p:e,i(e){u||(q(i.$$.fragment,e),q(a.$$.fragment,e),u=!0)},o(e){H(i.$$.fragment,e),H(a.$$.fragment,e),u=!1},d(e){e&&l(n),Z(i),e&&l(o),e&&l(s),Z(a),d=!1,r(h)}}}function aN(e){let t,n,r,i,o,s,a,d,h;n=new XP({props:{containerWidth:e[1],inputWidth:(.85*e[1]).toFixed(2),$$slots:{"input-slot":[uN]},$$scope:{ctx:e}}}),i=new XP({props:{containerWidth:e[1],inputWidth:(.85*e[1]).toFixed(2),$$slots:{"input-slot":[cN]},$$scope:{ctx:e}}});let m=e[5]&&lN(e);return{c(){t=f("form"),G(n.$$.fragment),r=p(),G(i.$$.fragment),o=p(),m&&m.c(),s=g()},m(l,f){c(l,t,f),J(n,t,null),u(t,r),J(i,t,null),c(l,o,f),m&&m.m(l,f),c(l,s,f),a=!0,d||(h=v(t,"submit",y(e[7])),d=!0)},p(e,t){const r={};2&t&&(r.containerWidth=e[1]),2&t&&(r.inputWidth=(.85*e[1]).toFixed(2)),32776&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const o={};2&t&&(o.containerWidth=e[1]),2&t&&(o.inputWidth=(.85*e[1]).toFixed(2)),32768&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o),e[5]?m?(m.p(e,t),32&t&&q(m,1)):(m=lN(e),m.c(),q(m,1),m.m(s.parentNode,s)):m&&(z(),H(m,1,1,(()=>{m=null})),K())},i(e){a||(q(n.$$.fragment,e),q(i.$$.fragment,e),q(m),a=!0)},o(e){H(n.$$.fragment,e),H(i.$$.fragment,e),H(m),a=!1},d(e){e&&l(t),Z(n),Z(i),e&&l(o),m&&m.d(e),e&&l(s),d=!1,h()}}}function uN(t){let n,r,i;return{c(){n=f("input"),m(n,"slot","input-slot"),m(n,"class","input-rect-input svelte-1aeqigv"),m(n,"type","file"),m(n,"id","image"),m(n,"name","image"),m(n,"accept","image/*")},m(e,o){c(e,n,o),r||(i=v(n,"change",t[12]),r=!0)},p:e,d(e){e&&l(n),r=!1,i()}}}function cN(e){let t;return{c(){t=f("input"),m(t,"slot","input-slot"),m(t,"class","input-rect-input svelte-1aeqigv"),m(t,"type","submit"),t.value="Upload"},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function lN(e){let t,n,r,i={ctx:e,current:null,token:null,hasCatch:!1,pending:SN,then:dN,catch:fN,value:14,blocks:[,,,]};return V(n=YO(e[3],"public"),i),{c(){t=f("div"),i.block.c(),m(t,"id","result-container")},m(e,n){c(e,t,n),i.block.m(t,i.anchor=null),i.mount=()=>t,i.anchor=null,r=!0},p(t,r){e=t,i.ctx=e,8&r&&n!==(n=YO(e[3],"public"))&&V(n,i)||W(i,e,r)},i(e){r||(q(i.block),r=!0)},o(e){for(let e=0;e<3;e+=1){H(i.blocks[e])}r=!1},d(e){e&&l(t),i.block.d(),i.token=null,i=null}}}function fN(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function dN(e){let t,n,r,i;const o=[pN,hN],s=[];function a(e,t){return e[14]?0:1}return t=a(e),n=s[t]=o[t](e),{c(){n.c(),r=g()},m(e,n){s[t].m(e,n),c(e,r,n),i=!0},p(e,i){let u=t;t=a(e),t===u?s[t].p(e,i):(z(),H(s[u],1,1,(()=>{s[u]=null})),K(),n=s[t],n?n.p(e,i):(n=s[t]=o[t](e),n.c()),q(n,1),n.m(r.parentNode,r))},i(e){i||(q(n),i=!0)},o(e){H(n),i=!1},d(e){s[t].d(e),e&&l(r)}}}function hN(t){let n,r,i,o={ctx:t,current:null,token:null,hasCatch:!1,pending:yN,then:vN,catch:gN,value:14};return V(t[9](),o),{c(){n=f("p"),n.textContent="Something went wrong",r=p(),i=g(),o.block.c(),m(n,"class","message svelte-1aeqigv")},m(e,t){c(e,n,t),c(e,r,t),c(e,i,t),o.block.m(e,o.anchor=t),o.mount=()=>i.parentNode,o.anchor=i},p(e,n){t=e},i:e,o:e,d(e){e&&l(n),e&&l(r),e&&l(i),o.block.d(e),o.token=null,o=null}}}function pN(e){let t,n,r,i;t=new oN({props:{position:"absolute"}});let o={ctx:e,current:null,token:null,hasCatch:!1,pending:wN,then:bN,catch:mN,value:14};return V(e[9](),o),{c(){G(t.$$.fragment),n=p(),r=g(),o.block.c()},m(e,s){J(t,e,s),c(e,n,s),c(e,r,s),o.block.m(e,o.anchor=s),o.mount=()=>r.parentNode,o.anchor=r,i=!0},p(t,n){e=t},i(e){i||(q(t.$$.fragment,e),i=!0)},o(e){H(t.$$.fragment,e),i=!1},d(e){Z(t,e),e&&l(n),e&&l(r),o.block.d(e),o.token=null,o=null}}}function gN(t){return{c:e,m:e,d:e}}function vN(e){let t;return{c(){t=f("p"),m(t,"class","svelte-1aeqigv")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function yN(e){let t;return{c(){t=f("p"),m(t,"class","svelte-1aeqigv")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function mN(t){return{c:e,m:e,d:e}}function bN(e){let t;return{c(){t=f("p"),m(t,"class","svelte-1aeqigv")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function wN(e){let t;return{c(){t=f("p"),m(t,"class","svelte-1aeqigv")},m(e,n){c(e,t,n)},d(e){e&&l(t)}}}function SN(t){let n,r;return n=new tk({props:{isLarge:!0,dark:!0}}),{c(){G(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(q(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function EN(t){let n,r,i;return r=new zO({props:{backgroundColor:"transparent",gridGap:"0",innerComponent:GO,menuBarWidth:"unset",val:"Privacy & Settings",margin:0}}),{c(){n=f("button"),G(r.$$.fragment),m(n,"class","svelte-1aeqigv")},m(e,t){c(e,n,t),J(r,n,null),i=!0},p:e,i(e){i||(q(r.$$.fragment,e),i=!0)},o(e){H(r.$$.fragment,e),i=!1},d(e){e&&l(n),Z(r)}}}function AN(e){let t,n,r,i,o;r=new zO({props:{backgroundColor:"transparent",gridGap:"0",innerComponent:qO,menuBarWidth:"unset",val:"About US",margin:0}});let s=e[0].length>0&&CN(e);return{c(){t=f("div"),n=f("button"),G(r.$$.fragment),i=p(),s&&s.c(),m(n,"class","svelte-1aeqigv"),m(t,"id","second-container"),m(t,"class","svelte-1aeqigv")},m(e,a){c(e,t,a),u(t,n),J(r,n,null),u(t,i),s&&s.m(t,null),o=!0},p(e,n){e[0].length>0?s?(s.p(e,n),1&n&&q(s,1)):(s=CN(e),s.c(),q(s,1),s.m(t,null)):s&&(z(),H(s,1,1,(()=>{s=null})),K())},i(e){o||(q(r.$$.fragment,e),q(s),o=!0)},o(e){H(r.$$.fragment,e),H(s),o=!1},d(e){e&&l(t),Z(r),s&&s.d()}}}function CN(t){let n,r,i,o,s;return r=new zO({props:{backgroundColor:"transparent",gridGap:"0",innerComponent:VO,menuBarWidth:"unset",val:"SignOut",margin:0}}),{c(){n=f("button"),G(r.$$.fragment),m(n,"class","svelte-1aeqigv")},m(e,a){c(e,n,a),J(r,n,null),i=!0,o||(s=v(n,"click",t[13]),o=!0)},p:e,i(e){i||(q(r.$$.fragment,e),i=!0)},o(e){H(r.$$.fragment,e),i=!1},d(e){e&&l(n),Z(r),o=!1,s()}}}function _N(e){let t,n,r,i,o,s,a=!e[5]&&sN(e),d=e[4]&&aN(e),h=!e[5]&&EN(),g=!e[5]&&AN(e);return{c(){t=f("div"),n=f("div"),a&&a.c(),r=p(),d&&d.c(),i=p(),h&&h.c(),o=p(),g&&g.c(),m(n,"id","first-container"),m(n,"class","svelte-1aeqigv"),m(t,"id","menubar-container"),S(t,"width",e[1]+"px "),S(t,"height",e[2]+"px "),m(t,"class","svelte-1aeqigv")},m(e,l){c(e,t,l),u(t,n),a&&a.m(n,null),u(n,r),d&&d.m(n,null),u(n,i),h&&h.m(n,null),u(t,o),g&&g.m(t,null),s=!0},p(e,[o]){e[5]?a&&(z(),H(a,1,1,(()=>{a=null})),K()):a?(a.p(e,o),32&o&&q(a,1)):(a=sN(e),a.c(),q(a,1),a.m(n,r)),e[4]?d?(d.p(e,o),16&o&&q(d,1)):(d=aN(e),d.c(),q(d,1),d.m(n,i)):d&&(z(),H(d,1,1,(()=>{d=null})),K()),e[5]?h&&(z(),H(h,1,1,(()=>{h=null})),K()):h?(h.p(e,o),32&o&&q(h,1)):(h=EN(),h.c(),q(h,1),h.m(n,null)),e[5]?g&&(z(),H(g,1,1,(()=>{g=null})),K()):g?(g.p(e,o),32&o&&q(g,1)):(g=AN(e),g.c(),q(g,1),g.m(t,null)),(!s||2&o)&&S(t,"width",e[1]+"px "),(!s||4&o)&&S(t,"height",e[2]+"px ")},i(e){s||(q(a),q(d),q(h),q(g),s=!0)},o(e){H(a),H(d),H(h),H(g),s=!1},d(e){e&&l(t),a&&a.d(),d&&d.d(),h&&h.d(),g&&g.d()}}}function xN(e,t,n){let r,{username:i=""}=t,{menuBarContainerWidth:o}=t,{menuBarContainerHeight:s}=t,a=!1,u=!1;async function c(){try{await rl.signOut()}catch(e){}}const l=async()=>{await XO().then((async e=>{try{e.length>0&&console.log("LISTNFT: ",e)}catch(e){console.log("LISTNFT: ",e)}}))};x((()=>{Uk.subscribe((e=>{e&&n(4,a=e)}))}));return e.$$set=e=>{"username"in e&&n(0,i=e.username),"menuBarContainerWidth"in e&&n(1,o=e.menuBarContainerWidth),"menuBarContainerHeight"in e&&n(2,s=e.menuBarContainerHeight)},[i,o,s,r,a,u,c,async()=>{n(5,u=!0)},l,async()=>(setTimeout((()=>{n(4,a=!1),n(5,u=!1)}),2e3),!1),()=>{l()},()=>{n(4,a=!a)},function(){r=this.files,n(3,r)},()=>{c()}]}class IN extends X{constructor(e){super(),Y(this,e,xN,_N,o,{username:0,menuBarContainerWidth:1,menuBarContainerHeight:2})}}function TN(e){let t,n,r,i,o,s;return r=new UO({props:{username:e[8],walletAddress:e[9],walletname:e[10],contactBarWidth:e[4],contactBarHeight:e[5]}}),o=new IN({props:{username:e[8],menuBarContainerWidth:e[6],menuBarContainerHeight:e[7]}}),{c(){t=f("div"),n=f("div"),G(r.$$.fragment),i=p(),G(o.$$.fragment),m(n,"id","sidebar"),S(n,"width",e[2]+"px "),S(n,"height",e[3]+"px "),m(n,"class","svelte-10p59rv"),m(t,"id","sidebarBlock"),S(t,"width",e[0]+"px"),S(t,"height",e[1]+"px"),m(t,"class","svelte-10p59rv")},m(e,a){c(e,t,a),u(t,n),J(r,n,null),u(n,i),J(o,n,null),s=!0},p(e,[i]){const a={};256&i&&(a.username=e[8]),512&i&&(a.walletAddress=e[9]),1024&i&&(a.walletname=e[10]),16&i&&(a.contactBarWidth=e[4]),32&i&&(a.contactBarHeight=e[5]),r.$set(a);const u={};256&i&&(u.username=e[8]),64&i&&(u.menuBarContainerWidth=e[6]),128&i&&(u.menuBarContainerHeight=e[7]),o.$set(u),(!s||4&i)&&S(n,"width",e[2]+"px "),(!s||8&i)&&S(n,"height",e[3]+"px "),(!s||1&i)&&S(t,"width",e[0]+"px"),(!s||2&i)&&S(t,"height",e[1]+"px")},i(e){s||(q(r.$$.fragment,e),q(o.$$.fragment,e),s=!0)},o(e){H(r.$$.fragment,e),H(o.$$.fragment,e),s=!1},d(e){e&&l(t),Z(r),Z(o)}}}function PN(e,t,n){let r,i,o,s,a,u,c,l,f="",d="",h="";return x((()=>[_k.subscribe((e=>{n(0,r=e.sidebarBlock.width),n(1,i=e.sidebarBlock.height),e.sidebarBlock.top,n(2,o=e.sidebar.width),n(3,s=e.sidebar.height),n(4,a=e.contactBar.width),n(5,u=e.contactBar.height),n(6,c=e.menuBarContainer.width),n(7,l=e.menuBarContainer.height)})),HP.subscribe((e=>{n(8,f=e.name),console.log("USERNAME: ",e)})),VP.subscribe((e=>{n(9,d=e)})),WP.subscribe((e=>{n(10,h=e)}))])),[r,i,o,s,a,u,c,l,f,d,h]}class kN extends X{constructor(e){super(),Y(this,e,PN,TN,o,{})}}var ON="data:image/webp;base64,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/+b6t/1j7B366f8b02P3G99v96/8vqU/pn+t/bn3qf/D+5Xvq/zfqE/3f/mdbH6Ev7h+st/7f3O+Hj++/9392vau/9vsAf//22OnX7gf631Nedf8n/F85VtcNv/zznT7S/m/qL/k39S/zPqPwxuydA/5t/dP+n/gfXync/ReoB5heB1+U9Qf+j+kJ/veTD7J9gz9hvTp9hf7uf//3O/2+B+VNfEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59fEQefXxEHn18RB59eaqE08L7NHxvLtPlWN+bVcuRwiPaIIaAFgiIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+vgWrd0OJ3a7djYDOiR/t4gbQ94s7FhhG+NCmlQg2RPdODXerF2n0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9p9CbPafNtTp9bmFO6qVBr+k6qtWp6TTAnXa4v4bt/EU9niz2n0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9lYHusfLy2oNsRebLUQD3/C0A9ldQZHY8+viIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4h3Q7TcgqVWFLFPuGOy6fRuNwIo5XBQKmviIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4iDz6+Ig8+viIPPr4h67rMHr8nOgyzIC96PrVEvle2ABrqcbXOn0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9p9CbPafQmz2n0Js9p9CV+OIgMC6dikntJ1aSBi+6Nko5HfLEJZs9p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";function NN(t){let n,r,i;return{c(){n=f("button"),S(n,"width",t[2]+"px"),S(n,"height",t[1]+"px"),S(n,"background-image","url("+(t[0]?t[0]:ON)+")"),S(n,"background-repeat","no-repeat"),S(n,"background-size","contain"),S(n,"background-position","center"),S(n,"outline","none"),m(n,"class","svelte-162euad"),E(n,"active",t[3])},m(e,o){c(e,n,o),r||(i=v(n,"click",t[8]),r=!0)},p(e,[t]){4&t&&S(n,"width",e[2]+"px"),2&t&&S(n,"height",e[1]+"px"),1&t&&S(n,"background-image","url("+(e[0]?e[0]:ON)+")"),8&t&&E(n,"active",e[3])},i:e,o:e,d(e){e&&l(n),r=!1,i()}}}function MN(e,t,n){let r,{image:i}=t,{isLarge:o}=t,{imageHeight:s}=t,{imageWidth:a}=t,{nftValidator:u}=t,{nftSubscriber:c}=t,l=!1;const f=()=>{u(!l)};ZO.subscribe((e=>{e&&e.forEach((e=>{(function(e){try{return e.id===r}catch(t){return console.log("No Element",t,e),!1}})(e)&&(e.active?n(3,l=!0):n(3,l=!1))}))})),c.subscribe((e=>{r=e.id})),I((()=>[c,u,ZO]));return e.$$set=e=>{"image"in e&&n(0,i=e.image),"isLarge"in e&&n(5,o=e.isLarge),"imageHeight"in e&&n(1,s=e.imageHeight),"imageWidth"in e&&n(2,a=e.imageWidth),"nftValidator"in e&&n(6,u=e.nftValidator),"nftSubscriber"in e&&n(7,c=e.nftSubscriber)},[i,s,a,l,f,o,u,c,()=>{f()}]}class LN extends X{constructor(e){super(),Y(this,e,MN,NN,o,{image:0,isLarge:5,imageHeight:1,imageWidth:2,nftValidator:6,nftSubscriber:7})}}function RN(e){let t,n,r,i;return{c(){t=d("svg"),n=d("rect"),r=d("path"),i=d("path"),m(n,"id","bg"),m(n,"width","20"),m(n,"height","20"),m(n,"fill","none"),m(r,"id","Path_1"),m(r,"data-name","Path 1"),m(r,"d","M958,482.11a5.048,5.048,0,0,1-5-5.1,4.939,4.939,0,0,1,1.666-3.578,4.386,4.386,0,0,1,3.357-1.348c2.99.2,4.9,2.009,4.975,5.073A4.824,4.824,0,0,1,958,482.11Zm.882-3.8c-.1.2.172.466-.294.637s-.809.319-1.3-.245-.1-.49-.343-.613l-.172-.123c-.024.049-.1.123-.1.2a1.789,1.789,0,0,0,.2.907c.147.245.441.564.294.956s.049.368.319.368.466-.049.417-.392-.025-.294.1-.319.147.147.147.27v.123c-.025.27.1.343.367.319s.417-.024.368-.294a1.54,1.54,0,0,1,.466-1.054c.294-.319.147-1.029-.025-1.47a.882.882,0,0,0-1.054-.613c-.49.123-.76-.2-1-.515a.735.735,0,0,1,.588-1.2c.588-.049.686,0,.956.539a1.643,1.643,0,0,0,.2.417.22.22,0,0,0,.318-.049.99.99,0,0,0-.073-.907c-.221-.27-.441-.441-.392-.833s-.172-.27-.294-.343-.245.172-.343.245-.172.2-.368.049-.613-.417-.662.221-.2.417-.343.613-.417.564-.392.784a2.769,2.769,0,0,0,.515,1.127,1.384,1.384,0,0,0,.711.343c.245.074.417-.025.588.025A.976.976,0,0,1,958.88,478.312Z"),m(r,"transform","translate(-947.999 -472.083)"),m(r,"fill","#fff"),m(i,"id","Path_2"),m(i,"data-name","Path 2"),m(i,"d","M935.308,524.222a15.415,15.415,0,0,0-1.7.016,1.775,1.775,0,0,1-1.589-.67.826.826,0,0,0-.748-.28c-.576.016-1.137,0-1.713,0s-.561-.078-.561-.514V519.6c0-.421.094-.514.561-.514s.826.016,1.246,0a1.262,1.262,0,0,0,.857-.452l1.573-1.526c.467-.062.9-.4,1.417-.093s.421.047.421-.265-.016-.623,0-.935-.14-.716.078-.872.592-.047.9-.062h.156c.421,0,.421,0,.421.389V516.9c0,.343.125.452.452.467h.467c.608,0,.794.2.794.826v.311c0,.389,0,.389.358.7s.311.312.265.592.109.748-.265,1.059c-.125.109-.031.436-.047.67a3.857,3.857,0,0,1-.031.607.732.732,0,0,1-.327.327c-.249.187.156.265.062.452s-.016.3-.016.452c0,.623-.218.841-.857.857Zm-6-3.068v1.558c0,.2.031.28.249.265.5-.016.981.031,1.48,0a1.511,1.511,0,0,1,1.4.561,1.09,1.09,0,0,0,.935.374c.483-.016.981.016,1.48,0a2.12,2.12,0,0,0,.825-.062c-.094-.187-.218-.374-.3-.561s.156-.4.234-.607.062-.14-.078-.171a1.339,1.339,0,0,1-.561-.654.592.592,0,0,1,.078-.7c.062-.062,0-.249.016-.374s-.28-.483-.156-.794c0-.031-.047-.078-.078-.125s-.062.078-.078.125a3.271,3.271,0,0,0-.28.576c-.171.607-.67.888-1.106,1.246-.171.14-.343.062-.514.078s-.125-.062-.125-.156a.14.14,0,0,1,.125-.156c.919-.14,1.277-.841,1.589-1.589.125-.312.2-.639.312-.95a.14.14,0,0,1,.171-.109c.093.016.14.047.14.14-.031.4.218.763.171,1.184a.467.467,0,0,0,.5.545.4.4,0,0,0,.421-.421c.093-.794-.187-1.558-.171-2.352a.728.728,0,0,0-.592-.623c-.265-.031-.623-.156-.935-.187a1.474,1.474,0,0,0-1.417.545,16.788,16.788,0,0,1-1.526,1.355,1.028,1.028,0,0,1-.748.3,5.023,5.023,0,0,0-1.449.047c0,.483-.016.981-.016,1.464Zm7.632,1.044h1.168c.14,0,.249-.016.234-.2v-.545c-.016-.389-.109-.483-.483-.5a10.107,10.107,0,0,0-2.274.156.49.49,0,0,0-.343.7c.171.265.28.436.607.4A8.484,8.484,0,0,1,936.943,522.2Zm.5-1.542h0a5.025,5.025,0,0,1,.685,0c.249.047.483-.062.514-.234a2.366,2.366,0,0,0-.031-.981c-.016-.031-.094-.016-.14-.031a3.886,3.886,0,0,0-1.635-.156c-.545,0-.374.016-.358.389a3.379,3.379,0,0,0,.047.981Zm-.405,3.255h.623a.311.311,0,0,0,.358-.311,3.785,3.785,0,0,0,.016-.841c-.016-.078-.125-.062-.187-.094-.358-.265-.779-.093-1.168-.156s-.685.249-.95.53a.4.4,0,0,0-.031.28.934.934,0,0,0,.639.592C936.569,523.926,936.8,523.911,937.037,523.911Zm-.062-6.23a3.373,3.373,0,0,0-.779.047c.171.2.109.452.125.7v.078c0,.421,0,.421.467.421h.467c.888,0,.888,0,.779-.888,0-.016.016-.047,0-.078s-.14-.265-.312-.28S937.255,517.68,936.974,517.68Z"),m(i,"transform","translate(-924 -503.854)"),m(i,"fill","#fff"),m(t,"id","bid"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","20"),m(t,"height","20.394"),m(t,"viewBox","0 0 20 20.394")},m(e,o){c(e,t,o),u(t,n),u(t,r),u(t,i)},d(e){e&&l(t)}}}function UN(e){let t,n,r,i;return{c(){t=d("svg"),n=d("path"),r=d("path"),i=d("path"),m(n,"id","Path_21"),m(n,"data-name","Path 21"),m(n,"d","M936.5,539.2v-9.4c.1.05.1,0,.1-.05a.75.75,0,0,1,.3-.7,1.25,1.25,0,0,1,1-.45h21.244l.5.1a1.15,1.15,0,0,1,.85,1.15V539.3a.8.8,0,0,1-.1.5,1.3,1.3,0,0,1-1.2.7H937.9a.9.9,0,0,1-.5-.1,1.1,1.1,0,0,1-.8-1.1C936.6,539.247,936.6,539.2,936.5,539.2Zm16.446-8.148V537.9h1.75a5.047,5.047,0,0,0,1.5-.05l.65-.2c.1-.1.2-.15.25-.3a1.5,1.5,0,0,0,.25-.75v-4a1.55,1.55,0,0,0-.65-1.25l-.35-.15c-.25,0-.4-.15-.65-.1s-.4-.05-.6-.05Zm-4.1,3.449v-1.849a3.748,3.748,0,0,0-.2-.8c-.3-.3-.5-.6-.85-.7a1.9,1.9,0,0,0-.5-.15,1.8,1.8,0,0,0-.75-.1c-.1-.05-.15.05-.3.05a1.9,1.9,0,0,0-1.3.65,1.1,1.1,0,0,0-.4.75,8.994,8.994,0,0,1-.1,1.1c0,.5.05,1,0,1.5s.1,1,.1,1.5a1.4,1.4,0,0,0,.8,1.25,2.7,2.7,0,0,0,1.4.4l.45-.1a1.7,1.7,0,0,0,1.1-.5,1.6,1.6,0,0,0,.55-1.2Zm-9.1.95v.75a.849.849,0,0,0,.05.35c.05.15.05.3.1.5a.9.9,0,0,0,.25.35,2.1,2.1,0,0,0,1.6.65.65.65,0,0,0,.6-.05,2.848,2.848,0,0,0,1.1-.35.851.851,0,0,0,.3-.3,1.2,1.2,0,0,0,.25-.8v-.65a1.9,1.9,0,0,0-.15-.9.4.4,0,0,0-.1-.25,3.394,3.394,0,0,0-.6-.6,7.142,7.142,0,0,0-1.05-.6l-.3-.25a.7.7,0,0,1-.3-.6v-.25c0-.15.15-.25.3-.3h.25v.95h1.8a5.4,5.4,0,0,0,0-.9,1.4,1.4,0,0,0-.2-.65,1.55,1.55,0,0,0-1-.55l-.55-.1a.6.6,0,0,0-.5-.05,2.949,2.949,0,0,1-.65.1,2.2,2.2,0,0,0-.75.4,1.1,1.1,0,0,0-.45.85,2.3,2.3,0,0,0,.05,1.3.549.549,0,0,0,.15.4.949.949,0,0,0,.3.35l.35.3,1.05.7a.8.8,0,0,1,.4.3,1.449,1.449,0,0,1,.15.9.25.25,0,0,1-.15.25l-.2.1-.2-.1c-.1-.05-.05-.15-.05-.2v-1.1ZM951.4,536.5v-5.449h-1.849V537.9h3v-1.4Z"),m(n,"transform","translate(-936.5 -528.599)"),m(n,"fill","#4c6c8c"),m(r,"id","Path_22"),m(r,"data-name","Path 22"),m(r,"d","M973.3,544.9v-9c.3-.1.5.3.7.2s.3.1.2.3a19.385,19.385,0,0,0,.2,2.4,13.1,13.1,0,0,0,0,2.8c0,.8-.2,1.7-.2,2.5s-.2.3-.1.5-.3.1-.4.1Z"),m(r,"transform","translate(-955.337 -534.463)"),m(r,"fill","#4c6c8c"),m(i,"id","Path_23"),m(i,"data-name","Path 23"),m(i,"d","M957.2,535.7a9.7,9.7,0,0,1,.2,2.9v3.9a17.7,17.7,0,0,1-.1,2.3c0,.3-.3.1-.4.3s-.2,0-.3-.1a.8.8,0,0,1-.2-.6v-8.3c0-.2.3-.4.5-.4Z"),m(i,"transform","translate(-946.671 -534.502)"),m(i,"fill","#4c6c8c"),m(t,"id","sold"),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"width","50%"),m(t,"height","50%"),m(t,"viewBox","0 0 23.994 11.898")},m(e,o){c(e,t,o),u(t,n),u(t,r),u(t,i)},d(e){e&&l(t)}}}function DN(t){let n;function r(e,t){return e[0]?UN:RN}let i=r(t),o=i(t);return{c(){n=f("div"),o.c(),S(n,"width","100%"),S(n,"height","100%"),S(n,"margin","auto"),S(n,"display","flex")},m(e,t){c(e,n,t),o.m(n,null)},p(e,[t]){i!==(i=r(e))&&(o.d(1),o=i(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&l(n),o.d()}}}function BN(e,t,n){let{isLarge:r}=t,{cardHeight:i}=t;return e.$$set=e=>{"isLarge"in e&&n(0,r=e.isLarge),"cardHeight"in e&&n(1,i=e.cardHeight)},[r,i]}class jN extends X{constructor(e){super(),Y(this,e,BN,DN,o,{isLarge:0,cardHeight:1})}}function FN(e){let t,n;return t=new MO({props:{label:"$"+e[6],dark:e[2],margin:e[3],fontSize:"9",labelWidth:e[1]?124:(.4*e[7]).toFixed(2),labelHeight:(e[0]/2).toFixed(2)}}),{c(){G(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};64&n&&(r.label="$"+e[6]),4&n&&(r.dark=e[2]),8&n&&(r.margin=e[3]),130&n&&(r.labelWidth=e[1]?124:(.4*e[7]).toFixed(2)),1&n&&(r.labelHeight=(e[0]/2).toFixed(2)),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function zN(e){let t,n,r,i,o,s,a,d,h;n=new _O({props:{isLarge:e[1],height:e[0]}}),o=new vO({props:{label:e[5],dark:e[2],margin:e[3],fontSize:"9",labelWidth:e[1]?124:(.4*e[7]).toFixed(2),labelHeight:(e[0]/2).toFixed(2)}});let g=e[1]&&FN(e);return d=new jN({props:{isLarge:e[1],cardHeight:e[0]}}),{c(){t=f("div"),G(n.$$.fragment),r=p(),i=f("div"),G(o.$$.fragment),s=p(),g&&g.c(),a=p(),G(d.$$.fragment),m(i,"id","card-label-box"),S(i,"margin","auto"),S(i,"display","flex"),S(i,"flex-direction",e[1]?"column":"row"),m(i,"class","svelte-1peeir"),m(t,"id","card-header"),S(t,"height",e[0]+"px"),S(t,"position",e[4]),S(t,"background-color",e[1]?"white":"#00000042"),m(t,"class","svelte-1peeir")},m(e,l){c(e,t,l),J(n,t,null),u(t,r),u(t,i),J(o,i,null),u(i,s),g&&g.m(i,null),u(t,a),J(d,t,null),h=!0},p(e,[r]){const s={};2&r&&(s.isLarge=e[1]),1&r&&(s.height=e[0]),n.$set(s);const a={};32&r&&(a.label=e[5]),4&r&&(a.dark=e[2]),8&r&&(a.margin=e[3]),130&r&&(a.labelWidth=e[1]?124:(.4*e[7]).toFixed(2)),1&r&&(a.labelHeight=(e[0]/2).toFixed(2)),o.$set(a),e[1]?g?(g.p(e,r),2&r&&q(g,1)):(g=FN(e),g.c(),q(g,1),g.m(i,null)):g&&(z(),H(g,1,1,(()=>{g=null})),K()),(!h||2&r)&&S(i,"flex-direction",e[1]?"column":"row");const u={};2&r&&(u.isLarge=e[1]),1&r&&(u.cardHeight=e[0]),d.$set(u),(!h||1&r)&&S(t,"height",e[0]+"px"),(!h||16&r)&&S(t,"position",e[4]),(!h||2&r)&&S(t,"background-color",e[1]?"white":"#00000042")},i(e){h||(q(n.$$.fragment,e),q(o.$$.fragment,e),q(g),q(d.$$.fragment,e),h=!0)},o(e){H(n.$$.fragment,e),H(o.$$.fragment,e),H(g),H(d.$$.fragment,e),h=!1},d(e){e&&l(t),Z(n),Z(o),g&&g.d(),Z(d)}}}function KN(e,t,n){let r,{isLarge:i=!0}=t,{labelDark:o=!1}=t,{labelMargin:s="auto"}=t,{position:a="absolute"}=t,{label:u}=t,{price:c}=t,{cardHeight:l}=t;return i?(r=406,l=70):r=166,e.$$set=e=>{"isLarge"in e&&n(1,i=e.isLarge),"labelDark"in e&&n(2,o=e.labelDark),"labelMargin"in e&&n(3,s=e.labelMargin),"position"in e&&n(4,a=e.position),"label"in e&&n(5,u=e.label),"price"in e&&n(6,c=e.price),"cardHeight"in e&&n(0,l=e.cardHeight)},[l,i,o,s,a,u,c,r]}class qN extends X{constructor(e){super(),Y(this,e,KN,zN,o,{isLarge:1,labelDark:2,labelMargin:3,position:4,label:5,price:6,cardHeight:0})}}function HN(e){let t,n,r,i;return t=new zO({props:{menuBarWidth:(.7*e[6]).toFixed(2),menuBarHeight:(.075*e[5]).toFixed(2),backgroundColor:"var(--primary-bright)",val:"$1000"}}),r=new zO({props:{menuBarWidth:(.7*e[6]).toFixed(2),menuBarHeight:(.075*e[5]).toFixed(2),backgroundColor:"var(--inactive-component)",val:"$900"}}),{c(){G(t.$$.fragment),n=p(),G(r.$$.fragment)},m(e,o){J(t,e,o),c(e,n,o),J(r,e,o),i=!0},p(e,n){const i={};64&n&&(i.menuBarWidth=(.7*e[6]).toFixed(2)),32&n&&(i.menuBarHeight=(.075*e[5]).toFixed(2)),t.$set(i);const o={};64&n&&(o.menuBarWidth=(.7*e[6]).toFixed(2)),32&n&&(o.menuBarHeight=(.075*e[5]).toFixed(2)),r.$set(o)},i(e){i||(q(t.$$.fragment,e),q(r.$$.fragment,e),i=!0)},o(e){H(t.$$.fragment,e),H(r.$$.fragment,e),i=!1},d(e){Z(t,e),e&&l(n),Z(r,e)}}}function VN(e){let t,n,r,i,o,s,a;r=new LN({props:{nftSubscriber:e[9],nftValidator:e[10],image:e[1],isLarge:e[3],imageHeight:(.6*e[5]).toFixed(2),imageWidth:e[6]}}),o=new qN({props:{price:e[2],id:e[0],isLarge:e[3],labelDark:e[4],labelMargin:0,position:"relative",cardHeight:e[3]?(.1*e[5]).toFixed(2):(.23*e[5]).toFixed(2)}});let d=e[3]&&HN(e);return{c(){t=f("li"),n=f("div"),G(r.$$.fragment),i=p(),G(o.$$.fragment),s=p(),d&&d.c(),m(n,"id","nft-card"),S(n,"width",e[6]+"px"),S(n,"height",e[5]+"px"),S(n,"background-image","linear-gradient(58deg, rgb(15, 48, 74), rgb(14 39 75))"),S(n,"position","relative"),m(n,"class","svelte-1xp0azg"),m(t,"id","nft-card-container"),S(t,"width",e[7]+"px"),S(t,"height",e[8]+"px"),m(t,"class","svelte-1xp0azg")},m(e,l){c(e,t,l),u(t,n),J(r,n,null),u(n,i),J(o,n,null),u(n,s),d&&d.m(n,null),a=!0},p(e,[i]){const s={};2&i&&(s.image=e[1]),8&i&&(s.isLarge=e[3]),32&i&&(s.imageHeight=(.6*e[5]).toFixed(2)),64&i&&(s.imageWidth=e[6]),r.$set(s);const u={};4&i&&(u.price=e[2]),1&i&&(u.id=e[0]),8&i&&(u.isLarge=e[3]),16&i&&(u.labelDark=e[4]),40&i&&(u.cardHeight=e[3]?(.1*e[5]).toFixed(2):(.23*e[5]).toFixed(2)),o.$set(u),e[3]?d?(d.p(e,i),8&i&&q(d,1)):(d=HN(e),d.c(),q(d,1),d.m(n,null)):d&&(z(),H(d,1,1,(()=>{d=null})),K()),(!a||64&i)&&S(n,"width",e[6]+"px"),(!a||32&i)&&S(n,"height",e[5]+"px"),(!a||128&i)&&S(t,"width",e[7]+"px"),(!a||256&i)&&S(t,"height",e[8]+"px")},i(e){a||(q(r.$$.fragment,e),q(o.$$.fragment,e),q(d),a=!0)},o(e){H(r.$$.fragment,e),H(o.$$.fragment,e),H(d),a=!1},d(e){e&&l(t),Z(r),Z(o),d&&d.d()}}}function WN(e,t,n){let{id:r}=t,{description:i}=t,{image:o}=t,{price:s}=t,{wallet:a}=t,{ownerName:u}=t,{previousOwner:c}=t,{isLarge:l=!1}=t,{labelDark:f=!1}=t,{cardHeight:d}=t,{cardWidth:h}=t,{containerWidth:p}=t,{containerHeight:g}=t;const[v,y]=QO(r,i,o,s,a,u,c);return I((()=>{})),e.$$set=e=>{"id"in e&&n(0,r=e.id),"description"in e&&n(11,i=e.description),"image"in e&&n(1,o=e.image),"price"in e&&n(2,s=e.price),"wallet"in e&&n(12,a=e.wallet),"ownerName"in e&&n(13,u=e.ownerName),"previousOwner"in e&&n(14,c=e.previousOwner),"isLarge"in e&&n(3,l=e.isLarge),"labelDark"in e&&n(4,f=e.labelDark),"cardHeight"in e&&n(5,d=e.cardHeight),"cardWidth"in e&&n(6,h=e.cardWidth),"containerWidth"in e&&n(7,p=e.containerWidth),"containerHeight"in e&&n(8,g=e.containerHeight)},[r,o,s,l,f,d,h,p,g,v,y,i,a,u,c]}class GN extends X{constructor(e){super(),Y(this,e,WN,VN,o,{id:0,description:11,image:1,price:2,wallet:12,ownerName:13,previousOwner:14,isLarge:3,labelDark:4,cardHeight:5,cardWidth:6,containerWidth:7,containerHeight:8})}}function JN(e,t,n){const r=e.slice();return r[8]=t[n],r}function ZN(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function QN(e){let t,n,r,i,o,s=e[2],a=[];for(let t=0;t<s.length;t+=1)a[t]=YN(JN(e,s,t));const d=e=>H(a[e],1,1,(()=>{a[e]=null}));return{c(){t=f("div"),n=f("ul");for(let e=0;e<a.length;e+=1)a[e].c();r=p(),i=f("button"),S(n,"height",e[1]+"px"),S(n,"width",e[0]+"px"),S(n,"padding","0"),S(n,"grid-auto-flow","row"),S(n,"grid-gap","18px"),S(n,"overflow","auto"),S(n,"margin","auto"),S(n,"display","grid"),S(n,"justify-content","center"),m(t,"id","nft-list"),S(t,"width",e[0]+"px"),S(t,"height",e[1]+"px"),m(t,"class","svelte-10lu17o")},m(e,s){c(e,t,s),u(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);u(t,r),u(t,i),o=!0},p(e,r){if(4&r){let t;for(s=e[2],t=0;t<s.length;t+=1){const i=JN(e,s,t);a[t]?(a[t].p(i,r),q(a[t],1)):(a[t]=YN(i),a[t].c(),q(a[t],1),a[t].m(n,null))}for(z(),t=s.length;t<a.length;t+=1)d(t);K()}(!o||2&r)&&S(n,"height",e[1]+"px"),(!o||1&r)&&S(n,"width",e[0]+"px"),(!o||1&r)&&S(t,"width",e[0]+"px"),(!o||2&r)&&S(t,"height",e[1]+"px")},i(e){if(!o){for(let e=0;e<s.length;e+=1)q(a[e]);o=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)H(a[e]);o=!1},d(e){e&&l(t),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(a,e)}}}function YN(e){let t,n;return t=new GN({props:{id:e[8].id,description:e[8].description,image:e[8].image,price:e[8].price,wallet:e[8].wallet,ownerName:e[8].ownerName,previousOwner:e[8].previousOwner}}),{c(){G(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.id=e[8].id),4&n&&(r.description=e[8].description),4&n&&(r.image=e[8].image),4&n&&(r.price=e[8].price),4&n&&(r.wallet=e[8].wallet),4&n&&(r.ownerName=e[8].ownerName),4&n&&(r.previousOwner=e[8].previousOwner),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function XN(t){let n,r;return n=new tk({}),{c(){G(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(q(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function $N(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!1,pending:XN,then:QN,catch:ZN,value:7,blocks:[,,,]};return V(XO(),r),{c(){t=g(),r.block.c()},m(e,i){c(e,t,i),r.block.m(e,r.anchor=i),r.mount=()=>t.parentNode,r.anchor=t,n=!0},p(t,[n]){W(r,e=t,n)},i(e){n||(q(r.block),n=!0)},o(e){for(let e=0;e<3;e+=1){H(r.blocks[e])}n=!1},d(e){e&&l(t),r.block.d(e),r.token=null,r=null}}}function eM(e,t,n){let r,{nftListWidth:i}=t,{nftCardWidth:o}=t,{nftListHeight:s}=t,{nftCardHeight:a}=t,{nftContainerListWidth:u}=t,{nftContainerListHeight:c}=t;return x((()=>{ZO.subscribe((e=>{console.log("NFTLIST: ",e),e&&n(2,r=e)}))})),e.$$set=e=>{"nftListWidth"in e&&n(0,i=e.nftListWidth),"nftCardWidth"in e&&n(3,o=e.nftCardWidth),"nftListHeight"in e&&n(1,s=e.nftListHeight),"nftCardHeight"in e&&n(4,a=e.nftCardHeight),"nftContainerListWidth"in e&&n(5,u=e.nftContainerListWidth),"nftContainerListHeight"in e&&n(6,c=e.nftContainerListHeight)},[i,s,r,o,a,u,c]}class tM extends X{constructor(e){super(),Y(this,e,eM,$N,o,{nftListWidth:0,nftCardWidth:3,nftListHeight:1,nftCardHeight:4,nftContainerListWidth:5,nftContainerListHeight:6})}}function nM(e){let t,n,r;return n=new tM({props:{nftListWidth:e[0],nftListHeight:e[1],nftContainerListWidth:e[2],nftContainerListHeight:e[3],nftCardWidth:e[4],nftCardHeight:e[5]}}),{c(){t=f("div"),G(n.$$.fragment),m(t,"id","bottom-block"),S(t,"width",e[0]+"px"),S(t,"height",e[1]+"px"),m(t,"class","svelte-bbhp2u")},m(e,i){c(e,t,i),J(n,t,null),r=!0},p(e,[i]){const o={};1&i&&(o.nftListWidth=e[0]),2&i&&(o.nftListHeight=e[1]),4&i&&(o.nftContainerListWidth=e[2]),8&i&&(o.nftContainerListHeight=e[3]),16&i&&(o.nftCardWidth=e[4]),32&i&&(o.nftCardHeight=e[5]),n.$set(o),(!r||1&i)&&S(t,"width",e[0]+"px"),(!r||2&i)&&S(t,"height",e[1]+"px")},i(e){r||(q(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){e&&l(t),Z(n)}}}function rM(e,t,n){let r,i,o,s,a,u;const c=Ck.subscribe((e=>{n(0,r=e.bottomBlock.width),n(1,i=e.bottomBlock.height),e.bodyNav.width,e.bodyNav.height,e.nftList.width,e.nftList.height,n(4,a=e.nftCard.width),n(5,u=e.nftCard.height),n(2,o=e.nftListContainer.width),n(3,s=e.nftListContainer.height)}));return I((()=>c)),[r,i,o,s,a,u]}class iM extends X{constructor(e){super(),Y(this,e,rM,nM,o,{})}}function oM(e){let t,n;return t=new GN({props:{label:e[7],price:e[8],owner:e[9],image:e[10],cardWidth:e[4],cardHeight:e[5],isLarge:!0,labelDark:!0}}),{c(){G(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.label=e[7]),256&n&&(r.price=e[8]),512&n&&(r.owner=e[9]),1024&n&&(r.image=e[10]),16&n&&(r.cardWidth=e[4]),32&n&&(r.cardHeight=e[5]),t.$set(r)},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function sM(e){let t,n,r,i,o,s=e[6]&&oM(e);return{c(){t=f("div"),n=f("div"),s&&s.c(),r=p(),i=f("button"),i.textContent="BID",m(i,"class","svelte-1rvaezb"),m(n,"id","bid-box"),S(n,"width",e[2]+"px"),S(n,"height",e[3]+"px"),S(n,"background-color","#0b213b"),S(n,"position","relative"),m(n,"class","svelte-1rvaezb"),m(t,"id","upper-left-block"),S(t,"width",e[0]+"px"),S(t,"height",e[1]+"px"),m(t,"class","svelte-1rvaezb"),E(t,"active",e[6])},m(e,a){c(e,t,a),u(t,n),s&&s.m(n,null),u(n,r),u(n,i),o=!0},p(e,[i]){e[6]?s?(s.p(e,i),64&i&&q(s,1)):(s=oM(e),s.c(),q(s,1),s.m(n,r)):s&&(z(),H(s,1,1,(()=>{s=null})),K()),(!o||4&i)&&S(n,"width",e[2]+"px"),(!o||8&i)&&S(n,"height",e[3]+"px"),(!o||1&i)&&S(t,"width",e[0]+"px"),(!o||2&i)&&S(t,"height",e[1]+"px"),64&i&&E(t,"active",e[6])},i(e){o||(q(s),o=!0)},o(e){H(s),o=!1},d(e){e&&l(t),s&&s.d()}}}function aM(e,t,n){let r,i,o,s,a,u,c,l,f,d,h=!1;const p=Ek.subscribe((e=>{n(0,r=e.upperLeftBlock.width),n(1,i=e.upperLeftBlock.height),e.upperLeftBlock.top,n(2,o=e.bidBox.width),n(3,s=e.bidBox.height),e.bodyNav.width,e.bodyNav.height,n(4,a=e.nftCard.width),n(5,u=e.nftCard.height)}));return x((()=>ZO.subscribe((e=>{console.log("UpperCont: ",e);let t=e.find((e=>!0===e.active));t&&(n(6,h=t.active),n(7,c=t.label),n(8,l=t.price),n(9,f=t.owner),n(10,d=t.pic))})))),I((()=>p)),[r,i,o,s,a,u,h,c,l,f,d]}class uM extends X{constructor(e){super(),Y(this,e,aM,sM,o,{})}}function cM(t){return{c:e,m:e,p:e,i:e,o:e,d:e}}function lM(e){let t,n,r,i;const o=[dM,fM],s=[];function a(e,t){return e[0]?0:e[0]?-1:1}return~(n=a(e))&&(r=s[n]=o[n](e)),{c(){t=f("main"),r&&r.c(),S(t,"grid-template-columns",e[3]+"px "+e[1]+"px "+e[2]+"px"),m(t,"class","svelte-zrwasc")},m(e,r){c(e,t,r),~n&&s[n].m(t,null),i=!0},p(e,u){let c=n;n=a(e),n!==c&&(r&&(z(),H(s[c],1,1,(()=>{s[c]=null})),K()),~n?(r=s[n],r||(r=s[n]=o[n](e),r.c()),q(r,1),r.m(t,null)):r=null),(!i||14&u)&&S(t,"grid-template-columns",e[3]+"px "+e[1]+"px "+e[2]+"px")},i(e){i||(q(r),i=!0)},o(e){H(r),i=!1},d(e){e&&l(t),~n&&s[n].d()}}}function fM(e){let t,n,r,i,o,s;return t=new kN({}),r=new iM({}),o=new uM({}),{c(){G(t.$$.fragment),n=p(),G(r.$$.fragment),i=p(),G(o.$$.fragment)},m(e,a){J(t,e,a),c(e,n,a),J(r,e,a),c(e,i,a),J(o,e,a),s=!0},i(e){s||(q(t.$$.fragment,e),q(r.$$.fragment,e),q(o.$$.fragment,e),s=!0)},o(e){H(t.$$.fragment,e),H(r.$$.fragment,e),H(o.$$.fragment,e),s=!1},d(e){Z(t,e),e&&l(n),Z(r,e),e&&l(i),Z(o,e)}}}function dM(e){let t,n;return t=new mk({}),{c(){G(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(q(t.$$.fragment,e),n=!0)},o(e){H(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function hM(t){let n,r;return n=new tk({}),{c(){G(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(q(n.$$.fragment,e),r=!0)},o(e){H(n.$$.fragment,e),r=!1},d(e){Z(n,e)}}}function pM(e){let t,n,r,i,o,s;t=new wO({});let a={ctx:e,current:null,token:null,hasCatch:!1,pending:hM,then:lM,catch:cM,value:9,blocks:[,,,]};return V(GP(),a),{c(){G(t.$$.fragment),n=p(),r=g(),a.block.c()},m(u,l){J(t,u,l),c(u,n,l),c(u,r,l),a.block.m(u,a.anchor=l),a.mount=()=>r.parentNode,a.anchor=r,i=!0,o||(s=v(window,"resize",e[5]),o=!0)},p(t,[n]){W(a,e=t,n)},i(e){i||(q(t.$$.fragment,e),q(a.block),i=!0)},o(e){H(t.$$.fragment,e);for(let e=0;e<3;e+=1){H(a.blocks[e])}i=!1},d(e){Z(t,e),e&&l(n),e&&l(r),a.block.d(e),a.token=null,a=null,o=!1,s()}}}function gM(e,t,n){let r,i,o,s=!0,a=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);bk.set({isMob:a});const[u,c]=(()=>{const{subscribe:e,set:t}=wk;return[{subscribe:e},function(e,n){function r(e){t({width:e[0],height:e[1],isLarge:e[0]>732}),Nk(e),Ik(e),Tk(e),Pk(e),kk(e),Ok(e)}return r([window.innerWidth,window.innerHeight]),{update(e){r(e)}}}]})(),l=()=>{c()};c(),x((()=>[ve.listen("auth",(e=>{e.payload.event,"signOut"===e.payload.event&&(qP.set(""),HP.set({name:""}),n(0,s=!0))})),ve.listen("storage",(e=>{})),qP.subscribe((e=>{try{null===e.signInUserSession||void 0===e.signInUserSession?n(0,s=!0):(HP.set({name:e.attributes.name}),n(0,s=!1))}catch(e){n(0,s=!0)}})),xk.subscribe((e=>{n(3,o=e.left),n(1,r=e.center),n(2,i=e.right)}))]));return[s,r,i,o,l,()=>{l()}]}ae.configure({aws_project_region:"eu-west-2",aws_cognito_identity_pool_id:"eu-west-2:e1197f07-3a7d-4b0a-b079-71cc0c1f11dc",aws_cognito_region:"eu-west-2",aws_user_pools_id:"eu-west-2_LT6qEs4aT",aws_user_pools_web_client_id:"6v3fhg0j96i7k7lr222cm9hfmb",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL","PHONE_NUMBER","NAME"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:["REQUIRES_LOWERCASE","REQUIRES_NUMBERS","REQUIRES_SYMBOLS","REQUIRES_UPPERCASE"]},aws_cognito_verification_mechanisms:["EMAIL"],aws_user_files_s3_bucket:"nftea-reach-project-storage171809-staging",aws_user_files_s3_bucket_region:"eu-west-2",aws_appsync_graphqlEndpoint:"https://4q26z2gtrfcwbdveu2ahevclgi.appsync-api.eu-west-2.amazonaws.com/graphql",aws_appsync_region:"eu-west-2",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-xll7m74rovailnbghewp6fx3km"});return new class extends X{constructor(e){super(),Y(this,e,gM,pM,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
